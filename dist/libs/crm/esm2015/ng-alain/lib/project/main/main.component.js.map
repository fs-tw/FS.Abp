{"version":3,"file":"main.component.js","sourceRoot":"../../../../../libs/crm/ng-alain/src/","sources":["lib/project/main/main.component.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAU,SAAS,EAAE,MAAM,eAAe,CAAC;AAC7D,OAAO,EAAE,WAAW,EAAE,MAAM,cAAc,CAAC;AAC3C,OAAO,EAAE,KAAK,EAAE,MAAM,aAAa,CAAC;AACpC,OAAO,EAAY,WAAW,EAAY,MAAM,eAAe,CAAC;AAChE,OAAO,EAAE,cAAc,EAAE,MAAM,qBAAqB,CAAC;AAErD,OAAO,EAAE,kBAAkB,EAAE,MAAM,kBAAkB,CAAC;AAOtD,MAAM,OAAO,aAAa;IAmBxB,YACkB,IAAiB,EACzB,cAAkC,EAClC,KAAY,EACZ,YAA4B;QAHpB,SAAI,GAAJ,IAAI,CAAa;QACzB,mBAAc,GAAd,cAAc,CAAoB;QAClC,UAAK,GAAL,KAAK,CAAO;QACZ,iBAAY,GAAZ,YAAY,CAAgB;QApBtC,YAAO,GAAe;YACpB,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAC;YAC3B,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,aAAa,EAAC;YACrC,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,mBAAmB,EAAE;YAC9C,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,YAAY,EAAC;YAChC,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,cAAc,EAAE;YACzC,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,oBAAoB,EAAE;YAC9C,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,oBAAoB,EAAE;YAC9C,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAG,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,OAAO,EAAE,GAAG,EAAE,EAAC;SAIxF,CAAC;QAEF,UAAK,GAAG,EAAE,CAAC;QACX,UAAK,GAAG,CAAC,CAAC;IAOV,CAAC;IAGD,QAAQ;QACN,MAAM,oBAAoB,GAAG,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;QAEzF,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,oBAAoB,CAAC,CAAC,SAAS,CAAC,GAAG,CAAA,EAAE;YACzD,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;YACvB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,UAAU,CAAC;QAC9B,CAAC,CAAC,CAAA;IAEJ,CAAC;IAGD,WAAW;IACX,CAAC;;;YA7CF,SAAS,SAAC;gBACT,mGAAoC;gBAEpC,SAAS,EAAC,CAAC,WAAW,CAAC;;aACxB;;;YAXQ,WAAW;YAKX,kBAAkB;YAJlB,KAAK;YAEL,cAAc;;;iBAWpB,SAAS,SAAC,IAAI,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE","sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ListService } from '@abp/ng.core';\r\nimport { Store } from '@ngxs/store';\r\nimport { STModule, STComponent, STColumn } from '@delon/abc/st';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport * as _ from 'lodash';\r\nimport { ProjectsApiService } from '@fs-tw/crm/proxy';\r\n\r\n@Component({\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.less'],\r\n  providers:[ListService]\r\n})\r\nexport class MainComponent implements OnInit {\r\n \r\n  @ViewChild('st', { static: false }) private st: STComponent;\r\n  columns: STColumn[] = [\r\n    { title: '編號', index: 'no'},\r\n    { title: '計畫別', index: 'projectType'},\r\n    { title: '計畫別備註', index: 'projectTypeRemark' },\r\n    {title:'負責人',index:'employeeId'},\r\n    { title: '已結案狀態', index: 'projectState' },\r\n    { title: '狀態說明', index: 'projectStateRemark' },\r\n    { title: '狀態說明', index: 'projectStateRemark' },\r\n    { title: \"O'Star\", index: 'isStar',  type: 'enum', enum: { 'true': '是', 'false': '否' }},\r\n    \r\n    \r\n    \r\n  ];\r\n\r\n  datas = [];\r\n  count = 0;\r\n  constructor(\r\n    public readonly list: ListService,\r\n    private projectService: ProjectsApiService,\r\n    private store: Store,\r\n    private modalService: NzModalService,\r\n  ) {\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n    const projectStreamCreator = query => this.projectService.getListByProjectGetList(query);\r\n\r\n    this.list.hookToQuery(projectStreamCreator).subscribe(res=>{\r\n      this.datas = res.items;\r\n      this.count = res.totalCount;\r\n    })\r\n\r\n  }\r\n  \r\n\r\n  ngOnDestroy() {\r\n  }\r\n}\r\n"]}