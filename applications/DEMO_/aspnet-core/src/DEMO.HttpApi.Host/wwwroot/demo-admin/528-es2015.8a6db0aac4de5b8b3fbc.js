(window.webpackJsonp=window.webpackJsonp||[]).push([[528],{rpQi:function(e,t,i){"use strict";i.r(t),i.d(t,"AbstractOrganizationUnitComponent",function(){return Bt}),i.d(t,"ClaimsComponent",function(){return Dt}),i.d(t,"CreateClaimType",function(){return wt}),i.d(t,"CreateRole",function(){return Ct}),i.d(t,"CreateUser",function(){return jt}),i.d(t,"DEFAULT_IDENTITY_CREATE_FORM_PROPS",function(){return Zi}),i.d(t,"DEFAULT_IDENTITY_EDIT_FORM_PROPS",function(){return Gi}),i.d(t,"DEFAULT_IDENTITY_ENTITY_ACTIONS",function(){return Ai}),i.d(t,"DEFAULT_IDENTITY_ENTITY_PROPS",function(){return Ri}),i.d(t,"DEFAULT_IDENTITY_TOOLBAR_ACTIONS",function(){return ji}),i.d(t,"DeleteClaimType",function(){return Ot}),i.d(t,"DeleteRole",function(){return kt}),i.d(t,"DeleteUser",function(){return At}),i.d(t,"GetClaimTypeById",function(){return Nt}),i.d(t,"GetClaimTypes",function(){return St}),i.d(t,"GetOrganizationUnits",function(){return Mt}),i.d(t,"GetRoleById",function(){return It}),i.d(t,"GetRoles",function(){return vt}),i.d(t,"GetUserById",function(){return zt}),i.d(t,"GetUserRoles",function(){return Zt}),i.d(t,"GetUsers",function(){return xt}),i.d(t,"IDENTITY_CREATE_FORM_PROP_CONTRIBUTORS",function(){return Fi}),i.d(t,"IDENTITY_EDIT_FORM_PROP_CONTRIBUTORS",function(){return Ei}),i.d(t,"IDENTITY_ENTITY_ACTION_CONTRIBUTORS",function(){return Mi}),i.d(t,"IDENTITY_ENTITY_PROP_CONTRIBUTORS",function(){return Li}),i.d(t,"IDENTITY_TOOLBAR_ACTION_CONTRIBUTORS",function(){return qi}),i.d(t,"IdentityClaimTypeService",function(){return qt}),i.d(t,"IdentityClaimValueType",function(){return Yi}),i.d(t,"IdentityExtensionsGuard",function(){return Vi}),i.d(t,"IdentityModule",function(){return $i}),i.d(t,"IdentityRoleService",function(){return Lt}),i.d(t,"IdentitySecurityLogService",function(){return ai}),i.d(t,"IdentitySettingsService",function(){return Hi}),i.d(t,"IdentityState",function(){return Vt}),i.d(t,"IdentityStateService",function(){return _i}),i.d(t,"IdentityUserLookupService",function(){return Xi}),i.d(t,"IdentityUserService",function(){return Ft}),i.d(t,"ORGANIZATION_UNIT_CONFIG",function(){return Qt}),i.d(t,"OrganizationMembersComponent",function(){return $t}),i.d(t,"OrganizationRolesComponent",function(){return Yt}),i.d(t,"OrganizationUnitService",function(){return Et}),i.d(t,"OrganizationUnitsComponent",function(){return Wt}),i.d(t,"ProfileService",function(){return Ji}),i.d(t,"RolesComponent",function(){return Ht}),i.d(t,"SecurityLogsComponent",function(){return oi}),i.d(t,"UnlockUser",function(){return Gt}),i.d(t,"UpdateClaimType",function(){return Ut}),i.d(t,"UpdateRole",function(){return Tt}),i.d(t,"UpdateUser",function(){return Rt}),i.d(t,"UsersComponent",function(){return ti}),i.d(t,"eIdentityTwoFactorBehaviour",function(){return Xt}),i.d(t,"identityClaimValueTypeOptions",function(){return Wi}),i.d(t,"identityTwoFactorBehaviourOptions",function(){return Jt}),i.d(t,"\u02750",function(){return Pt}),i.d(t,"\u02751",function(){return Kt}),i.d(t,"\u0275a",function(){return Ht}),i.d(t,"\u0275bd",function(){return ti}),i.d(t,"\u0275be",function(){return Pi}),i.d(t,"\u0275bf",function(){return Dt}),i.d(t,"\u0275bg",function(){return Wt}),i.d(t,"\u0275bh",function(){return $t}),i.d(t,"\u0275bi",function(){return Qt}),i.d(t,"\u0275bj",function(){return Bt}),i.d(t,"\u0275bk",function(){return Di}),i.d(t,"\u0275bl",function(){return Yt}),i.d(t,"\u0275bm",function(){return Qi}),i.d(t,"\u0275bn",function(){return oi}),i.d(t,"\u0275bo",function(){return ai}),i.d(t,"\u0275bp",function(){return Ki}),i.d(t,"\u0275bq",function(){return Vi}),i.d(t,"\u0275br",function(){return Mi}),i.d(t,"\u0275bs",function(){return qi}),i.d(t,"\u0275bt",function(){return Li}),i.d(t,"\u0275bu",function(){return Fi}),i.d(t,"\u0275bv",function(){return Ei}),i.d(t,"\u0275c",function(){return Vt}),i.d(t,"\u0275d",function(){return Lt}),i.d(t,"\u0275e",function(){return Ft}),i.d(t,"\u0275f",function(){return qt}),i.d(t,"\u0275g",function(){return Et}),i.d(t,"\u0275h",function(){return vt}),i.d(t,"\u0275i",function(){return kt}),i.d(t,"\u0275j",function(){return Ct}),i.d(t,"\u0275k",function(){return Tt}),i.d(t,"\u0275l",function(){return St}),i.d(t,"\u0275m",function(){return Nt}),i.d(t,"\u0275n",function(){return Ot}),i.d(t,"\u0275o",function(){return wt}),i.d(t,"\u0275p",function(){return Ut}),i.d(t,"\u0275q",function(){return xt}),i.d(t,"\u0275r",function(){return At}),i.d(t,"\u0275s",function(){return jt}),i.d(t,"\u0275t",function(){return Rt}),i.d(t,"\u0275u",function(){return Zt}),i.d(t,"\u0275v",function(){return Gt}),i.d(t,"\u0275w",function(){return Mt});var n=i("mrSG"),a=i("HmNo"),o=i("1REP"),c=i("J7bl"),r=i("fXoL"),s=i("AcyG"),l=i("vkgz"),d=i("wO+i"),p=i("IzEk"),b=i("nYR2"),u=i("eIep"),m=i("lJxs"),h=i("CqXF"),g=i("1kSV"),y=i("YF2q"),f=i("nxWG"),v=i("LRne"),I=i("ofXK");const k=["menu"];function C(e,t){1&e&&r.Wb(0)}function T(e,t){1&e&&r.Wb(0)}function S(e,t){}function N(e,t){1&e&&r.Qc(0,S,0,0,"ng-template")}const O=function(e){return{$implicit:e}};function w(e,t){if(1&e){const e=r.bc();r.ac(0,"div",11,12),r.kc("abpInit",function(){r.Ic(e);const t=r.Fc(1),i=r.oc().$implicit;return r.oc(2).initDropdown(i.key,t)}),r.Vb(2,"i",13),r.ac(3,"div",14),r.Qc(4,N,1,0,void 0,6),r.Zb(),r.Zb()}if(2&e){const e=r.oc().$implicit,t=r.oc(2);r.Gb(2),r.Mb("dropdown-toggle",!1),r.Gb(2),r.vc("ngTemplateOutlet",t.menu)("ngTemplateOutletContext",r.zc(4,O,e))}}function U(e,t){if(1&e&&(r.ac(0,"div",9),r.Qc(1,T,1,0,"ng-container",6),r.Zb(),r.Qc(2,w,5,6,"div",10)),2&e){const e=t.$implicit;r.oc();const i=r.Fc(5),n=r.oc();r.Gb(1),r.vc("ngTemplateOutlet",n.customNodeTemplate?null==n.customNodeTemplate?null:n.customNodeTemplate.template:i)("ngTemplateOutletContext",r.zc(3,O,e)),r.Gb(1),r.vc("ngIf",n.menu)}}function x(e,t){if(1&e&&(r.ac(0,"span"),r.Sc(1),r.Zb()),2&e){const e=t.$implicit;r.Gb(1),r.Tc(e.title)}}function z(e,t){if(1&e){const e=r.bc();r.ac(0,"div",5),r.kc("click",function(){r.Ic(e);const i=t.$implicit;return r.oc().onSelectedNodeChange(i)}),r.Qc(1,C,1,0,"ng-container",6),r.Qc(2,U,3,5,"ng-template",null,7,r.Rc),r.Qc(4,x,2,1,"ng-template",null,8,r.Rc),r.Zb()}if(2&e){const e=t.$implicit,i=r.Fc(3),n=r.oc();r.Mb("selected",n.isNodeSelected(e)),r.vc("title",e.title),r.Gb(1),r.vc("ngTemplateOutlet",i)("ngTemplateOutletContext",r.zc(5,O,e))}}function A(e,t){1&e&&r.Wb(0)}function j(e,t){if(1&e&&(r.ac(0,"i",15),r.Qc(1,A,1,0,"ng-container",16),r.Zb()),2&e){const e=t.$implicit;r.oc();const i=r.Fc(6),n=r.Fc(8);r.Gb(1),r.vc("ngTemplateOutlet",e.isExpanded?i:n)}}function R(e,t){1&e&&(r.nc(),r.ac(0,"svg",17),r.Vb(1,"path",18),r.Zb())}function Z(e,t){1&e&&(r.nc(),r.ac(0,"svg",17),r.Vb(1,"path",19),r.Zb())}let G=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(r.Ub(r.Q))},e.\u0275dir=r.Pb({type:e,selectors:[["","abpTreeNodeTemplate",""],["","abp-tree-node-template",""]]}),e})(),M=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(r.Ub(r.Q))},e.\u0275dir=r.Pb({type:e,selectors:[["","abpTreeExpandedIconTemplate",""],["","abp-tree-expanded-icon-template",""]]}),e})(),q=(()=>{class e{constructor(){this.dropdowns={},this.checkedKeysChange=new r.q,this.expandedKeysChange=new r.q,this.selectedNodeChange=new r.q,this.dropOver=new r.q,this.noAnimation=!0,this.checkedKeys=[],this.nodes=[],this.expandedKeys=[],this.isNodeSelected=e=>{var t;return(null===(t=this.selectedNode)||void 0===t?void 0:t.id)===e.key},this.beforeDrop=e=>(this.dropPosition=e.pos,Object(v.a)(!1))}onSelectedNodeChange(e){this.selectedNode=e.origin.entity,this.selectedNodeChange.emit(e.origin.entity)}onCheckboxChange(e){this.checkedKeys=[...e.keys],this.checkedKeysChange.emit(e.keys)}onExpandedKeysChange(e){this.expandedKeys=[...e.keys],this.expandedKeysChange.emit(e.keys)}onDrop(e){e.event.stopPropagation(),e.event.preventDefault(),e.pos=this.dropPosition,this.dropOver.emit(e)}initDropdown(e,t){this.dropdowns[e]=t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Ob({type:e,selectors:[["abp-tree"]],contentQueries:function(e,t,i){if(1&e&&(r.Nb(i,k,1),r.Nb(i,G,1),r.Nb(i,M,1)),2&e){let e;r.Ec(e=r.lc())&&(t.menu=e.first),r.Ec(e=r.lc())&&(t.customNodeTemplate=e.first),r.Ec(e=r.lc())&&(t.expandedIconTemplate=e.first)}},inputs:{noAnimation:"noAnimation",checkedKeys:"checkedKeys",nodes:"nodes",expandedKeys:"expandedKeys",isNodeSelected:"isNodeSelected",beforeDrop:"beforeDrop",selectedNode:"selectedNode",draggable:"draggable",checkable:"checkable",checkStrictly:"checkStrictly"},outputs:{checkedKeysChange:"checkedKeysChange",expandedKeysChange:"expandedKeysChange",selectedNodeChange:"selectedNodeChange",dropOver:"dropOver"},decls:9,vars:10,consts:[[3,"nzBeforeDrop","nzDraggable","nzCheckStrictly","nzCheckable","nzCheckedKeys","nzData","nzTreeTemplate","nzExpandedKeys","nzExpandedIcon","nzNoAnimation","nzExpandChange","nzCheckBoxChange","nzOnDrop","nzContextMenu"],["treeTemplate",""],["defaultIconTemplate",""],["minusIcon",""],["plusIcon",""],[1,"node-wrapper",3,"title","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["nodeTemplate",""],["defaultNodeTemplate",""],[1,"d-inline-block"],["class","d-inline-block ml-1","ngbDropdown","","placement","bottom","container","body",3,"abpInit",4,"ngIf"],["ngbDropdown","","placement","bottom","container","body",1,"d-inline-block","ml-1",3,"abpInit"],["dropdown","ngbDropdown"],["ngbDropdownToggle","",1,"fas","fa-caret-down","text-muted"],["ngbDropdownMenu",""],["aria-hidden","true",2,"line-height","28px"],[4,"ngTemplateOutlet"],["width","15","height","15","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg","fill-rule","evenodd","clip-rule","evenodd"],["d","M11.5 0c6.347 0 11.5 5.153 11.5 11.5s-5.153 11.5-11.5 11.5-11.5-5.153-11.5-11.5 5.153-11.5 11.5-11.5zm0 1c5.795 0 10.5 4.705 10.5 10.5s-4.705 10.5-10.5 10.5-10.5-4.705-10.5-10.5 4.705-10.5 10.5-10.5zm-6.5 10h13v1h-13v-1z"],["d","M11.5 0c6.347 0 11.5 5.153 11.5 11.5s-5.153 11.5-11.5 11.5-11.5-5.153-11.5-11.5 5.153-11.5 11.5-11.5zm0 1c5.795 0 10.5 4.705 10.5 10.5s-4.705 10.5-10.5 10.5-10.5-4.705-10.5-10.5 4.705-10.5 10.5-10.5zm.5 10h6v1h-6v6h-1v-6h-6v-1h6v-6h1v6z"]],template:function(e,t){if(1&e&&(r.ac(0,"nz-tree",0),r.kc("nzExpandChange",function(e){return t.onExpandedKeysChange(e)})("nzCheckBoxChange",function(e){return t.onCheckboxChange(e)})("nzOnDrop",function(e){return t.onDrop(e)})("nzContextMenu",function(e){return null==t.dropdowns[null==e.node?null:e.node.key]?null:t.dropdowns[null==e.node?null:e.node.key].toggle()}),r.Zb(),r.Qc(1,z,6,7,"ng-template",null,1,r.Rc),r.Qc(3,j,2,1,"ng-template",null,2,r.Rc),r.Qc(5,R,2,0,"ng-template",null,3,r.Rc),r.Qc(7,Z,2,0,"ng-template",null,4,r.Rc)),2&e){const e=r.Fc(2),i=r.Fc(4);r.vc("nzBeforeDrop",t.beforeDrop)("nzDraggable",t.draggable)("nzCheckStrictly",t.checkStrictly)("nzCheckable",t.checkable)("nzCheckedKeys",t.checkedKeys)("nzData",t.nodes)("nzTreeTemplate",e)("nzExpandedKeys",t.expandedKeys)("nzExpandedIcon",(null==t.expandedIconTemplate?null:t.expandedIconTemplate.template)||i)("nzNoAnimation",t.noAnimation)}},directives:[f.a,y.a,I.v,I.q,g.e,a.z,g.i,g.g],styles:['.ant-tree-checkbox,.ant-tree-checkbox-wrapper{box-sizing:border-box;display:inline-block;font-feature-settings:"tnum";font-size:14px;font-variant:tabular-nums;list-style:none}@-webkit-keyframes antCheckboxEffect{0%{opacity:.5;transform:scale(1)}to{opacity:0;transform:scale(1.6)}}@keyframes antCheckboxEffect{0%{opacity:.5;transform:scale(1)}to{opacity:0;transform:scale(1.6)}}.ant-tree-treenode-leaf-last .ant-tree-switcher-leaf-line:before{bottom:auto!important;height:14px!important;top:auto!important}.ant-tree.ant-tree-directory .ant-tree-treenode{position:relative}.ant-tree.ant-tree-directory .ant-tree-treenode:before{bottom:4px;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0;transition:background-color .3s}.ant-tree.ant-tree-directory .ant-tree-treenode:hover:before{background:#f5f5f5}.ant-tree.ant-tree-directory .ant-tree-treenode>*{z-index:1}.ant-tree.ant-tree-directory .ant-tree-treenode .ant-tree-switcher{transition:color .3s}.ant-tree.ant-tree-directory .ant-tree-treenode .ant-tree-node-content-wrapper{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;border-radius:0;user-select:none}.ant-tree.ant-tree-directory .ant-tree-treenode .ant-tree-node-content-wrapper:hover{background:0 0}.ant-tree.ant-tree-directory .ant-tree-treenode .ant-tree-node-content-wrapper.ant-tree-node-selected{background:0 0;color:#fff}.ant-tree.ant-tree-directory .ant-tree-treenode-selected:before,.ant-tree.ant-tree-directory .ant-tree-treenode-selected:hover:before{background:#1890ff}.ant-tree.ant-tree-directory .ant-tree-treenode-selected .ant-tree-switcher{color:#fff}.ant-tree.ant-tree-directory .ant-tree-treenode-selected .ant-tree-node-content-wrapper{background:0 0;color:#fff}.ant-tree-checkbox{color:rgba(0,0,0,.85);cursor:pointer;line-height:1;outline:0;padding:0;position:relative;vertical-align:middle;white-space:nowrap}.ant-tree-checkbox-input:focus+.ant-tree-checkbox-inner,.ant-tree-checkbox-wrapper:hover .ant-tree-checkbox-inner,.ant-tree-checkbox:hover .ant-tree-checkbox-inner{border-color:#1890ff}.ant-tree-checkbox-checked:after{-webkit-animation:antCheckboxEffect .36s ease-in-out;-webkit-animation-fill-mode:backwards;animation:antCheckboxEffect .36s ease-in-out;animation-fill-mode:backwards;border:1px solid #1890ff;border-radius:2px;content:"";height:100%;left:0;position:absolute;top:0;visibility:hidden;width:100%}.ant-tree-checkbox-wrapper:hover .ant-tree-checkbox:after,.ant-tree-checkbox:hover:after{visibility:visible}.ant-tree-checkbox-inner{background-color:#fff;border:1px solid #d9d9d9;border-collapse:separate;border-radius:2px;direction:ltr;display:block;height:16px;left:0;position:relative;top:0;transition:all .3s;width:16px}.ant-tree-rtl,.ant-tree .ant-tree-treenode-rtl{direction:rtl}.ant-tree-checkbox-inner:after{border:2px solid #fff;border-left:0;border-top:0;content:" ";display:table;height:9.14px;left:22%;opacity:0;position:absolute;top:50%;transform:rotate(45deg) scale(0) translate(-50%,-50%);transition:all .1s cubic-bezier(.71,-.46,.88,.6),opacity .1s;width:5.71px}.ant-tree-checkbox-input{bottom:0;cursor:pointer;height:100%;left:0;opacity:0;position:absolute;right:0;top:0;width:100%;z-index:1}.ant-tree-checkbox-disabled,.ant-tree-checkbox-disabled+span,.ant-tree-checkbox-disabled .ant-tree-checkbox-input{cursor:not-allowed}.ant-tree-checkbox-checked .ant-tree-checkbox-inner:after{border:2px solid #fff;border-left:0;border-top:0;content:" ";display:table;opacity:1;position:absolute;transform:rotate(45deg) scale(1) translate(-50%,-50%);transition:all .2s cubic-bezier(.12,.4,.29,1.46) .1s}.ant-tree-checkbox-checked .ant-tree-checkbox-inner{background-color:#1890ff;border-color:#1890ff}.ant-tree-checkbox-disabled.ant-tree-checkbox-checked .ant-tree-checkbox-inner:after{-webkit-animation-name:none;animation-name:none;border-color:rgba(0,0,0,.25)}.ant-tree-checkbox-disabled .ant-tree-checkbox-inner{background-color:#f5f5f5;border-color:#d9d9d9!important}.ant-tree-checkbox-disabled .ant-tree-checkbox-inner:after{-webkit-animation-name:none;animation-name:none;border-collapse:separate;border-color:#f5f5f5}.ant-tree-checkbox-disabled+span{color:rgba(0,0,0,.25)}.ant-tree-checkbox-disabled:hover:after,.ant-tree-checkbox-wrapper:hover .ant-tree-checkbox-disabled:after{visibility:hidden}.ant-tree-checkbox-wrapper{color:rgba(0,0,0,.85);cursor:pointer;line-height:unset;margin:0;padding:0}.ant-tree-checkbox-wrapper.ant-tree-checkbox-wrapper-disabled{cursor:not-allowed}.ant-tree-checkbox-wrapper+.ant-tree-checkbox-wrapper{margin-left:8px}.ant-tree-checkbox+span{padding-left:8px;padding-right:8px}.ant-tree,.ant-tree-checkbox-group{box-sizing:border-box;color:rgba(0,0,0,.85);font-feature-settings:"tnum";font-size:14px;font-variant:tabular-nums;line-height:1.5715;list-style:none;padding:0}.ant-tree-checkbox-group{display:inline-block;margin:0}.ant-tree-checkbox-group-item{display:inline-block;margin-right:8px}.ant-tree-checkbox-group-item:last-child{margin-right:0}.ant-tree-checkbox-group-item+.ant-tree-checkbox-group-item{margin-left:0}.ant-tree-checkbox-indeterminate .ant-tree-checkbox-inner{background-color:#fff;border-color:#d9d9d9}.ant-tree-checkbox-indeterminate .ant-tree-checkbox-inner:after{background-color:#1890ff;border:0;content:" ";height:8px;left:50%;opacity:1;top:50%;transform:translate(-50%,-50%) scale(1);width:8px}.ant-tree-checkbox-indeterminate.ant-tree-checkbox-disabled .ant-tree-checkbox-inner:after{background-color:rgba(0,0,0,.25);border-color:rgba(0,0,0,.25)}.ant-tree{background:#fff;border-radius:2px;margin:0;transition:background-color .3s}.ant-tree-focused:not(:hover):not(.ant-tree-active-focused){background:#e6f7ff}.ant-tree-list-holder-inner{align-items:flex-start}.ant-tree.ant-tree-block-node .ant-tree-list-holder-inner{align-items:stretch}.ant-tree.ant-tree-block-node .ant-tree-list-holder-inner .ant-tree-node-content-wrapper{flex:auto}.ant-tree .ant-tree-treenode{align-items:flex-start;display:flex;outline:0;padding:0 0 4px}.ant-tree .ant-tree-treenode-disabled .ant-tree-node-content-wrapper{color:rgba(0,0,0,.25);cursor:not-allowed}.ant-tree .ant-tree-treenode-disabled .ant-tree-node-content-wrapper:hover{background:0 0}.ant-tree .ant-tree-treenode-active .ant-tree-node-content-wrapper{background:#f5f5f5}.ant-tree-indent{-moz-user-select:none;-ms-grid-row-align:stretch;-ms-user-select:none;-webkit-user-select:none;align-self:stretch;user-select:none;white-space:nowrap}.ant-tree-indent-unit{display:inline-block;width:24px}.ant-tree-switcher{-moz-user-select:none;-ms-grid-row-align:stretch;-ms-user-select:none;-webkit-user-select:none;align-self:stretch;cursor:pointer;flex:none;line-height:24px;margin:0;position:relative;text-align:center;user-select:none;width:24px}.ant-tree-switcher .ant-select-tree-switcher-icon,.ant-tree-switcher .ant-tree-switcher-icon{display:inline-block;font-size:10px;vertical-align:baseline}.ant-tree-switcher .ant-select-tree-switcher-icon svg,.ant-tree-switcher .ant-tree-switcher-icon svg{transition:transform .3s}.ant-tree-switcher-noop{cursor:default}.ant-tree-switcher_close .ant-tree-switcher-icon svg{transform:rotate(-90deg)}.ant-tree-switcher-loading-icon{color:#1890ff}.ant-tree-switcher-leaf-line{display:inline-block;height:100%;position:relative;width:100%;z-index:1}.ant-tree-switcher-leaf-line:after,.ant-tree-switcher-leaf-line:before{content:" ";margin-left:-1px;position:absolute}.ant-tree-switcher-leaf-line:before{border-left:1px solid #d9d9d9;bottom:-4px;top:0}.ant-tree-switcher-leaf-line:after{border-bottom:1px solid #d9d9d9;height:14px;width:10px}.ant-tree-checkbox{margin:4px 8px 0 0;top:auto}.ant-tree .ant-tree-node-content-wrapper{background:0 0;border-radius:2px;color:inherit;cursor:pointer;line-height:24px;margin:0;min-height:24px;padding:0 4px;position:relative;transition:all .3s,border 0s,line-height 0s,box-shadow 0s;z-index:auto}.ant-tree .ant-tree-node-content-wrapper:hover{background-color:#f5f5f5}.ant-tree .ant-tree-node-content-wrapper.ant-tree-node-selected{background-color:#bae7ff}.ant-tree .ant-tree-node-content-wrapper .ant-tree-iconEle{display:inline-block;height:24px;line-height:24px;text-align:center;vertical-align:top;width:24px}.ant-tree-show-line .ant-tree-indent-unit-end:before,.ant-tree .ant-tree-node-content-wrapper .ant-tree-iconEle:empty{display:none}.ant-tree-unselectable .ant-tree-node-content-wrapper:hover{background-color:transparent}.ant-tree-node-content-wrapper[draggable=true]{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;line-height:24px;user-select:none}.ant-tree-node-content-wrapper[draggable=true] .ant-tree-drop-indicator{background-color:#1890ff;border-radius:1px;height:2px;pointer-events:none;position:absolute;z-index:1}.ant-tree-node-content-wrapper[draggable=true] .ant-tree-drop-indicator:after{background-color:transparent;border:2px solid #1890ff;border-radius:50%;content:"";height:8px;left:-6px;position:absolute;top:-3px;width:8px}.ant-tree .ant-tree-treenode.drop-container>[draggable]{box-shadow:0 0 0 2px #1890ff}.ant-tree-show-line .ant-tree-indent-unit{height:100%;position:relative}.ant-tree-show-line .ant-tree-indent-unit:before{border-right:1px solid #d9d9d9;bottom:-4px;content:"";position:absolute;right:12px;top:0}.ant-tree-show-line .ant-tree-switcher{background:#fff}.ant-tree-show-line .ant-tree-switcher-line-icon{vertical-align:-.225em}.ant-tree-rtl .ant-tree-node-content-wrapper[draggable=true] .ant-tree-drop-indicator:after{left:unset;right:-6px}.ant-tree-rtl .ant-tree-switcher_close .ant-tree-switcher-icon svg{transform:rotate(90deg)}.ant-tree-rtl.ant-tree-show-line .ant-tree-indent-unit:before{border-left:1px solid #d9d9d9;border-right:none;left:-13px;right:auto}.ant-tree-rtl.ant-tree-checkbox,.ant-tree-select-dropdown-rtl .ant-select-tree-checkbox{margin:4px 0 0 8px}.font-highlight{color:#ff4d4f}.ant-tree-child-tree{overflow:hidden}nz-tree{display:block}',".ant-tree{color:inherit}.ant-tree .ant-tree-node-content-wrapper.ant-tree-node-selected{background-color:transparent}.ant-tree .ant-tree-switcher{line-height:17px}.ant-tree .ant-tree-node-content-wrapper{padding:0;width:100%}.ant-tree .node-wrapper{border:1px solid transparent;border-radius:2px;cursor:pointer;display:inline-block;line-height:24px;margin:0;padding:0 5px 0 8px;position:relative;text-decoration:none;vertical-align:top;width:100%}.ant-tree .ellipsis{cursor:pointer;position:absolute;right:8px;top:1px}"],encapsulation:2}),e})(),L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Sb({type:e}),e.\u0275inj=r.Rb({imports:[[a.o,f.b,g.h,y.b]]}),e})();class F extends class{constructor(e,t){this.id=e,this.parentId=t}}{constructor(e,t=(e=>e.displayName||e.name)){super(e.id,e.parentId),this.entity=e,this.nameResolver=t,this.icon=null,this.children=[],this.isLeaf=!0,this.checked=!1,this.selected=!1,this.expanded=!1,this.selectable=!0,this.disabled=!1,this.disableCheckbox=!1,this.key=e.id,this.title=t(e)}}class E{constructor(e=[]){this.list=e,this.tree=V(this.list)}getList(){return this.list}getTree(){return this.tree}handleDrop({key:e,parentNode:t}){const i=this.list.findIndex(({id:t})=>t===e);this.list[i].parentId=t?t.key:null,this.tree=V(this.list)}handleRemove({key:e}){this.updateTreeFromList(this.list.filter(t=>t.id!==e))}handleUpdate({key:e,children:t}){const i=this.updateTreeFromList(this.list.filter(t=>t.parentId!==e));this.updateTreeFromList(i.concat(t))}updateTreeFromList(e){return this.tree=V(e),this.list=P(this.tree),this.list}}function V(e){const t=function(e,t=new Map){return e.forEach(e=>t.set(e.id,new F(e))),t}(e),i=[];return e.forEach(e=>{const n=e.parentId,a=t.get(e.id);if(n){const e=t.get(n);if(!e)return;e.children.push(a),e.isLeaf=!1}else i.push(a)}),i}function P(e,t=[]){return e.forEach(e=>{t.push(Object.assign(Object.assign({},e.entity),{parentId:e.parentId})),e.children&&P(e.children,t)}),t}var D=i("3Pt+"),Q=i("350m"),B=i("rBLV"),K=i("x4+Y"),$=i("iWZL"),_=i("tyNb");const Y=["modalContent"];function W(e,t){if(1&e){const e=r.bc();r.Yb(0),r.ac(1,"div",5),r.ac(2,"div",6),r.ac(3,"h1",7),r.Sc(4),r.pc(5,"abpLocalization"),r.Zb(),r.Zb(),r.ac(6,"div",8),r.Vb(7,"abp-breadcrumb"),r.Zb(),r.ac(8,"div",9),r.Vb(9,"abp-page-toolbar",10),r.Zb(),r.Zb(),r.ac(10,"div",11),r.ac(11,"div",12),r.ac(12,"div",13),r.ac(13,"div",14),r.ac(14,"div",9),r.ac(15,"div",15),r.ac(16,"input",16),r.kc("ngModelChange",function(t){return r.Ic(e),r.oc().list.filter=t}),r.pc(17,"abpLocalization"),r.Zb(),r.ac(18,"div",17),r.ac(19,"button",18),r.kc("click",function(){return r.Ic(e),r.oc().list.get()}),r.Vb(20,"i",19),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.ac(21,"div",12),r.Vb(22,"abp-extensible-table",20),r.pc(23,"async"),r.Zb(),r.Zb(),r.Xb()}if(2&e){const e=t.ngIf,i=r.oc();r.Gb(4),r.Tc(r.qc(5,7,"AbpIdentity::ClaimTypes")),r.Gb(5),r.vc("record",e),r.Gb(7),r.vc("placeholder",r.qc(17,9,"AbpUi::PagerSearch"))("ngModel",i.list.filter),r.Gb(6),r.vc("data",e)("recordsTotal",r.qc(23,11,i.totalCount$))("list",i.list)}}function H(e,t){if(1&e&&(r.ac(0,"h3"),r.Sc(1),r.pc(2,"abpLocalization"),r.Zb()),2&e){const e=r.oc();r.Gb(1),r.Uc(" ",r.qc(2,1,null!=e.selected&&e.selected.id?"AbpIdentity::Edit":"AbpIdentity::NewClaimType")," ")}}function X(e,t){if(1&e){const e=r.bc();r.ac(0,"form",21),r.kc("ngSubmit",function(){return r.Ic(e),r.oc().save()}),r.ac(1,"div",22),r.Vb(2,"abp-extensible-form",23),r.Zb(),r.Zb()}if(2&e){const e=r.oc();r.vc("formGroup",e.form),r.Gb(2),r.vc("selectedRecord",e.selected)}}function J(e,t){if(1&e){const e=r.bc();r.ac(0,"button",24,25),r.Sc(2),r.pc(3,"abpLocalization"),r.Zb(),r.ac(4,"abp-button",26),r.kc("click",function(){return r.Ic(e),r.oc().save()}),r.Sc(5),r.pc(6,"abpLocalization"),r.Zb()}if(2&e){const e=r.oc();r.Gb(2),r.Uc(" ",r.qc(3,3,"AbpIdentity::Cancel")," "),r.Gb(2),r.vc("disabled",null==e.form?null:e.form.invalid),r.Gb(1),r.Tc(r.qc(6,5,"AbpIdentity::Save"))}}function ee(e,t){1&e&&(r.ac(0,"h3"),r.Sc(1),r.pc(2,"abpLocalization"),r.Zb()),2&e&&(r.Gb(1),r.Tc(r.qc(2,1,"AbpIdentity::SelectUsers")))}function te(e,t){if(1&e&&r.Vb(0,"abp-organization-members-modal-body",8),2&e){const e=r.oc();r.vc("checkedUnits",e.checkedUnits)("isCheckboxDisabled",e.isCheckboxDisabled)}}function ie(e,t){if(1&e){const e=r.bc();r.ac(0,"button",9,10),r.Sc(2),r.pc(3,"abpLocalization"),r.Zb(),r.ac(4,"abp-button",11),r.kc("click",function(){return r.Ic(e),r.oc().addUnits()}),r.Sc(5),r.pc(6,"abpLocalization"),r.Zb()}2&e&&(r.Gb(2),r.Uc(" ",r.qc(3,2,"AbpIdentity::Cancel")," "),r.Gb(3),r.Tc(r.qc(6,4,"AbpIdentity::Save")))}function ne(e,t){1&e&&(r.ac(0,"h3"),r.Sc(1),r.pc(2,"abpLocalization"),r.Zb()),2&e&&(r.Gb(1),r.Tc(r.qc(2,1,"AbpIdentity::SelectRoles")))}function ae(e,t){if(1&e&&r.Vb(0,"abp-organization-roles-modal-body",8),2&e){const e=r.oc();r.vc("checkedUnits",e.checkedUnits)("isCheckboxDisabled",e.isCheckboxDisabled)}}function oe(e,t){if(1&e){const e=r.bc();r.ac(0,"button",9,10),r.Sc(2),r.pc(3,"abpLocalization"),r.Zb(),r.ac(4,"abp-button",11),r.kc("click",function(){return r.Ic(e),r.oc().addUnits()}),r.Sc(5),r.pc(6,"abpLocalization"),r.Zb()}2&e&&(r.Gb(2),r.Uc(" ",r.qc(3,2,"AbpIdentity::Cancel")," "),r.Gb(3),r.Tc(r.qc(6,4,"AbpIdentity::Save")))}function ce(e,t){if(1&e&&(r.Vb(0,"i",23),r.Sc(1)),2&e){const e=t.$implicit;r.Gb(1),r.Uc(" ",e.title," ")}}function re(e,t){if(1&e){const e=r.bc();r.ac(0,"li",24),r.kc("click",function(){r.Ic(e);const i=t.$implicit;return r.oc(2).edit(i.origin.entity)}),r.Sc(1),r.pc(2,"abpLocalization"),r.Zb(),r.ac(3,"li",24),r.kc("click",function(){r.Ic(e);const i=t.$implicit;return r.oc(2).addSubUnit(i.origin.entity)}),r.Sc(4),r.pc(5,"abpLocalization"),r.Zb(),r.ac(6,"li",24),r.kc("click",function(){r.Ic(e);const i=t.$implicit;return r.oc(2).delete(i.origin.entity)}),r.Sc(7),r.pc(8,"abpLocalization"),r.Zb()}2&e&&(r.Gb(1),r.Uc(" ",r.qc(2,3,"AbpIdentity::Edit")," "),r.Gb(3),r.Uc(" ",r.qc(5,5,"AbpIdentity::AddSubUnit")," "),r.Gb(3),r.Uc(" ",r.qc(8,7,"AbpIdentity::Delete")," "))}function se(e,t){1&e&&(r.ac(0,"p",25),r.Sc(1),r.pc(2,"abpLocalization"),r.Zb()),2&e&&(r.Gb(1),r.Uc(" ",r.qc(2,1,"AbpIdentity::NoOrganizationUnits")," "))}function le(e,t){if(1&e){const e=r.bc();r.ac(0,"div",13),r.ac(1,"div",14),r.ac(2,"div",15),r.ac(3,"h5"),r.Sc(4),r.pc(5,"abpLocalization"),r.Zb(),r.ac(6,"button",16),r.kc("click",function(){return r.Ic(e),r.oc().add()}),r.Vb(7,"i",17),r.Sc(8),r.pc(9,"abpLocalization"),r.Zb(),r.Zb(),r.ac(10,"div",18),r.ac(11,"abp-tree",19),r.kc("expandedKeysChange",function(t){return r.Ic(e),r.oc().expandedKeys=t})("selectedNodeChange",function(t){return r.Ic(e),r.oc().selectedUnit=t})("dropOver",function(t){return r.Ic(e),r.oc().onDrop(t)}),r.Qc(12,ce,2,1,"ng-template",20),r.Qc(13,re,9,9,"ng-template",null,21,r.Rc),r.Zb(),r.Qc(15,se,3,3,"p",22),r.Zb(),r.Zb(),r.Zb()}if(2&e){const e=r.oc();r.Gb(4),r.Uc(" ",r.qc(5,8,"AbpIdentity::OrganizationTree")," "),r.Gb(4),r.Uc(" ",r.qc(9,10,"AbpIdentity::AddRootUnit")," "),r.Gb(2),r.vc("abpLoading",e.loading),r.Gb(1),r.vc("nodes",e.nodes)("expandedKeys",e.expandedKeys)("selectedNode",e.selectedUnit)("draggable",!0),r.Gb(4),r.vc("ngIf",!(e.loading||null!=e.nodes&&e.nodes.length))}}function de(e,t){if(1&e&&r.Vb(0,"abp-organization-members",37),2&e){const e=r.oc(5);r.vc("selectedOrganizationUnit",e.selectedUnit)}}const pe=function(e){return{value:e}},be=function(e){return{selectedOrganizationUnit:e}},ue=function(e,t){return{inputs:e,componentKey:t}};function me(e,t){if(1&e&&(r.Yb(0),r.Qc(1,de,1,1,"abp-organization-members",36),r.Xb()),2&e){const e=r.oc(4);r.Gb(1),r.vc("abpReplaceableTemplate",r.Ac(5,ue,r.zc(3,be,r.zc(1,pe,e.selectedUnit)),e.organizationMembersKey))}}function he(e,t){1&e&&(r.ac(0,"p",25),r.Sc(1),r.pc(2,"abpLocalization"),r.Zb()),2&e&&(r.Gb(1),r.Uc(" ",r.qc(2,1,"AbpIdentity::SelectAnOrganizationUnitToSeeMembers")," "))}function ge(e,t){if(1&e&&(r.Qc(0,me,2,8,"ng-container",34),r.Qc(1,he,3,3,"ng-template",null,35,r.Rc)),2&e){const e=r.Fc(2),t=r.oc(3);r.vc("ngIf",t.selectedUnit)("ngIfElse",e)}}function ye(e,t){1&e&&(r.ac(0,"li",31),r.ac(1,"a",32),r.Sc(2),r.pc(3,"abpLocalization"),r.Zb(),r.Qc(4,ge,3,2,"ng-template",33),r.Zb()),2&e&&(r.Gb(2),r.Tc(r.qc(3,1,"AbpIdentity::Members")))}function fe(e,t){if(1&e&&r.Vb(0,"abp-organization-roles",37),2&e){const e=r.oc(5);r.vc("selectedOrganizationUnit",e.selectedUnit)}}function ve(e,t){if(1&e&&(r.Yb(0),r.Qc(1,fe,1,1,"abp-organization-roles",36),r.Xb()),2&e){const e=r.oc(4);r.Gb(1),r.vc("abpReplaceableTemplate",r.Ac(5,ue,r.zc(3,be,r.zc(1,pe,e.selectedUnit)),e.organizationRolesKey))}}function Ie(e,t){1&e&&(r.ac(0,"p",25),r.Sc(1),r.pc(2,"abpLocalization"),r.Zb()),2&e&&(r.Gb(1),r.Uc(" ",r.qc(2,1,"AbpIdentity::SelectAnOrganizationUnitToSeeRoles")," "))}function ke(e,t){if(1&e&&(r.Qc(0,ve,2,8,"ng-container",34),r.Qc(1,Ie,3,3,"ng-template",null,35,r.Rc)),2&e){const e=r.Fc(2),t=r.oc(3);r.vc("ngIf",t.selectedUnit)("ngIfElse",e)}}function Ce(e,t){1&e&&(r.ac(0,"li",31),r.ac(1,"a",32),r.Sc(2),r.pc(3,"abpLocalization"),r.Zb(),r.Qc(4,ke,3,2,"ng-template",33),r.Zb()),2&e&&(r.Gb(2),r.Tc(r.qc(3,1,"AbpIdentity::Roles")))}function Te(e,t){if(1&e&&(r.ac(0,"div",26),r.ac(1,"div",14),r.ac(2,"ul",27,28),r.Qc(4,ye,5,3,"li",29),r.Qc(5,Ce,5,3,"li",29),r.Zb(),r.Vb(6,"div",30),r.Zb(),r.Zb()),2&e){const e=r.Fc(3);r.Gb(4),r.vc("abpPermission","AbpIdentity.OrganizationUnits.ManageMembers"),r.Gb(1),r.vc("abpPermission","AbpIdentity.OrganizationUnits.ManageRoles"),r.Gb(1),r.vc("ngbNavOutlet",e)}}function Se(e,t){if(1&e&&(r.ac(0,"h3"),r.Sc(1),r.pc(2,"abpLocalization"),r.Zb()),2&e){const e=r.oc();r.Gb(1),r.Uc(" ",r.qc(2,1,e.nodeForm.get("id").value?"AbpIdentity::EditOrganizationUnit":"AbpIdentity::NewOrganizationUnit")," ")}}function Ne(e,t){if(1&e&&(r.ac(0,"div",41),r.ac(1,"strong"),r.Sc(2),r.pc(3,"abpLocalization"),r.Zb(),r.Zb()),2&e){const e=t.ngIf,i=r.oc(2);r.Gb(2),r.Tc(r.rc(3,1,"AbpIdentity::OrganizationUnit:Parent{0}",i.getParentName(e)))}}function Oe(e,t){if(1&e){const e=r.bc();r.Qc(0,Ne,4,4,"div",38),r.ac(1,"form",39),r.kc("ngSubmit",function(){return r.Ic(e),r.oc().save()}),r.Vb(2,"abp-extensible-form",40),r.Zb()}if(2&e){const e=r.oc();r.vc("ngIf",e.nodeForm.get("parentId").value),r.Gb(1),r.vc("formGroup",e.nodeForm),r.Gb(1),r.vc("selectedRecord",e.selectedUnit)}}function we(e,t){if(1&e){const e=r.bc();r.ac(0,"button",42,43),r.Sc(2),r.pc(3,"abpLocalization"),r.Zb(),r.ac(4,"abp-button",44),r.kc("click",function(){return r.Ic(e),r.oc().save()}),r.Sc(5),r.pc(6,"abpLocalization"),r.Zb()}if(2&e){const e=r.oc();r.Gb(2),r.Uc(" ",r.qc(3,3,"AbpIdentity::Cancel")," "),r.Gb(2),r.vc("disabled",null==e.nodeForm?null:e.nodeForm.invalid),r.Gb(1),r.Tc(r.qc(6,5,"AbpIdentity::Save"))}}function Ue(e,t){if(1&e){const e=r.bc();r.Yb(0),r.ac(1,"div",7),r.ac(2,"div",8),r.ac(3,"h1",9),r.Sc(4),r.pc(5,"abpLocalization"),r.Zb(),r.Zb(),r.ac(6,"div",10),r.Vb(7,"abp-breadcrumb"),r.Zb(),r.ac(8,"div",11),r.Vb(9,"abp-page-toolbar",12),r.Zb(),r.Zb(),r.ac(10,"div",13),r.ac(11,"div",14),r.ac(12,"div",15),r.ac(13,"div",16),r.ac(14,"div",11),r.ac(15,"div",17),r.ac(16,"input",18),r.kc("ngModelChange",function(t){return r.Ic(e),r.oc().list.filter=t}),r.pc(17,"abpLocalization"),r.Zb(),r.ac(18,"div",19),r.ac(19,"button",20),r.kc("click",function(){return r.Ic(e),r.oc().list.get()}),r.Vb(20,"i",21),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.ac(21,"div",14),r.Vb(22,"abp-extensible-table",22),r.pc(23,"async"),r.Zb(),r.Zb(),r.Xb()}if(2&e){const e=t.ngIf,i=r.oc();r.Gb(4),r.Tc(r.qc(5,7,"AbpIdentity::Roles")),r.Gb(5),r.vc("record",e),r.Gb(7),r.vc("placeholder",r.qc(17,9,"AbpUi::PagerSearch"))("ngModel",i.list.filter),r.Gb(6),r.vc("data",e)("recordsTotal",r.qc(23,11,i.totalCount$))("list",i.list)}}function xe(e,t){if(1&e&&(r.ac(0,"h3"),r.Sc(1),r.pc(2,"abpLocalization"),r.Zb()),2&e){const e=r.oc();r.Gb(1),r.Tc(r.qc(2,1,null!=e.selected&&e.selected.id?"AbpIdentity::Edit":"AbpIdentity::NewRole"))}}function ze(e,t){if(1&e){const e=r.bc();r.ac(0,"form",23),r.kc("ngSubmit",function(){return r.Ic(e),r.oc().save()}),r.Vb(1,"abp-extensible-form",24),r.Zb()}if(2&e){const e=r.oc();r.vc("formGroup",e.form),r.Gb(1),r.vc("selectedRecord",e.selected)}}function Ae(e,t){if(1&e){const e=r.bc();r.ac(0,"button",25,26),r.Sc(2),r.pc(3,"abpLocalization"),r.Zb(),r.ac(4,"abp-button",27),r.kc("click",function(){return r.Ic(e),r.oc().save()}),r.Sc(5),r.pc(6,"abpLocalization"),r.Zb()}if(2&e){const e=r.oc();r.Gb(2),r.Uc(" ",r.qc(3,3,"AbpIdentity::Cancel")," "),r.Gb(2),r.vc("disabled",null==e.form?null:e.form.invalid),r.Gb(1),r.Tc(r.qc(6,5,"AbpIdentity::Save"))}}function je(e,t){if(1&e){const e=r.bc();r.ac(0,"abp-permission-management",28),r.kc("visibleChange",function(t){return r.Ic(e),r.oc().visiblePermissions=t}),r.Zb()}if(2&e){const e=r.oc();r.vc("visible",e.visiblePermissions)("providerKey",e.providerKey)("hideBadges",!0)}}const Re=function(){return{value:"R"}},Ze=function(){return{value:!0}},Ge=function(e){return{value:e,twoWay:!0}},Me=function(e,t,i,n){return{providerName:e,providerKey:t,hideBadges:i,visible:n}},qe=function(e){return{visibleChange:e}},Le=function(e,t){return{inputs:e,outputs:t,componentKey:"PermissionManagement.PermissionManagementComponent"}};function Fe(e,t){if(1&e){const e=r.bc();r.Yb(0),r.ac(1,"div",8),r.ac(2,"div",9),r.ac(3,"h1",10),r.Sc(4),r.pc(5,"abpLocalization"),r.Zb(),r.Zb(),r.ac(6,"div",11),r.Vb(7,"abp-breadcrumb"),r.Zb(),r.ac(8,"div",12),r.Vb(9,"abp-page-toolbar",13),r.Zb(),r.Zb(),r.ac(10,"div",14),r.ac(11,"div",15),r.ac(12,"div",16),r.ac(13,"div",17),r.ac(14,"div",12),r.ac(15,"div",18),r.ac(16,"input",19),r.kc("ngModelChange",function(t){return r.Ic(e),r.oc().list.filter=t}),r.pc(17,"abpLocalization"),r.Zb(),r.ac(18,"div",20),r.ac(19,"button",21),r.kc("click",function(){return r.Ic(e),r.oc().list.get()}),r.Vb(20,"i",22),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.ac(21,"div",15),r.Vb(22,"abp-extensible-table",23),r.pc(23,"async"),r.Zb(),r.Zb(),r.Xb()}if(2&e){const e=t.ngIf,i=r.oc();r.Gb(4),r.Tc(r.qc(5,7,"AbpIdentity::Users")),r.Gb(5),r.vc("record",e),r.Gb(7),r.vc("placeholder",r.qc(17,9,"AbpUi::PagerSearch"))("ngModel",i.list.filter),r.Gb(6),r.vc("data",e)("recordsTotal",r.qc(23,11,i.totalCount$))("list",i.list)}}function Ee(e,t){if(1&e&&(r.ac(0,"h3"),r.Sc(1),r.pc(2,"abpLocalization"),r.Zb()),2&e){const e=r.oc();r.Gb(1),r.Tc(r.qc(2,1,null!=e.selected&&e.selected.id?"AbpIdentity::Edit":"AbpIdentity::NewUser"))}}function Ve(e,t){if(1&e&&r.Vb(0,"abp-extensible-form",34),2&e){const e=r.oc(3);r.vc("selectedRecord",e.selected)}}function Pe(e,t){if(1&e&&(r.ac(0,"div",36),r.Vb(1,"input",37),r.ac(2,"label",38),r.Sc(3),r.Zb(),r.Zb()),2&e){const e=t.$implicit,i=t.index,n=r.oc(4);r.Gb(1),r.vc("formControl",e.controls[n.roles[i].name]),r.Hb("id","roles-"+i),r.Gb(1),r.Hb("for","roles-"+i),r.Gb(1),r.Tc(n.roles[i].name)}}function De(e,t){if(1&e&&r.Qc(0,Pe,4,4,"div",35),2&e){const e=r.oc(3);r.vc("ngForOf",e.roleGroups)("ngForTrackBy",e.trackByFn)}}function Qe(e,t){if(1&e){const e=r.bc();r.ac(0,"abp-tree",41),r.kc("checkedKeysChange",function(t){return r.Ic(e),r.oc(4).organization.checkedKeys=t})("expandedKeysChange",function(t){return r.Ic(e),r.oc(4).organization.expandedKeys=t}),r.Zb()}if(2&e){const e=r.oc(4);r.vc("checkStrictly",!0)("checkable",!0)("nodes",e.organization.nodes)("isNodeSelected",e.organization.selectFn)("checkedKeys",e.organization.checkedKeys)("expandedKeys",e.organization.expandedKeys)}}function Be(e,t){1&e&&(r.ac(0,"p",42),r.Sc(1),r.pc(2,"abpLocalization"),r.Zb()),2&e&&(r.Gb(1),r.Uc(" ",r.qc(2,1,"AbpIdentity::NoOrganizationUnits")," "))}function Ke(e,t){if(1&e&&(r.Qc(0,Qe,1,6,"abp-tree",39),r.Qc(1,Be,3,3,"ng-template",null,40,r.Rc)),2&e){const e=r.Fc(2),t=r.oc(3);r.vc("ngIf",null==t.organization.nodes?null:t.organization.nodes.length)("ngIfElse",e)}}function $e(e,t){if(1&e){const e=r.bc();r.ac(0,"form",25),r.kc("ngSubmit",function(){return r.Ic(e),r.oc(2).save()}),r.ac(1,"ul",26,27),r.ac(3,"li",28),r.ac(4,"a",29),r.Sc(5),r.pc(6,"abpLocalization"),r.Zb(),r.Qc(7,Ve,1,1,"ng-template",30),r.Zb(),r.ac(8,"li",31),r.ac(9,"a",29),r.Sc(10),r.pc(11,"abpLocalization"),r.Zb(),r.Qc(12,De,1,2,"ng-template",30),r.Zb(),r.ac(13,"li",32),r.ac(14,"a",29),r.Sc(15),r.pc(16,"abpLocalization"),r.Zb(),r.Qc(17,Ke,3,2,"ng-template",30),r.Zb(),r.Zb(),r.Vb(18,"div",33),r.Zb()}if(2&e){const e=r.Fc(2),t=r.oc(2);r.vc("formGroup",t.form),r.Gb(5),r.Tc(r.qc(6,5,"AbpIdentity::UserInformations")),r.Gb(5),r.Tc(r.qc(11,7,"AbpIdentity::Roles")),r.Gb(5),r.Tc(r.qc(16,9,"AbpIdentity::OrganizationUnits")),r.Gb(3),r.vc("ngbNavOutlet",e)}}function _e(e,t){if(1&e&&r.Qc(0,$e,19,11,"form",24),2&e){const e=r.oc();r.vc("ngIf",e.form)}}function Ye(e,t){if(1&e){const e=r.bc();r.ac(0,"button",43,44),r.Sc(2),r.pc(3,"abpLocalization"),r.Zb(),r.ac(4,"abp-button",45),r.kc("click",function(){return r.Ic(e),r.oc().save()}),r.Sc(5),r.pc(6,"abpLocalization"),r.Zb()}if(2&e){const e=r.oc();r.Gb(2),r.Uc(" ",r.qc(3,3,"AbpIdentity::Cancel")," "),r.Gb(2),r.vc("disabled",null==e.form?null:e.form.invalid),r.Gb(1),r.Tc(r.qc(6,5,"AbpIdentity::Save"))}}function We(e,t){if(1&e){const e=r.bc();r.ac(0,"abp-permission-management",46),r.kc("visibleChange",function(t){return r.Ic(e),r.oc().visiblePermissions=t}),r.Zb()}if(2&e){const e=r.oc();r.vc("visible",e.visiblePermissions)("providerKey",e.providerKey)("hideBadges",!0)}}function He(e,t){1&e&&(r.ac(0,"h3"),r.Sc(1),r.pc(2,"abpLocalization"),r.Zb()),2&e&&(r.Gb(1),r.Tc(r.qc(2,1,"AbpIdentity::SetPassword")))}function Xe(e,t){if(1&e){const e=r.bc();r.ac(0,"form",25),r.kc("ngSubmit",function(){return r.Ic(e),r.oc().setPassword()}),r.ac(1,"div",47),r.ac(2,"div",48),r.ac(3,"label",49),r.Sc(4),r.pc(5,"abpLocalization"),r.Zb(),r.ac(6,"div",18),r.ac(7,"div",50),r.Vb(8,"input",51),r.Zb(),r.ac(9,"div",52),r.ac(10,"button",53),r.kc("click",function(){return r.Ic(e),r.oc().generatePassword()}),r.Vb(11,"i",54),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb()}if(2&e){const e=r.oc();r.vc("formGroup",e.setPasswordForm),r.Gb(4),r.Tc(r.qc(5,2,"AbpIdentity::Password"))}}function Je(e,t){if(1&e){const e=r.bc();r.ac(0,"button",43,44),r.Sc(2),r.pc(3,"abpLocalization"),r.Zb(),r.ac(4,"abp-button",45),r.kc("click",function(){return r.Ic(e),r.oc().setPassword()}),r.Sc(5),r.pc(6,"abpLocalization"),r.Zb()}if(2&e){const e=r.oc();r.Gb(2),r.Uc(" ",r.qc(3,3,"AbpIdentity::Cancel")," "),r.Gb(2),r.vc("disabled",null==e.setPasswordForm?null:e.setPasswordForm.invalid),r.Gb(1),r.Tc(r.qc(6,5,"AbpIdentity::Save"))}}function et(e,t){if(1&e&&(r.ac(0,"h3"),r.Sc(1),r.pc(2,"abpLocalization"),r.Zb()),2&e){const e=r.oc();r.Gb(1),r.Vc("",r.qc(2,2,"AbpIdentity::Lock")," - ",e.selected.userName,"")}}function tt(e,t){if(1&e&&(r.ac(0,"option",60),r.Sc(1),r.pc(2,"abpLocalization"),r.Zb()),2&e){const e=t.$implicit;r.vc("ngValue",e.value),r.Gb(1),r.Uc(" ",r.qc(2,2,"AbpIdentity::Enum:LockDurationType."+e.key)," ")}}function it(e,t){if(1&e){const e=r.bc();r.ac(0,"form",25),r.kc("ngSubmit",function(){return r.Ic(e),r.oc().lock()}),r.ac(1,"div",47),r.ac(2,"div",55),r.ac(3,"label"),r.Sc(4),r.pc(5,"abpLocalization"),r.Zb(),r.Vb(6,"input",56),r.Zb(),r.ac(7,"div",48),r.ac(8,"label",57),r.Sc(9),r.pc(10,"abpLocalization"),r.Zb(),r.ac(11,"select",58),r.Qc(12,tt,3,4,"option",59),r.Zb(),r.Zb(),r.Zb(),r.Zb()}if(2&e){const e=r.oc();r.vc("formGroup",e.lockForm),r.Gb(2),r.vc("formGroup",e.lockForm),r.Gb(2),r.Tc(r.qc(5,5,"AbpIdentity::DisplayName:LockoutDuration")),r.Gb(5),r.Tc(r.qc(10,7,"AbpIdentity::DisplayName:LockDurationType")),r.Gb(3),r.vc("ngForOf",e.lockDurationTypeOptions)}}function nt(e,t){if(1&e){const e=r.bc();r.ac(0,"button",43,44),r.Sc(2),r.pc(3,"abpLocalization"),r.Zb(),r.ac(4,"abp-button",45),r.kc("click",function(){return r.Ic(e),r.oc().lock()}),r.Sc(5),r.pc(6,"abpLocalization"),r.Zb()}if(2&e){const e=r.oc();r.Gb(2),r.Uc(" ",r.qc(3,3,"AbpIdentity::Cancel")," "),r.Gb(2),r.vc("disabled",(null==e.lockForm?null:e.lockForm.invalid)||e.modalBusy),r.Gb(1),r.Tc(r.qc(6,5,"AbpIdentity::Save"))}}function at(e,t){if(1&e&&(r.ac(0,"h3"),r.Sc(1),r.pc(2,"abpLocalization"),r.Zb()),2&e){const e=r.oc();r.Gb(1),r.Vc("",r.qc(2,2,"AbpIdentity::TwoFactor")," - ",e.selected.userName,"")}}function ot(e,t){if(1&e){const e=r.bc();r.ac(0,"div",47),r.ac(1,"div",36),r.ac(2,"input",61),r.kc("ngModelChange",function(t){return r.Ic(e),r.oc().twoFactor.checkboxValue=t}),r.Zb(),r.ac(3,"label",62),r.Sc(4),r.pc(5,"abpLocalization"),r.Zb(),r.Zb(),r.Zb()}if(2&e){const e=r.oc();r.Gb(2),r.vc("ngModel",e.twoFactor.checkboxValue),r.Gb(2),r.Tc(r.qc(5,2,"AbpIdentity::DisplayName:TwoFactorEnabled"))}}function ct(e,t){if(1&e){const e=r.bc();r.ac(0,"button",43,44),r.Sc(2),r.pc(3,"abpLocalization"),r.Zb(),r.ac(4,"abp-button",45),r.kc("click",function(){return r.Ic(e),r.oc().setTwoFactor()}),r.Sc(5),r.pc(6,"abpLocalization"),r.Zb()}if(2&e){const e=r.oc();r.Gb(2),r.Uc(" ",r.qc(3,3,"AbpIdentity::Cancel")," "),r.Gb(2),r.vc("disabled",e.modalBusy),r.Gb(1),r.Tc(r.qc(6,5,"AbpIdentity::Save"))}}const rt=function(){return{value:"U"}};function st(e,t){if(1&e&&(r.ac(0,"div",24),r.Sc(1),r.Zb()),2&e){const e=t.$implicit,i=t.selected,n=t.currentMonth,a=r.oc();r.Mb("bg-primary",i)("text-white",i)("text-muted",n!==e.month)("ng-range",e.after(a.filter.startTime)&&e.before(a.filter.endTime))("ng-range-end",e.equals(a.filter.endTime)),r.Gb(1),r.Uc(" ",e.day," ")}}function lt(e,t){if(1&e&&(r.ac(0,"div",24),r.Sc(1),r.Zb()),2&e){const e=t.$implicit,i=t.selected,n=t.currentMonth,a=r.oc();r.Mb("bg-primary",i)("text-white",i)("text-muted",n!==e.month)("ng-range",e.after(a.filter.startTime)&&e.before(a.filter.endTime))("ng-range-end",e.equals(a.filter.startTime)),r.Gb(1),r.Uc(" ",e.day," ")}}function dt(e,t){1&e&&(r.ac(0,"h5",4),r.Sc(1),r.pc(2,"abpLocalization"),r.Zb()),2&e&&(r.Gb(1),r.Tc(r.qc(2,1,"AbpIdentity::Claims")))}function pt(e,t){if(1&e&&(r.ac(0,"option",19),r.Sc(1),r.Zb()),2&e){const e=t.$implicit;r.vc("ngValue",e.name),r.Gb(1),r.Tc(e.name)}}function bt(e,t){if(1&e){const e=r.bc();r.ac(0,"div",22),r.ac(1,"div",23),r.ac(2,"label",24),r.Sc(3),r.Zb(),r.Zb(),r.ac(4,"input",25),r.kc("ngModelChange",function(i){r.Ic(e);const n=t.index;return r.oc(3).subjectClaims[n].claimValue=i}),r.Zb(),r.ac(5,"div",26),r.ac(6,"button",27),r.kc("click",function(){r.Ic(e);const i=t.index;return r.oc(3).removeClaim(i)}),r.Vb(7,"i",28),r.Zb(),r.Zb(),r.Zb()}if(2&e){const e=t.$implicit,i=t.index,n=r.oc(3);r.Gb(3),r.Tc(e.claimType),r.Gb(1),r.vc("ngModel",n.subjectClaims[i].claimValue)}}function ut(e,t){if(1&e&&(r.ac(0,"div",20),r.Qc(1,bt,8,2,"div",21),r.Zb()),2&e){const e=r.oc(2);r.Gb(1),r.vc("ngForOf",e.subjectClaims)}}const mt=function(){return{standalone:!0}};function ht(e,t){if(1&e){const e=r.bc();r.ac(0,"form",5),r.kc("ngSubmit",function(){return r.Ic(e),r.oc().addClaim()}),r.ac(1,"div",6),r.ac(2,"div",7),r.ac(3,"div",8),r.ac(4,"label",9),r.Sc(5),r.pc(6,"abpLocalization"),r.Zb(),r.ac(7,"select",10),r.kc("ngModelChange",function(t){return r.Ic(e),r.oc().newClaimType=t}),r.Qc(8,pt,2,2,"option",11),r.Zb(),r.Zb(),r.Zb(),r.ac(9,"div",7),r.ac(10,"div",8),r.ac(11,"label",12),r.Sc(12,"Value"),r.Zb(),r.ac(13,"input",13),r.kc("ngModelChange",function(t){return r.Ic(e),r.oc().newClaimValue=t}),r.Zb(),r.Zb(),r.Zb(),r.ac(14,"div",14),r.ac(15,"button",15),r.kc("click",function(){return r.Ic(e),r.oc().addClaim()}),r.Vb(16,"i",16),r.Sc(17),r.pc(18,"abpLocalization"),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Vb(19,"hr",17),r.Qc(20,ut,2,1,"div",18)}if(2&e){const e=r.oc();r.Gb(5),r.Tc(r.qc(6,8,"AbpIdentity::Type")),r.Gb(2),r.vc("ngModel",e.newClaimType)("ngModelOptions",r.yc(12,mt)),r.Gb(1),r.vc("ngForOf",e.claimTypes),r.Gb(5),r.vc("ngModel",e.newClaimValue)("ngModelOptions",r.yc(13,mt)),r.Gb(4),r.Uc(" ",r.qc(18,10,"AbpIdentity::AddClaim")," "),r.Gb(3),r.vc("ngIf",e.subjectClaims&&e.subjectClaims.length)}}function gt(e,t){if(1&e){const e=r.bc();r.ac(0,"button",29,30),r.Sc(2),r.pc(3,"abpLocalization"),r.Zb(),r.ac(4,"abp-button",31),r.kc("click",function(){return r.Ic(e),r.oc().save()}),r.Sc(5),r.pc(6,"abpLocalization"),r.Zb()}2&e&&(r.Gb(2),r.Tc(r.qc(3,2,"AbpIdentity::Cancel")),r.Gb(3),r.Tc(r.qc(6,4,"AbpIdentity::Save")))}function yt(e,t){if(1&e){const e=r.bc();r.ac(0,"input",9),r.kc("ngModelChange",function(i){r.Ic(e);const n=t.$implicit;return r.oc().checkedUnits[n.id]=i}),r.Zb()}if(2&e){const e=t.$implicit,i=r.oc();r.vc("ngModel",i.checkedUnits[e.id])("disabled",i.isCheckboxDisabled(e.id))}}function ft(e,t){if(1&e){const e=r.bc();r.ac(0,"input",3),r.kc("ngModelChange",function(i){r.Ic(e);const n=t.$implicit;return r.oc().checkedUnits[n.id]=i}),r.Zb()}if(2&e){const e=t.$implicit,i=r.oc();r.vc("ngModel",i.checkedUnits[e.id])("disabled",i.isCheckboxDisabled(e.id))}}let vt=(()=>{class e{constructor(e={}){this.payload=e}}return e.type="[Identity] Get Roles",e})(),It=(()=>{class e{constructor(e){this.payload=e}}return e.type="[Identity] Get Role By Id",e})(),kt=(()=>{class e{constructor(e){this.payload=e}}return e.type="[Identity] Delete Role",e})(),Ct=(()=>{class e{constructor(e){this.payload=e}}return e.type="[Identity] Create Role",e})(),Tt=(()=>{class e{constructor(e){this.payload=e}}return e.type="[Identity] Update Role",e})(),St=(()=>{class e{constructor(e={}){this.payload=e}}return e.type="[Identity] Get ClaimTypes",e})(),Nt=(()=>{class e{constructor(e){this.payload=e}}return e.type="[Identity] Get ClaimType By Id",e})(),Ot=(()=>{class e{constructor(e){this.payload=e}}return e.type="[Identity] Delete ClaimType",e})(),wt=(()=>{class e{constructor(e){this.payload=e}}return e.type="[Identity] Create ClaimType",e})(),Ut=(()=>{class e{constructor(e){this.payload=e}}return e.type="[Identity] Update ClaimType",e})(),xt=(()=>{class e{constructor(e={}){this.payload=e}}return e.type="[Identity] Get Users",e})(),zt=(()=>{class e{constructor(e){this.payload=e}}return e.type="[Identity] Get User By Id",e})(),At=(()=>{class e{constructor(e){this.payload=e}}return e.type="[Identity] Delete User",e})(),jt=(()=>{class e{constructor(e){this.payload=e}}return e.type="[Identity] Create User",e})(),Rt=(()=>{class e{constructor(e){this.payload=e}}return e.type="[Identity] Update User",e})(),Zt=(()=>{class e{constructor(e){this.payload=e}}return e.type="[Identity] Get User Roles",e})(),Gt=(()=>{class e{constructor(e){this.id=e}}return e.type="[Identity] Unlock User",e})(),Mt=(()=>{class e{}return e.type="[Identity] Get Organization Units",e})(),qt=(()=>{class e{constructor(e){this.restService=e,this.apiName="AbpIdentity",this.create=e=>this.restService.request({method:"POST",url:"/api/identity/claim-types",body:e},{apiName:this.apiName}),this.delete=e=>this.restService.request({method:"DELETE",url:"/api/identity/claim-types/"+e},{apiName:this.apiName}),this.get=e=>this.restService.request({method:"GET",url:"/api/identity/claim-types/"+e},{apiName:this.apiName}),this.getList=e=>this.restService.request({method:"GET",url:"/api/identity/claim-types",params:{filter:e.filter,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:this.apiName}),this.update=(e,t)=>this.restService.request({method:"PUT",url:"/api/identity/claim-types/"+e,body:t},{apiName:this.apiName})}}return e.\u0275fac=function(t){return new(t||e)(r.hc(a.U))},e.\u0275prov=Object(r.Qb)({factory:function(){return new e(Object(r.hc)(a.U))},token:e,providedIn:"root"}),e})(),Lt=(()=>{class e{constructor(e){this.restService=e,this.apiName="AbpIdentity",this.create=e=>this.restService.request({method:"POST",url:"/api/identity/roles",body:e},{apiName:this.apiName}),this.delete=e=>this.restService.request({method:"DELETE",url:"/api/identity/roles/"+e},{apiName:this.apiName}),this.get=e=>this.restService.request({method:"GET",url:"/api/identity/roles/"+e},{apiName:this.apiName}),this.getAllClaimTypes=()=>this.restService.request({method:"GET",url:"/api/identity/roles/all-claim-types"},{apiName:this.apiName}),this.getAllList=()=>this.restService.request({method:"GET",url:"/api/identity/roles/all"},{apiName:this.apiName}),this.getClaims=e=>this.restService.request({method:"GET",url:`/api/identity/roles/${e}/claims`},{apiName:this.apiName}),this.getList=e=>this.restService.request({method:"GET",url:"/api/identity/roles",params:{filter:e.filter,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:this.apiName}),this.update=(e,t)=>this.restService.request({method:"PUT",url:"/api/identity/roles/"+e,body:t},{apiName:this.apiName}),this.updateClaims=(e,t)=>this.restService.request({method:"PUT",url:`/api/identity/roles/${e}/claims`,body:t},{apiName:this.apiName})}}return e.\u0275fac=function(t){return new(t||e)(r.hc(a.U))},e.\u0275prov=Object(r.Qb)({factory:function(){return new e(Object(r.hc)(a.U))},token:e,providedIn:"root"}),e})(),Ft=(()=>{class e{constructor(e){this.restService=e,this.apiName="AbpIdentity",this.create=e=>this.restService.request({method:"POST",url:"/api/identity/users",body:e},{apiName:this.apiName}),this.delete=e=>this.restService.request({method:"DELETE",url:"/api/identity/users/"+e},{apiName:this.apiName}),this.findByEmail=e=>this.restService.request({method:"GET",url:"/api/identity/users/by-email/"+e},{apiName:this.apiName}),this.findByUsername=e=>this.restService.request({method:"GET",url:"/api/identity/users/by-username/"+e},{apiName:this.apiName}),this.get=e=>this.restService.request({method:"GET",url:"/api/identity/users/"+e},{apiName:this.apiName}),this.getAllClaimTypes=()=>this.restService.request({method:"GET",url:"/api/identity/users/all-claim-types"},{apiName:this.apiName}),this.getAssignableRoles=()=>this.restService.request({method:"GET",url:"/api/identity/users/assignable-roles"},{apiName:this.apiName}),this.getAvailableOrganizationUnits=()=>this.restService.request({method:"GET",url:"/api/identity/users/available-organization-units"},{apiName:this.apiName}),this.getClaims=e=>this.restService.request({method:"GET",url:`/api/identity/users/${e}/claims`},{apiName:this.apiName}),this.getList=e=>this.restService.request({method:"GET",url:"/api/identity/users",params:{filter:e.filter,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:this.apiName}),this.getOrganizationUnits=e=>this.restService.request({method:"GET",url:`/api/identity/users/${e}/organization-units`},{apiName:this.apiName}),this.getRoles=e=>this.restService.request({method:"GET",url:`/api/identity/users/${e}/roles`},{apiName:this.apiName}),this.getTwoFactorEnabled=e=>this.restService.request({method:"GET",url:`/api/identity/users/${e}/two-factor-enabled`},{apiName:this.apiName}),this.lock=(e,t)=>this.restService.request({method:"PUT",url:`/api/identity/users/${e}/lock/${t}`},{apiName:this.apiName}),this.setTwoFactorEnabled=(e,t)=>this.restService.request({method:"PUT",url:`/api/identity/users/${e}/two-factor/${t}`},{apiName:this.apiName}),this.unlock=e=>this.restService.request({method:"PUT",url:`/api/identity/users/${e}/unlock`},{apiName:this.apiName}),this.update=(e,t)=>this.restService.request({method:"PUT",url:"/api/identity/users/"+e,body:t},{apiName:this.apiName}),this.updateClaims=(e,t)=>this.restService.request({method:"PUT",url:`/api/identity/users/${e}/claims`,body:t},{apiName:this.apiName}),this.updatePassword=(e,t)=>this.restService.request({method:"PUT",url:`/api/identity/users/${e}/change-password`,body:t},{apiName:this.apiName}),this.updateRoles=(e,t)=>this.restService.request({method:"PUT",url:`/api/identity/users/${e}/roles`,body:t},{apiName:this.apiName})}}return e.\u0275fac=function(t){return new(t||e)(r.hc(a.U))},e.\u0275prov=Object(r.Qb)({factory:function(){return new e(Object(r.hc)(a.U))},token:e,providedIn:"root"}),e})(),Et=(()=>{class e{constructor(e){this.restService=e,this.apiName="AbpIdentity",this.addMembers=(e,t)=>this.restService.request({method:"PUT",url:`/api/identity/organization-units/${e}/members`,body:t},{apiName:this.apiName}),this.addRoles=(e,t)=>this.restService.request({method:"PUT",url:`/api/identity/organization-units/${e}/roles`,body:t},{apiName:this.apiName}),this.create=e=>this.restService.request({method:"POST",url:"/api/identity/organization-units",body:e},{apiName:this.apiName}),this.delete=e=>this.restService.request({method:"DELETE",url:"/api/identity/organization-units",params:{id:e}},{apiName:this.apiName}),this.get=e=>this.restService.request({method:"GET",url:"/api/identity/organization-units/"+e},{apiName:this.apiName}),this.getAvailableRoles=e=>this.restService.request({method:"GET",url:"/api/identity/organization-units/available-roles",params:{filter:e.filter,id:e.id,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:this.apiName}),this.getAvailableUsers=e=>this.restService.request({method:"GET",url:"/api/identity/organization-units/available-users",params:{filter:e.filter,id:e.id,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:this.apiName}),this.getList=e=>this.restService.request({method:"GET",url:"/api/identity/organization-units",params:{filter:e.filter,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:this.apiName}),this.getListAll=()=>this.restService.request({method:"GET",url:"/api/identity/organization-units/all"},{apiName:this.apiName}),this.getMembers=(e,t)=>this.restService.request({method:"GET",url:`/api/identity/organization-units/${e}/members`,params:{filter:t.filter,sorting:t.sorting,skipCount:t.skipCount,maxResultCount:t.maxResultCount}},{apiName:this.apiName}),this.getRoles=(e,t)=>this.restService.request({method:"GET",url:`/api/identity/organization-units/${e}/roles`,params:{skipCount:t.skipCount,maxResultCount:t.maxResultCount,sorting:t.sorting}},{apiName:this.apiName}),this.move=(e,t)=>this.restService.request({method:"PUT",url:`/api/identity/organization-units/${e}/move`,body:t},{apiName:this.apiName}),this.removeMember=(e,t)=>this.restService.request({method:"DELETE",url:`/api/identity/organization-units/${e}/members/${t}`},{apiName:this.apiName}),this.removeRole=(e,t)=>this.restService.request({method:"DELETE",url:`/api/identity/organization-units/${e}/roles/${t}`},{apiName:this.apiName}),this.update=(e,t)=>this.restService.request({method:"PUT",url:"/api/identity/organization-units/"+e,body:t},{apiName:this.apiName})}}return e.\u0275fac=function(t){return new(t||e)(r.hc(a.U))},e.\u0275prov=Object(r.Qb)({factory:function(){return new e(Object(r.hc)(a.U))},token:e,providedIn:"root"}),e})(),Vt=(()=>{let e=class{constructor(e,t,i,n){this.roleService=e,this.userService=t,this.claimTypeService=i,this.organizationUnitService=n}static getRoles({roles:e}){return e.items||[]}static getRolesTotalCount({roles:e}){return e.totalCount||0}static getUsers({users:e}){return e.items||[]}static getUsersTotalCount({users:e}){return e.totalCount||0}static getClaimTypes({claims:e}){return e.items||[]}static getClaimTypesTotalCount({claims:e}){return e.totalCount||0}getRoles({patchState:e},{payload:t}){return this.roleService.getList(t).pipe(Object(l.a)(t=>e({roles:t})))}deleteRole(e,{payload:t}){return this.roleService.delete(t)}addRole(e,{payload:t}){return this.roleService.create(t)}updateRole(e,t){var i=t.payload,{id:a}=i,o=Object(n.e)(i,["id"]);return this.roleService.update(a,o)}getUsers({patchState:e},{payload:t}){return this.userService.getList(t).pipe(Object(l.a)(t=>e({users:t})))}deleteUser(e,{payload:t}){return this.userService.delete(t)}createUser(e,{payload:t}){return this.userService.create(t)}updateUser(e,t){var i=t.payload,{id:a}=i,o=Object(n.e)(i,["id"]);return this.userService.update(a,o)}unlockUser(e,{id:t}){return this.userService.unlock(t)}getUserRoles({patchState:e},{payload:t}){return this.userService.getRoles(t).pipe(Object(d.a)("items"),Object(l.a)(t=>e({selectedUserRoles:t})))}getClaimTypes({patchState:e},{payload:t}){return this.claimTypeService.getList(t).pipe(Object(l.a)(t=>e({claims:t})))}getClaimType({patchState:e},{payload:t}){return this.claimTypeService.get(t).pipe(Object(l.a)(t=>e({selectedClaim:t})))}deleteClaimType(e,{payload:t}){return this.claimTypeService.delete(t)}createClaimType(e,{payload:t}){return this.claimTypeService.create(t)}updateClaimType(e,t){var i=t.payload,{id:a}=i,o=Object(n.e)(i,["id"]);return this.claimTypeService.update(a,o)}getOrganizationUnits({patchState:e}){return this.organizationUnitService.getListAll().pipe(Object(l.a)(t=>e({organizationUnits:t})))}};return e.\u0275fac=function(t){return new(t||e)(r.hc(Lt),r.hc(Ft),r.hc(qt),r.hc(Et))},e.\u0275prov=r.Qb({token:e,factory:function(t){return e.\u0275fac(t)}}),Object(n.b)([Object(s.a)(vt)],e.prototype,"getRoles",null),Object(n.b)([Object(s.a)(kt)],e.prototype,"deleteRole",null),Object(n.b)([Object(s.a)(Ct)],e.prototype,"addRole",null),Object(n.b)([Object(s.a)(Tt)],e.prototype,"updateRole",null),Object(n.b)([Object(s.a)(xt)],e.prototype,"getUsers",null),Object(n.b)([Object(s.a)(At)],e.prototype,"deleteUser",null),Object(n.b)([Object(s.a)(jt)],e.prototype,"createUser",null),Object(n.b)([Object(s.a)(Rt)],e.prototype,"updateUser",null),Object(n.b)([Object(s.a)(Gt)],e.prototype,"unlockUser",null),Object(n.b)([Object(s.a)(Zt)],e.prototype,"getUserRoles",null),Object(n.b)([Object(s.a)(St)],e.prototype,"getClaimTypes",null),Object(n.b)([Object(s.a)(Nt)],e.prototype,"getClaimType",null),Object(n.b)([Object(s.a)(Ot)],e.prototype,"deleteClaimType",null),Object(n.b)([Object(s.a)(wt)],e.prototype,"createClaimType",null),Object(n.b)([Object(s.a)(Ut)],e.prototype,"updateClaimType",null),Object(n.b)([Object(s.a)(Mt)],e.prototype,"getOrganizationUnits",null),Object(n.b)([Object(s.e)()],e,"getRoles",null),Object(n.b)([Object(s.e)()],e,"getRolesTotalCount",null),Object(n.b)([Object(s.e)()],e,"getUsers",null),Object(n.b)([Object(s.e)()],e,"getUsersTotalCount",null),Object(n.b)([Object(s.e)()],e,"getClaimTypes",null),Object(n.b)([Object(s.e)()],e,"getClaimTypesTotalCount",null),e=Object(n.b)([Object(s.f)({name:"IdentityState",defaults:{roles:{},users:{},claims:{},selectedClaim:{},selectedUserRoles:[],organizationUnits:{}}})],e),e})();const Pt="Identity.ClaimsComponent";let Dt=(()=>{class e{constructor(e,t,i,n){this.list=e,this.confirmationService=t,this.store=i,this.injector=n,this.modalBusy=!1,this.trackByFn=(e,t)=>Object.keys(t)[0]||e}ngOnInit(){this.hookToQuery()}hookToQuery(){this.list.hookToQuery(e=>this.store.dispatch(new St(e))).subscribe()}buildForm(){const e=new c.k(this.injector,this.selected);this.form=Object(c.p)(e)}getTypeName(e){switch(e){case 0:return"String";case 1:return"Int";case 2:return"Boolean";case 3:return"DateTime";default:return e}}openModal(){this.buildForm(),this.isModalVisible=!0}onAdd(){this.selected={},this.openModal()}onEdit(e){this.store.dispatch(new Nt(e)).pipe(Object(d.a)("IdentityState"),Object(p.a)(1)).subscribe(e=>{this.selected=e.selectedClaim,this.openModal()})}save(){this.form.valid&&!this.modalBusy&&(this.modalBusy=!0,this.store.dispatch(this.selected.id?new Ut(Object.assign(Object.assign(Object.assign({},this.selected),this.form.value),{id:this.selected.id})):new wt(Object.assign({},this.form.value))).pipe(Object(b.a)(()=>this.modalBusy=!1)).subscribe(()=>{this.list.get(),this.isModalVisible=!1}))}delete(e,t){this.confirmationService.warn("AbpIdentity::ClaimTypeDeletionConfirmationMessage","AbpIdentity::AreYouSure",{messageLocalizationParams:[t]}).subscribe(t=>{t===o.d.Status.confirm&&this.store.dispatch(new Ot(e)).subscribe(()=>this.list.get())})}}return e.\u0275fac=function(t){return new(t||e)(r.Ub(a.F),r.Ub(o.e),r.Ub(s.g),r.Ub(r.w))},e.\u0275cmp=r.Ob({type:e,selectors:[["abp-claims"]],viewQuery:function(e,t){if(1&e&&r.Wc(Y,1),2&e){let e;r.Ec(e=r.lc())&&(t.modalContent=e.first)}},features:[r.Fb([a.F,{provide:c.d,useValue:Pt}])],decls:9,vars:5,consts:[[4,"ngIf"],["size","md",3,"visible","busy","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],[1,"row","entry-row"],[1,"col-auto"],[1,"content-header-title"],[1,"col-lg-auto","pl-lg-0"],[1,"col"],[3,"record"],["id","identity-claim-types-wrapper"],[1,"card"],[1,"card-body"],[1,"row"],[1,"input-group"],["type","search",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"input-group-append"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-search"],[3,"data","recordsTotal","list"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"mt-2","fade-in-top"],[3,"selectedRecord"],["type","button",1,"btn","btn-secondary"],["abpClose",""],["iconClass","fa fa-check",3,"disabled","click"]],template:function(e,t){1&e&&(r.Qc(0,W,24,13,"ng-container",0),r.pc(1,"async"),r.ac(2,"abp-modal",1),r.kc("visibleChange",function(e){return t.isModalVisible=e}),r.Qc(3,H,3,3,"ng-template",null,2,r.Rc),r.Qc(5,X,3,2,"ng-template",null,3,r.Rc),r.Qc(7,J,7,7,"ng-template",null,4,r.Rc),r.Zb()),2&e&&(r.vc("ngIf",r.qc(1,3,t.data$)),r.Gb(2),r.vc("visible",t.isModalVisible)("busy",t.modalBusy))},directives:[I.q,o.h,o.a,c.m,D.e,D.q,D.t,c.h,D.B,D.r,a.w,D.k,$.j,c.g,o.b],pipes:[I.b,a.H],encapsulation:2}),Object(n.b)([Object(s.d)(Vt.getClaimTypes)],e.prototype,"data$",void 0),Object(n.b)([Object(s.d)(Vt.getClaimTypesTotalCount)],e.prototype,"totalCount$",void 0),e})();const Qt=new r.v("ORGANIZATION_UNIT_CONFIG");let Bt=(()=>{class e{constructor(e){this.injector=e,this.currentOrganizationUnits={items:[]},this.checkedUnits={},this.isCheckboxDisabled=e=>this.currentOrganizationUnits.items.findIndex(t=>t.id===e)>-1,this.list=e.get(a.F),this.list.maxResultCount=1e3,this.organizationUnitService=e.get(Et),this.confirmation=e.get(o.e),this.config=e.get(Qt,{})}ngOnChanges({selectedOrganizationUnit:e}){(null==e?void 0:e.firstChange)?this.hookToQuery():(null==e?void 0:e.currentValue)&&this.list.get()}hookToQuery(){this.list.hookToQuery(e=>this.organizationUnitService[this.config.getCurrentUnitsMethodName](this.selectedOrganizationUnit.id,e)).subscribe(e=>{this.currentOrganizationUnits=e,this.checkedUnits={},e.items.forEach(e=>{this.checkedUnits[e.id]=!0})})}addUnits(){this.isModalBusy=!0,this.organizationUnitService[this.config.addUnitsMethodName](this.selectedOrganizationUnit.id,{[this.config.addUnitsBodyPropName]:Object.keys(this.checkedUnits)}).pipe(Object(b.a)(()=>this.isModalBusy=!1)).subscribe(()=>{this.isModalVisible=!1,this.list.get()})}delete(e,t){this.confirmation.warn(this.config.deletionLocalizationKey,"AbpIdentity::AreYouSure",{messageLocalizationParams:[t,this.selectedOrganizationUnit.displayName]}).subscribe(t=>{t===o.d.Status.confirm&&this.organizationUnitService[this.config.deleteMethodName](this.selectedOrganizationUnit.id,e).subscribe(()=>this.list.get())})}openModal(){this.isModalVisible=!0}}return e.\u0275fac=function(t){return new(t||e)(r.Ub(r.w))},e.\u0275cmp=r.Ob({type:e,selectors:[["ng-component"]],inputs:{selectedOrganizationUnit:"selectedOrganizationUnit"},features:[r.Eb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();const Kt={getCurrentUnitsMethodName:"getMembers",addUnitsMethodName:"addMembers",addUnitsBodyPropName:"userIds",deleteMethodName:"removeMember",deletionLocalizationKey:"AbpIdentity::RemoveUserFromOuWarningMessage"};let $t=(()=>{class e extends Bt{}return e.\u0275fac=function(t){return ii(t||e)},e.\u0275cmp=r.Ob({type:e,selectors:[["abp-organization-members"]],features:[r.Fb([a.F,{provide:c.d,useValue:"Identity.OrganizationMembersComponent"},{provide:Qt,useValue:Kt}]),r.Db],decls:13,vars:8,consts:[[1,"text-right"],[1,"btn","btn-sm","btn-primary","mb-2",3,"click"],[1,"fas","fa-plus","mr-1"],[3,"data","recordsTotal","list"],[3,"visible","busy","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],[3,"checkedUnits","isCheckboxDisabled"],["type","button",1,"btn","btn-secondary"],["abpClose",""],["iconClass","fa fa-check",3,"click"]],template:function(e,t){1&e&&(r.ac(0,"div",0),r.ac(1,"button",1),r.kc("click",function(){return t.openModal()}),r.Vb(2,"i",2),r.Sc(3),r.pc(4,"abpLocalization"),r.Zb(),r.Zb(),r.Vb(5,"abp-extensible-table",3),r.ac(6,"abp-modal",4),r.kc("visibleChange",function(e){return t.isModalVisible=e}),r.Qc(7,ee,3,3,"ng-template",null,5,r.Rc),r.Qc(9,te,1,2,"ng-template",null,6,r.Rc),r.Qc(11,ie,7,6,"ng-template",null,7,r.Rc),r.Zb()),2&e&&(r.Gb(3),r.Uc(" ",r.qc(4,6,"AbpIdentity::AddMember")," "),r.Gb(2),r.vc("data",t.currentOrganizationUnits.items)("recordsTotal",t.currentOrganizationUnits.totalCount)("list",t.list),r.Gb(1),r.vc("visible",t.isModalVisible)("busy",t.isModalBusy))},directives:function(){return[c.h,o.h,Di,o.b]},pipes:function(){return[a.H]},encapsulation:2}),e})();const _t={getCurrentUnitsMethodName:"getRoles",addUnitsMethodName:"addRoles",addUnitsBodyPropName:"roleIds",deleteMethodName:"removeRole",deletionLocalizationKey:"AbpIdentity::RemoveRoleFromOuWarningMessage"};let Yt=(()=>{class e extends Bt{}return e.\u0275fac=function(t){return ni(t||e)},e.\u0275cmp=r.Ob({type:e,selectors:[["abp-organization-roles"]],features:[r.Fb([a.F,{provide:c.d,useValue:"Identity.OrganizationRolesComponent"},{provide:Qt,useValue:_t}]),r.Db],decls:13,vars:8,consts:[[1,"text-right"],[1,"btn","btn-sm","btn-primary","mb-2",3,"click"],[1,"fas","fa-plus","mr-1"],[3,"data","recordsTotal","list"],[3,"visible","busy","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],[3,"checkedUnits","isCheckboxDisabled"],["type","button",1,"btn","btn-secondary"],["abpClose",""],["iconClass","fa fa-check",3,"click"]],template:function(e,t){1&e&&(r.ac(0,"div",0),r.ac(1,"button",1),r.kc("click",function(){return t.openModal()}),r.Vb(2,"i",2),r.Sc(3),r.pc(4,"abpLocalization"),r.Zb(),r.Zb(),r.Vb(5,"abp-extensible-table",3),r.ac(6,"abp-modal",4),r.kc("visibleChange",function(e){return t.isModalVisible=e}),r.Qc(7,ne,3,3,"ng-template",null,5,r.Rc),r.Qc(9,ae,1,2,"ng-template",null,6,r.Rc),r.Qc(11,oe,7,6,"ng-template",null,7,r.Rc),r.Zb()),2&e&&(r.Gb(3),r.Uc(" ",r.qc(4,6,"AbpIdentity::AddRole")," "),r.Gb(2),r.vc("data",t.currentOrganizationUnits.items)("recordsTotal",t.currentOrganizationUnits.totalCount)("list",t.list),r.Gb(1),r.vc("visible",t.isModalVisible)("busy",t.isModalBusy))},directives:function(){return[c.h,o.h,Qi,o.b]},pipes:function(){return[a.H]},encapsulation:2}),e})(),Wt=(()=>{class e{constructor(e,t,i,n,a){this.injector=e,this.store=t,this.organizationUnitService=i,this.fb=n,this.confirmation=a,this.organizationUnits=[],this.nodes=[],this.expandedKeys=[],this.organizationMembersKey="Identity.OrganizationMembersComponent",this.organizationRolesKey="Identity.OrganizationRolesComponent",this.get=()=>{this.loading=!0,this.store.dispatch(new Mt).pipe(Object(d.a)("IdentityState","organizationUnits","items"),Object(b.a)(()=>this.loading=!1)).subscribe((e=[])=>{this.organizationUnits=e,this.treeAdapter=new E(e),this.nodes=this.treeAdapter.getTree(),this.expandedKeys=[...this.expandedKeys]})}}ngOnInit(){this.get()}buildForm(e={}){const t=new c.k(this.injector,e);this.nodeForm=Object(c.p)(t),this.nodeForm.addControl("parentId",new D.g(void 0)),this.nodeForm.addControl("id",new D.g(void 0))}add(){this.buildForm(),this.isNodeModalVisible=!0}edit(e){this.buildForm(e),this.nodeForm.patchValue({parentId:"",displayName:e.displayName,id:e.id}),this.isNodeModalVisible=!0}addSubUnit({id:e}){this.buildForm(),this.nodeForm.patchValue({parentId:e,displayName:"",id:void 0}),this.isNodeModalVisible=!0,this.expandedKeys=this.expandedKeys.concat(e)}save(){if(this.nodeForm.invalid)return;const e=this.nodeForm.value,{id:t}=e,i=Object(n.e)(e,["id"]),a=t?this.organizationUnitService.update(t,{displayName:i.displayName}):this.organizationUnitService.create(i);this.isModalBusy=!0,a.pipe(Object(b.a)(()=>this.isModalBusy=!1)).subscribe(()=>{this.get(),this.isNodeModalVisible=!1})}delete({id:e,displayName:t}){this.confirmation.warn("AbpIdentity::OrganizationUnitDeletionConfirmationMessage","AbpIdentity::AreYouSure",{messageLocalizationParams:[t]}).subscribe(t=>{t===o.d.Status.confirm&&this.organizationUnitService.delete(e).subscribe(()=>this.get())})}getParentName(e){const t=this.organizationUnits.find(t=>t.id===e);return t?t.displayName:""}onDrop(e){if(!e.node)return;let t=e.node.key;e.node.origin.parentId||-1!==e.pos||(t=null),this.move(e.dragNode.key,t)}move(e,t){this.organizationUnitService.move(e,{newParentId:t}).subscribe(this.get)}}return e.\u0275fac=function(t){return new(t||e)(r.Ub(r.w),r.Ub(s.g),r.Ub(Et),r.Ub(D.f),r.Ub(o.e))},e.\u0275cmp=r.Ob({type:e,selectors:[["abp-organization-units"]],features:[r.Fb([{provide:c.d,useValue:"Identity.OrganizationUnitsComponent"}])],decls:19,vars:8,consts:[[1,"row","entry-row"],[1,"col-auto"],[1,"content-header-title"],[1,"col-lg-auto","pl-lg-0"],[1,"col"],[3,"record"],[1,"row"],["class","col-12 col-lg-6 col-xl-5",4,"abpPermission"],["class","col-12 col-lg-6 col-xl-7",4,"abpPermission"],["size","md",3,"visible","busy","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],[1,"col-12","col-lg-6","col-xl-5"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"fas","fa-plus","mr-1"],[1,"card-body",3,"abpLoading"],[3,"nodes","expandedKeys","selectedNode","draggable","expandedKeysChange","selectedNodeChange","dropOver"],["abpTreeNodeTemplate",""],["menu",""],["class","text-muted",4,"ngIf"],[1,"fas","fa-folder","fs-15px","text-primary","mr-1"],["ngbDropdownItem","",1,"pointer",3,"click"],[1,"text-muted"],[1,"col-12","col-lg-6","col-xl-7"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem","",4,"abpPermission"],[3,"ngbNavOutlet"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],[4,"ngIf","ngIfElse"],["selectUnitMsg",""],[3,"selectedOrganizationUnit",4,"abpReplaceableTemplate"],[3,"selectedOrganizationUnit"],["class","mb-3",4,"ngIf"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[3,"selectedRecord"],[1,"mb-3"],["type","button",1,"btn","btn-secondary"],["abpClose",""],["iconClass","fa fa-check",3,"disabled","click"]],template:function(e,t){1&e&&(r.ac(0,"div",0),r.ac(1,"div",1),r.ac(2,"h1",2),r.Sc(3),r.pc(4,"abpLocalization"),r.Zb(),r.Zb(),r.ac(5,"div",3),r.Vb(6,"abp-breadcrumb"),r.Zb(),r.ac(7,"div",4),r.Vb(8,"abp-page-toolbar",5),r.Zb(),r.Zb(),r.ac(9,"div",6),r.Qc(10,le,16,12,"div",7),r.Qc(11,Te,7,3,"div",8),r.Zb(),r.ac(12,"abp-modal",9),r.kc("visibleChange",function(e){return t.isNodeModalVisible=e}),r.Qc(13,Se,3,3,"ng-template",null,10,r.Rc),r.Qc(15,Oe,3,3,"ng-template",null,11,r.Rc),r.Qc(17,we,7,7,"ng-template",null,12,r.Rc),r.Zb()),2&e&&(r.Gb(3),r.Tc(r.qc(4,6,"AbpIdentity::OrganizationUnits")),r.Gb(5),r.vc("record",t.organizationUnits),r.Gb(2),r.vc("abpPermission","AbpIdentity.OrganizationUnits.ManageOU"),r.Gb(1),r.vc("abpPermission","AbpIdentity.OrganizationUnits.ManageMembers || AbpIdentity.OrganizationUnits.ManageRoles"),r.Gb(1),r.vc("visible",t.isNodeModalVisible)("busy",t.isModalBusy))},directives:[o.a,c.m,a.M,o.h,o.g,q,G,I.q,g.f,g.k,g.p,g.m,g.n,g.l,a.S,$t,Yt,D.B,D.r,a.w,D.k,$.j,c.g,o.b],pipes:[a.H],styles:[".fs-15px[_ngcontent-%COMP%] {\n        font-size: 15px;\n      }"]}),e})(),Ht=(()=>{class e{constructor(e,t,i,n,a){this.list=e,this.confirmationService=t,this.roleService=i,this.store=n,this.injector=a,this.visiblePermissions=!1,this.modalBusy=!1,this.visibleClaims=!1,this.claimSubject={},this.onVisiblePermissionChange=e=>{this.visiblePermissions=e}}createForm(){const e=new c.k(this.injector,this.selected);this.form=Object(c.p)(e)}hookToQuery(){this.list.hookToQuery(e=>this.store.dispatch(new vt(e))).subscribe()}ngOnInit(){this.hookToQuery()}openModal(){this.createForm(),this.isModalVisible=!0}onAdd(){this.selected={},this.openModal()}onEdit(e){this.roleService.get(e).pipe(Object(p.a)(1)).subscribe(e=>{this.selected=e,this.openModal()})}save(){this.form.valid&&(this.modalBusy=!0,this.store.dispatch(this.selected.id?new Tt(Object.assign(Object.assign(Object.assign({},this.selected),this.form.value),{id:this.selected.id,concurrencyStamp:this.selected.concurrencyStamp})):new Ct(this.form.value)).pipe(Object(b.a)(()=>this.modalBusy=!1)).subscribe(()=>{this.list.get(),this.isModalVisible=!1}))}delete(e,t){this.confirmationService.warn("AbpIdentity::RoleDeletionConfirmationMessage","AbpIdentity::AreYouSure",{messageLocalizationParams:[t]}).subscribe(t=>{t===o.d.Status.confirm&&this.store.dispatch(new kt(e)).subscribe(()=>this.list.get())})}onManageClaims(e){this.claimSubject={id:e,type:"roles"},this.visibleClaims=!0}openPermissionsModal(e){this.providerKey=e,setTimeout(()=>{this.visiblePermissions=!0},0)}}return e.\u0275fac=function(t){return new(t||e)(r.Ub(a.F),r.Ub(o.e),r.Ub(Lt),r.Ub(s.g),r.Ub(r.w))},e.\u0275cmp=r.Ob({type:e,selectors:[["abp-roles"]],viewQuery:function(e,t){if(1&e&&r.Wc(Y,1),2&e){let e;r.Ec(e=r.lc())&&(t.modalContent=e.first)}},features:[r.Fb([a.F,{provide:c.d,useValue:"Identity.RolesComponent"}])],decls:11,vars:24,consts:[[4,"ngIf"],["size","md",3,"visible","busy","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],["providerName","R",3,"visible","providerKey","hideBadges","visibleChange",4,"abpReplaceableTemplate"],[3,"visible","subject","visibleChange"],[1,"row","entry-row"],[1,"col-auto"],[1,"content-header-title"],[1,"col-lg-auto","pl-lg-0"],[1,"col"],[3,"record"],["id","identity-roles-wrapper"],[1,"card"],[1,"card-body"],[1,"row"],[1,"input-group"],["type","search",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"input-group-append"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-search"],[3,"data","recordsTotal","list"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[3,"selectedRecord"],["type","button",1,"btn","btn-secondary"],["abpClose",""],["iconClass","fa fa-check",3,"disabled","click"],["providerName","R",3,"visible","providerKey","hideBadges","visibleChange"]],template:function(e,t){1&e&&(r.Qc(0,Ue,24,13,"ng-container",0),r.pc(1,"async"),r.ac(2,"abp-modal",1),r.kc("visibleChange",function(e){return t.isModalVisible=e}),r.Qc(3,xe,3,3,"ng-template",null,2,r.Rc),r.Qc(5,ze,2,2,"ng-template",null,3,r.Rc),r.Qc(7,Ae,7,7,"ng-template",null,4,r.Rc),r.Zb(),r.Qc(9,je,1,3,"abp-permission-management",5),r.ac(10,"abp-claim-modal",6),r.kc("visibleChange",function(e){return t.visibleClaims=e}),r.Zb()),2&e&&(r.vc("ngIf",r.qc(1,6,t.data$)),r.Gb(2),r.vc("visible",t.isModalVisible)("busy",t.modalBusy),r.Gb(7),r.vc("abpReplaceableTemplate",r.Ac(21,Le,r.Cc(14,Me,r.yc(8,Re),r.zc(9,pe,t.providerKey),r.yc(11,Ze),r.zc(12,Ge,t.visiblePermissions)),r.zc(19,qe,t.onVisiblePermissionChange))),r.Gb(1),r.vc("visible",t.visibleClaims)("subject",t.claimSubject))},directives:function(){return[I.q,o.h,a.S,Pi,o.a,c.m,D.e,D.q,D.t,c.h,D.B,D.r,a.w,D.k,$.j,c.g,o.b,K.a]},pipes:function(){return[I.b,a.H]},encapsulation:2}),Object(n.b)([Object(s.d)(Vt.getRoles)],e.prototype,"data$",void 0),Object(n.b)([Object(s.d)(Vt.getRolesTotalCount)],e.prototype,"totalCount$",void 0),e})();var Xt=function(e){return e[e.Optional=0]="Optional",e[e.Disabled=1]="Disabled",e[e.Forced=2]="Forced",e}({});const Jt=Object(a.qb)(Xt);var ei=function(e){return e[e.Second=1]="Second",e[e.Minute=60]="Minute",e[e.Hour=3600]="Hour",e[e.Day=86400]="Day",e[e.Month=2592e3]="Month",e[e.Year=31536e3]="Year",e}({});let ti=(()=>{class e{constructor(e,t,i,n,c,r,s,l){this.list=e,this.confirmationService=t,this.userService=i,this.fb=n,this.store=c,this.toasterService=r,this.injector=s,this.configState=l,this.setPasswordForm=this.fb.group({newPassword:["",[D.A.required,...Object(o.r)(this.injector)]]}),this.visiblePermissions=!1,this.modalBusy=!1,this.visibleClaims=!1,this.claimSubject={},this.organization={response:{},nodes:[],checkedKeys:[],expandedKeys:[],selectFn:()=>!1},this.twoFactor={isModalVisible:!1,checkboxValue:!1,isOptional:!1},this.lockForm=this.fb.group({lockoutDuration:[0,[D.A.required]],lockDurationType:[ei.Second]}),this.lockDurationTypeOptions=Object(a.qb)(ei),this.trackByFn=(e,t)=>Object.keys(t)[0]||e,this.onVisiblePermissionChange=e=>{this.visiblePermissions=e}}get roleGroups(){return Object(Q.a)(()=>this.form.get("roleNames").controls,[])}ngOnInit(){const{key:e}=Jt[0];this.twoFactor.isOptional=this.configState.getFeature("Identity.TwoFactor")===e&&this.configState.getSetting("Abp.Identity.TwoFactor.Behaviour")===e,this.hookToQuery()}hookToQuery(){this.list.hookToQuery(e=>this.store.dispatch(new xt(e))).subscribe()}buildForm(){const e=new c.k(this.injector,this.selected);this.form=Object(c.p)(e),this.userService.getAssignableRoles().subscribe(({items:e})=>{this.roles=e,this.form.addControl("roleNames",this.fb.array(this.roles.map(e=>this.fb.group({[e.name]:[this.selected.id?!!Object(Q.a)(()=>this.selectedUserRoles.find(t=>t.id===e.id)):e.isDefault]}))))}),this.userService.getAvailableOrganizationUnits().subscribe(e=>{this.organization.response=e,this.organization.nodes=new E(e.items).getTree(),this.organization.expandedKeys=e.items.map(e=>e.id),this.organization.checkedKeys=this.selectedOrganizationUnits.map(e=>e.id)})}openModal(){this.buildForm(),this.isModalVisible=!0}onAdd(){this.selected={},this.selectedUserRoles=[],this.selectedOrganizationUnits=[],this.openModal()}onEdit(e){this.userService.get(e).pipe(Object(l.a)(e=>this.selected=e),Object(u.a)(()=>this.store.dispatch(new Zt(e))),Object(d.a)("IdentityState"),Object(l.a)(e=>this.selectedUserRoles=e.selectedUserRoles||[]),Object(u.a)(()=>this.userService.getOrganizationUnits(e)),Object(l.a)(e=>this.selectedOrganizationUnits=e),Object(p.a)(1)).subscribe(()=>this.openModal())}save(){if(!this.form.valid)return;this.modalBusy=!0;const{roleNames:e}=this.form.value,t=Object(Q.a)(()=>e.filter(e=>!!e[Object.keys(e)[0]]).map(e=>Object.keys(e)[0]),[]);this.store.dispatch(this.selected.id?new Rt(Object.assign(Object.assign(Object.assign({},this.selected),this.form.value),{id:this.selected.id,roleNames:t,organizationUnitIds:this.organization.checkedKeys})):new jt(Object.assign(Object.assign({},this.form.value),{roleNames:t,organizationUnitIds:this.organization.checkedKeys}))).pipe(Object(b.a)(()=>this.modalBusy=!1)).subscribe(()=>{this.list.get(),this.isModalVisible=!1})}delete(e,t){this.confirmationService.warn("AbpIdentity::UserDeletionConfirmationMessage","AbpIdentity::AreYouSure",{messageLocalizationParams:[t]}).subscribe(t=>{t===o.d.Status.confirm&&this.store.dispatch(new At(e)).subscribe(()=>this.list.get())})}onManageClaims(e){this.claimSubject={id:e,type:"users"},this.visibleClaims=!0}unlock(e){this.store.dispatch(new Gt(e)).subscribe(()=>{this.toasterService.success("AbpIdentity::UserUnlocked"),this.list.get()})}openPermissionsModal(e){this.providerKey=e,setTimeout(()=>{this.visiblePermissions=!0},0)}setPassword(){this.setPasswordForm.invalid||(this.modalBusy=!0,this.userService.updatePassword(this.selected.id,this.setPasswordForm.value).pipe(Object(b.a)(()=>this.modalBusy=!1)).subscribe(()=>{this.isSetPasswordModalVisible=!1,this.selected={},this.setPasswordForm.reset()}))}generatePassword(){this.setPasswordForm.get("newPassword").setValue(Object(a.kb)())}lock(){const{lockoutDuration:e,lockDurationType:t}=this.lockForm.value;this.modalBusy=!0,this.userService.lock(this.selected.id,e*t).pipe(Object(b.a)(()=>this.modalBusy=!1)).subscribe(()=>{this.isLockModalVisible=!1,this.lockForm.reset({lockoutDuration:0,lockDurationType:ei.Second}),this.list.get()})}setTwoFactor(){this.modalBusy=!0,this.userService.setTwoFactorEnabled(this.selected.id,this.twoFactor.checkboxValue).pipe(Object(b.a)(()=>this.modalBusy=!1)).subscribe(()=>this.twoFactor.isModalVisible=!1)}}return e.\u0275fac=function(t){return new(t||e)(r.Ub(a.F),r.Ub(o.e),r.Ub(Ft),r.Ub(D.f),r.Ub(s.g),r.Ub(o.o),r.Ub(r.w),r.Ub(a.m))},e.\u0275cmp=r.Ob({type:e,selectors:[["abp-users"]],viewQuery:function(e,t){if(1&e&&r.Wc(Y,1),2&e){let e;r.Ec(e=r.lc())&&(t.modalContent=e.first)}},features:[r.Fb([a.F,{provide:c.d,useValue:"Identity.UsersComponent"}])],decls:32,vars:30,consts:[[4,"ngIf"],[3,"visible","busy","visibleChange","disappear"],["abpHeader",""],["abpBody",""],["abpFooter",""],["providerName","U",3,"visible","providerKey","hideBadges","visibleChange",4,"abpReplaceableTemplate"],[3,"visible","subject","visibleChange"],["size","md",3,"visible","busy","visibleChange"],[1,"row","entry-row"],[1,"col-auto"],[1,"content-header-title"],[1,"col-lg-auto","pl-lg-0"],[1,"col"],[3,"record"],["id","identity-users-wrapper"],[1,"card"],[1,"card-body"],[1,"row"],[1,"input-group"],["type","search",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"input-group-append"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-search"],[3,"data","recordsTotal","list"],["validateOnSubmit","",3,"formGroup","ngSubmit",4,"ngIf"],["validateOnSubmit","",3,"formGroup","ngSubmit"],["id","user-nav-tabs","ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["id","user-informations","ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],["id","user-roles","ngbNavItem",""],["id","user-organization-units","ngbNavItem",""],[1,"mt-2","fade-in-top",3,"ngbNavOutlet"],[3,"selectedRecord"],["class","custom-checkbox custom-control mb-2",4,"ngFor","ngForOf","ngForTrackBy"],[1,"custom-checkbox","custom-control","mb-2"],["type","checkbox",1,"custom-control-input",3,"formControl"],[1,"custom-control-label"],[3,"checkStrictly","checkable","nodes","isNodeSelected","checkedKeys","expandedKeys","checkedKeysChange","expandedKeysChange",4,"ngIf","ngIfElse"],["noDataMessage",""],[3,"checkStrictly","checkable","nodes","isNodeSelected","checkedKeys","expandedKeys","checkedKeysChange","expandedKeysChange"],[1,"text-muted"],["type","button",1,"btn","btn-secondary"],["abpClose",""],["iconClass","fa fa-check",3,"disabled","click"],["providerName","U",3,"visible","providerKey","hideBadges","visibleChange"],[1,"mt-2","fade-in-top"],[1,"form-group"],["for","new-password"],[1,"col-10","p-0"],["type","text","id","new-password","formControlName","newPassword","autofocus","",1,"form-control"],[1,"input-group-append","col-2","p-0"],["id","generate-random-password-button","type","button",1,"btn","btn-secondary","mh-35",3,"click"],[1,"fa","fa-refresh"],[1,"form-group",3,"formGroup"],["type","number","formControlName","lockoutDuration",1,"form-control"],["for","httpMethod"],["formControlName","lockDurationType",1,"custom-select","form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["type","checkbox","id","two-factor-enabled",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","two-factor-enabled",1,"custom-control-label"]],template:function(e,t){1&e&&(r.Qc(0,Fe,24,13,"ng-container",0),r.pc(1,"async"),r.ac(2,"abp-modal",1),r.kc("visibleChange",function(e){return t.isModalVisible=e})("disappear",function(){return t.form=null}),r.Qc(3,Ee,3,3,"ng-template",null,2,r.Rc),r.Qc(5,_e,1,1,"ng-template",null,3,r.Rc),r.Qc(7,Ye,7,7,"ng-template",null,4,r.Rc),r.Zb(),r.Qc(9,We,1,3,"abp-permission-management",5),r.ac(10,"abp-claim-modal",6),r.kc("visibleChange",function(e){return t.visibleClaims=e}),r.Zb(),r.ac(11,"abp-modal",7),r.kc("visibleChange",function(e){return t.isSetPasswordModalVisible=e}),r.Qc(12,He,3,3,"ng-template",null,2,r.Rc),r.Qc(14,Xe,12,4,"ng-template",null,3,r.Rc),r.Qc(16,Je,7,7,"ng-template",null,4,r.Rc),r.Zb(),r.ac(18,"abp-modal",7),r.kc("visibleChange",function(e){return t.isLockModalVisible=e}),r.Qc(19,et,3,4,"ng-template",null,2,r.Rc),r.Qc(21,it,13,9,"ng-template",null,3,r.Rc),r.Qc(23,nt,7,7,"ng-template",null,4,r.Rc),r.Zb(),r.ac(25,"abp-modal",7),r.kc("visibleChange",function(e){return t.twoFactor.isModalVisible=e}),r.Qc(26,at,3,4,"ng-template",null,2,r.Rc),r.Qc(28,ot,6,4,"ng-template",null,3,r.Rc),r.Qc(30,ct,7,7,"ng-template",null,4,r.Rc),r.Zb()),2&e&&(r.vc("ngIf",r.qc(1,12,t.data$)),r.Gb(2),r.vc("visible",t.isModalVisible)("busy",t.modalBusy),r.Gb(7),r.vc("abpReplaceableTemplate",r.Ac(27,Le,r.Cc(20,Me,r.yc(14,rt),r.zc(15,pe,t.providerKey),r.yc(17,Ze),r.zc(18,Ge,t.visiblePermissions)),r.zc(25,qe,t.onVisiblePermissionChange))),r.Gb(1),r.vc("visible",t.visibleClaims)("subject",t.claimSubject),r.Gb(1),r.vc("visible",t.isSetPasswordModalVisible)("busy",t.modalBusy),r.Gb(7),r.vc("visible",t.isLockModalVisible)("busy",t.modalBusy),r.Gb(7),r.vc("visible",t.twoFactor.isModalVisible)("busy",t.modalBusy))},directives:function(){return[I.q,o.h,a.S,Pi,o.a,c.m,D.e,D.q,D.t,c.h,D.B,D.r,a.w,D.k,$.j,g.k,g.m,g.n,g.l,g.p,c.g,I.p,D.c,D.h,$.h,q,o.b,K.a,D.i,a.i,D.v,D.y,D.u,D.C]},pipes:function(){return[I.b,a.H]},styles:[".mh-35[_ngcontent-%COMP%] {\n        max-height: 35px;\n      }"]}),Object(n.b)([Object(s.d)(Vt.getUsers)],e.prototype,"data$",void 0),Object(n.b)([Object(s.d)(Vt.getUsersTotalCount)],e.prototype,"totalCount$",void 0),e})();const ii=r.cc($t),ni=r.cc(Yt);let ai=(()=>{class e{constructor(e){this.restService=e,this.apiName="AbpIdentity",this.get=e=>this.restService.request({method:"GET",url:"/api/identity/security-logs/"+e},{apiName:this.apiName}),this.getList=e=>this.restService.request({method:"GET",url:"/api/identity/security-logs",params:{startTime:e.startTime,endTime:e.endTime,applicationName:e.applicationName,identity:e.identity,action:e.action,userName:e.userName,clientId:e.clientId,correlationId:e.correlationId,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:this.apiName}),this.getMy=e=>this.restService.request({method:"GET",url:"/api/identity/security-logs/my/"+e},{apiName:this.apiName}),this.getMyList=e=>this.restService.request({method:"GET",url:"/api/identity/security-logs/my",params:{startTime:e.startTime,endTime:e.endTime,applicationName:e.applicationName,identity:e.identity,action:e.action,userName:e.userName,clientId:e.clientId,correlationId:e.correlationId,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:this.apiName})}}return e.\u0275fac=function(t){return new(t||e)(r.hc(a.U))},e.\u0275prov=Object(r.Qb)({factory:function(){return new e(Object(r.hc)(a.U))},token:e,providedIn:"root"}),e})(),oi=(()=>{class e{constructor(e,t){this.list=e,this.service=t,this.data={items:[],totalCount:0},this.filter={}}ngOnInit(){this.hookToQuery()}hookToQuery(){this.list.hookToQuery(e=>this.service.getList(Object.assign(Object.assign({},e),this.filter))).subscribe(e=>this.data=e)}}return e.\u0275fac=function(t){return new(t||e)(r.Ub(a.F),r.Ub(ai))},e.\u0275cmp=r.Ob({type:e,selectors:[["abp-security-logs"]],features:[r.Fb([a.F,{provide:c.d,useValue:"Identity.SecurityLogs"},{provide:g.a,useClass:c.a}])],decls:74,vars:41,consts:[["id","wrapper"],[1,"row","entry-row"],[1,"col-auto"],[1,"content-header-title"],[1,"col-lg-auto","pl-lg-0"],[1,"col"],[3,"record"],[1,"card"],[1,"card-body","pb-lg-3"],[1,"row",3,"keyup.enter"],[1,"col-md-6","col-lg-3"],[1,"form-group"],["name","start-date","readonly","","ngbDatepicker","",1,"form-control",3,"ngModel","dayTemplate","ngModelChange","click"],["startDate","ngbDatepicker"],["startDateTemplate",""],["name","end-date","readonly","","ngbDatepicker","",1,"form-control",3,"ngModel","dayTemplate","ngModelChange","click"],["endDate","ngbDatepicker"],["endDateTemplate",""],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"row"],[1,"mt-md-2","mb-md-2","btn","btn-primary","btn-block",3,"click"],[1,"fas","fa-search"],[1,"card-body","p-0"],[3,"data","recordsTotal","list"],[1,"btn-light","custom-day"]],template:function(e,t){if(1&e){const e=r.bc();r.ac(0,"div",0),r.ac(1,"div",1),r.ac(2,"div",2),r.ac(3,"h1",3),r.Sc(4),r.pc(5,"abpLocalization"),r.Zb(),r.Zb(),r.ac(6,"div",4),r.Vb(7,"abp-breadcrumb"),r.Zb(),r.ac(8,"div",5),r.Vb(9,"abp-page-toolbar",6),r.Zb(),r.Zb(),r.ac(10,"div",7),r.ac(11,"div",8),r.ac(12,"div",9),r.kc("keyup.enter",function(){return t.list.get()}),r.ac(13,"div",10),r.ac(14,"div",11),r.ac(15,"label"),r.Sc(16),r.pc(17,"abpLocalization"),r.Zb(),r.ac(18,"input",12,13),r.kc("ngModelChange",function(e){return t.filter.startTime=e})("click",function(){return r.Ic(e),r.Fc(19).toggle()}),r.Zb(),r.Qc(20,st,2,11,"ng-template",null,14,r.Rc),r.Zb(),r.Zb(),r.ac(22,"div",10),r.ac(23,"div",11),r.ac(24,"label"),r.Sc(25),r.pc(26,"abpLocalization"),r.Zb(),r.ac(27,"input",15,16),r.kc("ngModelChange",function(e){return t.filter.endTime=e})("click",function(){return r.Ic(e),r.Fc(28).toggle()}),r.Zb(),r.Qc(29,lt,2,11,"ng-template",null,17,r.Rc),r.Zb(),r.Zb(),r.ac(31,"div",10),r.ac(32,"div",11),r.ac(33,"label"),r.Sc(34),r.pc(35,"abpLocalization"),r.Zb(),r.ac(36,"input",18),r.kc("ngModelChange",function(e){return t.filter.applicationName=e}),r.Zb(),r.Zb(),r.Zb(),r.ac(37,"div",10),r.ac(38,"div",11),r.ac(39,"label"),r.Sc(40),r.pc(41,"abpLocalization"),r.Zb(),r.ac(42,"input",18),r.kc("ngModelChange",function(e){return t.filter.identity=e}),r.Zb(),r.Zb(),r.Zb(),r.ac(43,"div",10),r.ac(44,"div",11),r.ac(45,"label"),r.Sc(46),r.pc(47,"abpLocalization"),r.Zb(),r.ac(48,"input",18),r.kc("ngModelChange",function(e){return t.filter.userName=e}),r.Zb(),r.Zb(),r.Zb(),r.ac(49,"div",10),r.ac(50,"div",11),r.ac(51,"label"),r.Sc(52),r.pc(53,"abpLocalization"),r.Zb(),r.ac(54,"input",18),r.kc("ngModelChange",function(e){return t.filter.action=e}),r.Zb(),r.Zb(),r.Zb(),r.ac(55,"div",10),r.ac(56,"div",11),r.ac(57,"label"),r.Sc(58),r.pc(59,"abpLocalization"),r.Zb(),r.ac(60,"input",18),r.kc("ngModelChange",function(e){return t.filter.clientId=e}),r.Zb(),r.Zb(),r.Zb(),r.ac(61,"div",10),r.ac(62,"div",11),r.ac(63,"label"),r.Sc(64),r.pc(65,"abpLocalization"),r.Zb(),r.ac(66,"input",18),r.kc("ngModelChange",function(e){return t.filter.correlationId=e}),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.ac(67,"div",19),r.ac(68,"div",10),r.ac(69,"button",20),r.kc("click",function(){return t.list.get()}),r.Vb(70,"i",21),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.ac(71,"div",7),r.ac(72,"div",22),r.Vb(73,"abp-extensible-table",23),r.Zb(),r.Zb(),r.Zb()}if(2&e){const e=r.Fc(21),i=r.Fc(30);r.Gb(4),r.Tc(r.qc(5,23,"AbpIdentity::SecurityLogs")),r.Gb(5),r.vc("record",t.data.items),r.Gb(7),r.Tc(r.qc(17,25,"AbpIdentity::SecurityLogs:StartTime")),r.Gb(2),r.vc("ngModel",t.filter.startTime)("dayTemplate",e),r.Gb(7),r.Tc(r.qc(26,27,"AbpIdentity::SecurityLogs:EndTime")),r.Gb(2),r.vc("ngModel",t.filter.endTime)("dayTemplate",i),r.Gb(7),r.Tc(r.qc(35,29,"AbpIdentity::SecurityLogs:Application")),r.Gb(2),r.vc("ngModel",t.filter.applicationName),r.Gb(4),r.Tc(r.qc(41,31,"AbpIdentity::SecurityLogs:Identity")),r.Gb(2),r.vc("ngModel",t.filter.identity),r.Gb(4),r.Tc(r.qc(47,33,"AbpIdentity::SecurityLogs:UserName")),r.Gb(2),r.vc("ngModel",t.filter.userName),r.Gb(4),r.Tc(r.qc(53,35,"AbpIdentity::SecurityLogs:Action")),r.Gb(2),r.vc("ngModel",t.filter.action),r.Gb(4),r.Tc(r.qc(59,37,"AbpIdentity::SecurityLogs:Client")),r.Gb(2),r.vc("ngModel",t.filter.clientId),r.Gb(4),r.Tc(r.qc(65,39,"AbpIdentity::SecurityLogs:CorrelationId")),r.Gb(2),r.vc("ngModel",t.filter.correlationId),r.Gb(7),r.vc("data",t.data.items)("recordsTotal",t.data.totalCount)("list",t.list)}},directives:[o.a,c.m,g.j,D.e,D.q,D.t,c.h],pipes:[a.H],encapsulation:2}),e})();const ci=c.e.createMany([{text:"AbpIdentity::Edit",action:e=>{e.getInjected(Dt).onEdit(e.record.id)},permission:"AbpIdentity.ClaimTypes.Update",visible:e=>!e.record.isStatic},{text:"AbpIdentity::Delete",action:e=>{e.getInjected(Dt).delete(e.record.id,e.record.name)},permission:"AbpIdentity.ClaimTypes.Delete"}]),ri=c.f.createMany([{type:"string",name:"name",displayName:"AbpIdentity::Name",sortable:!0,columnWidth:250},{type:"string",name:"valueType",displayName:"AbpIdentity::ValueType",sortable:!0,columnWidth:200,valueResolver:e=>Object(v.a)(e.getInjected(Dt).getTypeName(e.record.valueType))},{type:"string",name:"description",displayName:"AbpIdentity::Description",sortable:!0,columnWidth:250},{type:"string",name:"regex",displayName:"AbpIdentity::Regex",sortable:!0,columnWidth:200},{type:"boolean",name:"required",displayName:"AbpIdentity::Required",sortable:!0,columnWidth:150},{type:"boolean",name:"isStatic",displayName:"AbpIdentity::IsStatic",sortable:!0,columnWidth:150}]),si=c.j.createMany([{type:"string",name:"name",displayName:"AbpIdentity::Name",id:"name",validators:()=>[D.A.required,D.A.maxLength(256)]},{type:"boolean",name:"required",displayName:"AbpIdentity::Required",id:"required",defaultValue:!1},{type:"string",name:"regex",displayName:"AbpIdentity::Regex",id:"regex"},{type:"string",name:"regexDescription",displayName:"AbpIdentity::RegexDescription",id:"regex-description"},{type:"string",name:"description",displayName:"AbpIdentity::Description",id:"description"},{type:"number",name:"valueType",displayName:"AbpIdentity::ValueType",id:"value-type",defaultValue:0,options:()=>Object(v.a)([{key:"String",value:0},{key:"Int",value:1},{key:"Boolean",value:2},{key:"DateTime",value:3}])}]),li=si,di=c.n.createMany([{text:"AbpIdentity::NewClaimType",action:e=>{e.getInjected(Dt).onAdd()},permission:"AbpIdentity.ClaimTypes.Create",icon:"fa fa-plus"}]),pi=c.e.createMany([{text:"AbpIdentity::Delete",action:e=>{e.getInjected($t).delete(e.record.id,e.record.name)},permission:"AbpIdentity.OrganizationUnits.ManageMembers"}]),bi=c.f.createMany([{type:"string",name:"userName",displayName:"AbpIdentity::UserName",sortable:!0,columnWidth:180},{type:"string",name:"email",displayName:"AbpIdentity::EmailAddress",sortable:!0,columnWidth:200,valueResolver:e=>{const{email:t,emailConfirmed:i}=e.record;return Object(v.a)((t||"")+(i?'<i class="fa fa-check text-success ml-1"></i>':""))}}]),ui=c.e.createMany([{text:"AbpIdentity::Delete",action:e=>{e.getInjected(Yt).delete(e.record.id,e.record.name)},permission:"AbpIdentity.OrganizationUnits.ManageRoles"}]),mi=c.f.createMany([{type:"string",name:"name",displayName:"AbpIdentity::RoleName",sortable:!0}]),hi=c.j.createMany([{type:"string",name:"displayName",displayName:"AbpIdentity::DisplayName",id:"organization-unit-display-name",validators:()=>[D.A.required,D.A.maxLength(256)]}]),gi=hi,yi=c.n.createMany([]),fi=c.e.createMany([{text:"AbpIdentity::Edit",action:e=>{e.getInjected(Ht).onEdit(e.record.id)},permission:"AbpIdentity.Roles.Update"},{text:"AbpIdentity::Claims",action:e=>{e.getInjected(Ht).onManageClaims(e.record.id)},permission:"AbpIdentity.Roles.Update"},{text:"AbpIdentity::Permissions",action:e=>{e.getInjected(Ht).openPermissionsModal(e.record.name)},permission:"AbpIdentity.Roles.ManagePermissions"},{text:"AbpIdentity::ChangeHistory",action:e=>{e.getInjected(B.c)(e.record.id,"Volo.Abp.Identity.IdentityRole")},permission:"AbpIdentity.Roles.ViewChangeHistory",visible:e=>Boolean(e.getInjected(B.c,null))},{text:"AbpIdentity::Delete",action:e=>{e.getInjected(Ht).delete(e.record.id,e.record.name)},permission:"AbpIdentity.Roles.Delete",visible:e=>!e.record.isStatic}]),vi=c.f.createMany([{type:"string",name:"name",displayName:"AbpIdentity::RoleName",sortable:!0,valueResolver:e=>{const t=e.getInjected(a.I),i=t.instant.bind(t),{isDefault:n,isPublic:o,name:c}=e.record;return Object(v.a)(c+(n?`<span class="badge badge-pill badge-success ml-1">${i("AbpIdentity::DisplayName:IsDefault")}</span>`:"")+(o?`<span class="badge badge-pill badge-info ml-1">${i("AbpIdentity::DisplayName:IsPublic")}</span>`:""))}}]),Ii=c.j.createMany([{type:"string",name:"name",displayName:"AbpIdentity::RoleName",id:"role-name",disabled:e=>e.record&&e.record.isStatic,validators:()=>[D.A.required]},{type:"boolean",name:"isDefault",displayName:"AbpIdentity::DisplayName:IsDefault",id:"role-is-default",defaultValue:!1},{type:"boolean",name:"isPublic",displayName:"AbpIdentity::DisplayName:IsPublic",id:"role-is-public",defaultValue:!1}]),ki=Ii,Ci=c.n.createMany([{text:"AbpIdentity::NewRole",action:e=>{e.getInjected(Ht).onAdd()},permission:"AbpIdentity.Roles.Create",icon:"fa fa-plus"}]),Ti=c.e.createMany([]),Si=c.f.createMany([{type:"string",name:"creationTime",displayName:"AbpIdentity::SecurityLogs:Time",sortable:!0,columnWidth:180,valueResolver:e=>{const t=e.getInjected(a.m),i=e.getInjected(I.f);return Object(v.a)(i.transform(e.record.creationTime,Object(a.ob)(t)))}},{type:"string",name:"action",displayName:"AbpIdentity::SecurityLogs:Action",sortable:!0,columnWidth:180,valueResolver:e=>Object(v.a)(`<div style="max-width: 160px" class="pointer abp-ellipsis-inline">${e.record.action||""}</div>`),action:e=>{const t=e.getInjected(oi);t.filter.action=e.record.action,t.list.get()}},{type:"string",name:"clientIpAddress",displayName:"AbpIdentity::SecurityLogs:IpAddress",sortable:!1,columnWidth:200,valueResolver:e=>Object(v.a)(`<div style="max-width: 180px" class="abp-ellipsis-inline">${e.record.clientIpAddress||""}</div>`)},{type:"string",name:"browserInfo",displayName:"AbpIdentity::SecurityLogs:Browser",sortable:!1,columnWidth:200,valueResolver:e=>Object(v.a)(`<div style="max-width: 180px" class="abp-ellipsis-inline">${e.record.browserInfo||""}</div>`)},{type:"string",name:"applicationName",displayName:"AbpIdentity::SecurityLogs:Application",sortable:!0,columnWidth:150,valueResolver:e=>Object(v.a)(`<div style="max-width: 135px" class="pointer abp-ellipsis-inline">${e.record.applicationName||""}</div>`),action:e=>{const t=e.getInjected(oi);t.filter.applicationName=e.record.applicationName,t.list.get()}},{type:"string",name:"identity",displayName:"AbpIdentity::SecurityLogs:Identity",sortable:!0,columnWidth:150,valueResolver:e=>Object(v.a)(`<div style="max-width: 135px" class="pointer abp-ellipsis-inline">${e.record.identity||""}</div>`),action:e=>{const t=e.getInjected(oi);t.filter.identity=e.record.identity,t.list.get()}},{type:"string",name:"userName",displayName:"AbpIdentity::SecurityLogs:UserName",sortable:!0,columnWidth:150,valueResolver:e=>Object(v.a)(`<div style="max-width: 135px" class="pointer abp-ellipsis-inline">${e.record.userName||""}</div>`),action:e=>{const t=e.getInjected(oi);t.filter.userName=e.record.userName,t.list.get()}},{type:"string",name:"clientId",displayName:"AbpIdentity::SecurityLogs:Client",sortable:!0,columnWidth:320,valueResolver:e=>Object(v.a)(`<div class="pointer">${e.record.clientId||""}</div>`),action:e=>{const t=e.getInjected(oi);t.filter.clientId=e.record.clientId,t.list.get()}},{type:"string",name:"correlationId",displayName:"AbpIdentity::SecurityLogs:CorrelationId",sortable:!0,columnWidth:320,valueResolver:e=>Object(v.a)(`<div class="pointer">${e.record.correlationId||""}</div>`),action:e=>{const t=e.getInjected(oi);t.filter.correlationId=e.record.correlationId,t.list.get()}}]),Ni=c.n.createMany([]),Oi=c.e.createMany([{text:"AbpIdentity::Edit",action:e=>{e.getInjected(ti).onEdit(e.record.id)},permission:"AbpIdentity.Users.Update"},{text:"AbpIdentity::Claims",action:e=>{e.getInjected(ti).onManageClaims(e.record.id)},permission:"AbpIdentity.Users.Update"},{text:"AbpIdentity::Lock",action:e=>{const t=e.getInjected(ti);t.selected=e.record,t.isLockModalVisible=!0},permission:"AbpIdentity.Users.Update",visible:e=>!e.record.isLockedOut&&e.record.lockoutEnabled},{text:"AbpIdentity::Unlock",action:e=>{e.getInjected(ti).unlock(e.record.id)},permission:"AbpIdentity.Users.Update",visible:e=>e.record.isLockedOut},{text:"AbpIdentity::Permissions",action:e=>{e.getInjected(ti).openPermissionsModal(e.record.id)},permission:"AbpIdentity.Users.ManagePermissions"},{text:"AbpIdentity::ChangeHistory",action:e=>{e.getInjected(B.c)(e.record.id,"Volo.Abp.Identity.IdentityUser")},permission:"AbpIdentity.Users.ViewChangeHistory",visible:e=>Boolean(e.getInjected(B.c,null))},{text:"AbpIdentity::SetPassword",action:e=>{const t=e.getInjected(ti);t.selected=e.record,t.isSetPasswordModalVisible=!0},permission:"AbpIdentity.Users.Update"},{text:"AbpIdentity::TwoFactor",action:e=>{const t=e.getInjected(ti);t.selected=e.record,t.userService.getTwoFactorEnabled(e.record.id).subscribe(e=>{t.twoFactor.checkboxValue=e,t.twoFactor.isModalVisible=!0})},permission:"AbpIdentity.Users.Update",visible:e=>e.getInjected(ti).twoFactor.isOptional},{text:"AbpIdentity::Delete",action:e=>{e.getInjected(ti).delete(e.record.id,e.record.name||e.record.userName)},permission:"AbpIdentity.Users.Delete"}]),wi=c.f.createMany([{type:"string",name:"userName",displayName:"AbpIdentity::UserName",sortable:!0,columnWidth:250,valueResolver:e=>{const t=e.getInjected(a.I),i=t.instant.bind(t);return Object(v.a)(e.record.isLockedOut?`<i title="${i("AbpIdentity::ThisUserIsLockedOutMessage")}" class="fa fa-lock text-danger mr-1"></i><span class="opc-65">${e.record.userName}</span>`:e.record.userName)}},{type:"string",name:"email",displayName:"AbpIdentity::EmailAddress",sortable:!0,columnWidth:250,valueResolver:e=>{const{email:t,emailConfirmed:i}=e.record;return Object(v.a)((t||"")+(i?'<i class="fa fa-check text-success ml-1"></i>':""))}},{type:"string",name:"phoneNumber",displayName:"AbpIdentity::PhoneNumber",sortable:!0,columnWidth:250,valueResolver:e=>{const{phoneNumber:t,phoneNumberConfirmed:i}=e.record;return Object(v.a)((t||"")+(i?'<i class="fa fa-check text-success ml-1"></i>':""))}}]),Ui=c.j.createMany([{type:"string",name:"userName",displayName:"AbpIdentity::UserName",id:"user-name",validators:()=>[D.A.required,D.A.maxLength(256)]},{type:"password",name:"password",displayName:"AbpIdentity::Password",id:"password",autocomplete:"new-password",validators:e=>[D.A.required,...Object(o.r)({get:e.getInjected})]},{type:"string",name:"name",displayName:"AbpIdentity::DisplayName:Name",id:"name",validators:()=>[D.A.maxLength(64)]},{type:"string",name:"surname",displayName:"AbpIdentity::DisplayName:Surname",id:"surname",validators:()=>[D.A.maxLength(64)]},{type:"email",name:"email",displayName:"AbpIdentity::EmailAddress",id:"email",validators:()=>[D.A.required,D.A.maxLength(256),D.A.email]},{type:"string",name:"phoneNumber",displayName:"AbpIdentity::PhoneNumber",id:"phone-number",validators:()=>[D.A.maxLength(16)]},{type:"boolean",name:"lockoutEnabled",displayName:"AbpIdentity::DisplayName:LockoutEnabled",id:"lockout-checkbox",defaultValue:!0}]),xi=Ui.filter(e=>"password"!==e.name),zi=c.n.createMany([{text:"AbpIdentity::NewUser",action:e=>{e.getInjected(ti).onAdd()},permission:"AbpIdentity.Users.Create",icon:"fa fa-plus"}]),Ai={"Identity.ClaimsComponent":ci,"Identity.RolesComponent":fi,"Identity.UsersComponent":Oi,"Identity.OrganizationMembersComponent":pi,"Identity.OrganizationRolesComponent":ui,"Identity.SecurityLogs":Ti},ji={"Identity.ClaimsComponent":di,"Identity.RolesComponent":Ci,"Identity.UsersComponent":zi,"Identity.OrganizationUnitsComponent":yi,"Identity.SecurityLogs":Ni},Ri={"Identity.ClaimsComponent":ri,"Identity.RolesComponent":vi,"Identity.UsersComponent":wi,"Identity.OrganizationMembersComponent":bi,"Identity.OrganizationRolesComponent":mi,"Identity.SecurityLogs":Si},Zi={"Identity.ClaimsComponent":si,"Identity.RolesComponent":Ii,"Identity.UsersComponent":Ui,"Identity.OrganizationUnitsComponent":hi},Gi={"Identity.ClaimsComponent":li,"Identity.RolesComponent":ki,"Identity.UsersComponent":xi,"Identity.OrganizationUnitsComponent":gi},Mi=new r.v("IDENTITY_ENTITY_ACTION_CONTRIBUTORS"),qi=new r.v("IDENTITY_TOOLBAR_ACTION_CONTRIBUTORS"),Li=new r.v("IDENTITY_ENTITY_PROP_CONTRIBUTORS"),Fi=new r.v("IDENTITY_CREATE_FORM_PROP_CONTRIBUTORS"),Ei=new r.v("IDENTITY_EDIT_FORM_PROP_CONTRIBUTORS");let Vi=(()=>{class e{constructor(e){this.injector=e}canActivate(){const e=this.injector.get(c.i),t=this.injector.get(Mi,null)||{},i=this.injector.get(qi,null)||{},n=this.injector.get(Li,null)||{},o=this.injector.get(Fi,null)||{},r=this.injector.get(Ei,null)||{},s=this.injector.get(a.m);return Object(c.q)(s,"Identity").pipe(Object(m.a)(e=>({"Identity.ClaimsComponent":e.ClaimType,"Identity.RolesComponent":e.Role,"Identity.UsersComponent":e.User,"Identity.OrganizationUnitsComponent":e.OrganizationUnit})),Object(c.r)(s,"AbpIdentity"),Object(l.a)(a=>{Object(c.s)(e.entityActions,Ai,t),Object(c.s)(e.toolbarActions,ji,i),Object(c.t)(e.entityProps,Ri,a.prop,n),Object(c.t)(e.createFormProps,Zi,a.createForm,o),Object(c.t)(e.editFormProps,Gi,a.editForm,r)}),Object(h.a)(!0))}}return e.\u0275fac=function(t){return new(t||e)(r.hc(r.w))},e.\u0275prov=r.Qb({token:e,factory:e.\u0275fac}),e})(),Pi=(()=>{class e{constructor(e,t,i){this.roleService=e,this.userService=t,this.store=i,this.visibleChange=new r.q,this.modalBusy=!1}get visible(){return this._visible}set visible(e){this._visible!==e&&(this._visible=e,this.visibleChange.emit(e))}ngOnChanges({visible:e,subject:t}){t&&t.currentValue&&(this.service="roles"===t.currentValue.type?this.roleService:this.userService),e&&(e.currentValue?this.initModal():(this.newClaimType=null,this.newClaimValue=null,this.subjectClaims=null))}ngOnInit(){}initModal(){this.getClaimTypeNames(),this.getSubjectClaims(this.subject)}getClaimTypeNames(){this.service.getAllClaimTypes().subscribe(e=>this.claimTypes=e)}getSubjectClaims(e){this.service.getClaims(e.id).pipe(Object(p.a)(1)).subscribe(e=>this.subjectClaims=e)}addClaim(){if(!this.newClaimType||!this.newClaimValue)return;let e={claimType:this.newClaimType,claimValue:this.newClaimValue};e=Object.assign({["roles"===this.subject.type?"roleId":"userId"]:this.subject.id},e),this.subjectClaims.push(e),this.newClaimType="",this.newClaimValue=""}removeClaim(e){this.subjectClaims[e]&&(this.subjectClaims=this.subjectClaims.filter((t,i)=>i!==e))}save(){this.modalBusy||(this.modalBusy=!0,this.service.updateClaims(this.subject.id,this.subjectClaims).pipe(Object(p.a)(1),Object(b.a)(()=>this.modalBusy=!1)).subscribe(()=>this.visible=!1))}}return e.\u0275fac=function(t){return new(t||e)(r.Ub(Lt),r.Ub(Ft),r.Ub(s.g))},e.\u0275cmp=r.Ob({type:e,selectors:[["abp-claim-modal"]],inputs:{visible:"visible",subject:"subject"},outputs:{visibleChange:"visibleChange"},features:[r.Eb],decls:7,vars:2,consts:[["size","md",3,"visible","busy","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],[1,"modal-title"],[3,"ngSubmit"],[1,"form-row"],[1,"col","col-sm-6"],[1,"form-group"],["for","claimTypeSelect"],["autofocus","","id","claimTypeSelect",1,"custom-select","form-control",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["for","newClaimValue"],["required","","id","newClaimValue","type","text",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"col","col-sm-12","align-self-center"],["type","button",1,"btn","btn-success","btn-block",3,"click"],[1,"fa","fa-plus"],[1,"my-4"],["class","willBeHidden",4,"ngIf"],[3,"ngValue"],[1,"willBeHidden"],["class","input-group mb-3",4,"ngFor","ngForOf"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text","mw-100","fs-9"],["type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"btn","btn-danger","deleteClaim",3,"click"],[1,"fa","fa-trash"],["type","button",1,"btn","btn-secondary"],["abpClose",""],["iconClass","fa fa-check",3,"click"]],template:function(e,t){1&e&&(r.ac(0,"abp-modal",0),r.kc("visibleChange",function(e){return t.visible=e}),r.Qc(1,dt,3,3,"ng-template",null,1,r.Rc),r.Qc(3,ht,21,14,"ng-template",null,2,r.Rc),r.Qc(5,gt,7,6,"ng-template",null,3,r.Rc),r.Zb()),2&e&&r.vc("visible",t.visible)("busy",t.modalBusy)},directives:[o.h,D.B,D.r,D.s,D.y,a.i,D.q,D.t,I.p,D.e,D.x,I.q,D.u,D.C,o.b],pipes:[a.H],encapsulation:2}),e})(),Di=(()=>{class e{constructor(e,t){this.list=e,this.userService=t,this.allUnits={items:[]}}ngOnInit(){this.hookToQuery()}hookToQuery(){this.list.hookToQuery(e=>this.userService.getList(e)).subscribe(e=>{this.allUnits=e})}}return e.\u0275fac=function(t){return new(t||e)(r.Ub(a.F),r.Ub(Ft))},e.\u0275cmp=r.Ob({type:e,selectors:[["abp-organization-members-modal-body"]],inputs:{checkedUnits:"checkedUnits",isCheckboxDisabled:"isCheckboxDisabled"},features:[r.Fb([a.F])],decls:11,vars:9,consts:[["id","data-tables-table-filter",1,"data-tables-filter"],[1,"input-group"],["type","search",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"input-group-append"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"fas","fa-search"],[1,"card"],["actionsText","",3,"data","recordsTotal","actionsColumnWidth","actionsTemplate","list"],["customAction",""],["type","checkbox",3,"ngModel","disabled","ngModelChange"]],template:function(e,t){if(1&e&&(r.ac(0,"div",0),r.ac(1,"div",1),r.ac(2,"input",2),r.kc("ngModelChange",function(e){return t.list.filter=e}),r.pc(3,"abpLocalization"),r.Zb(),r.ac(4,"div",3),r.ac(5,"button",4),r.kc("click",function(){return t.list.get()}),r.Vb(6,"i",5),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.ac(7,"div",6),r.Vb(8,"abp-extensible-table",7),r.Zb(),r.Qc(9,yt,1,2,"ng-template",null,8,r.Rc)),2&e){const e=r.Fc(10);r.Gb(2),r.vc("placeholder",r.qc(3,7,"AbpUi::PagerSearch"))("ngModel",t.list.filter),r.Gb(6),r.vc("data",t.allUnits.items)("recordsTotal",t.allUnits.totalCount)("actionsColumnWidth",38)("actionsTemplate",e)("list",t.list)}},directives:[D.e,D.q,D.t,c.h,D.c],pipes:[a.H],encapsulation:2}),e})(),Qi=(()=>{class e{constructor(e,t){this.list=e,this.roleService=t,this.allUnits={items:[]}}ngOnInit(){this.hookToQuery()}hookToQuery(){this.list.hookToQuery(e=>this.roleService.getList(e)).subscribe(e=>{this.allUnits=e})}}return e.\u0275fac=function(t){return new(t||e)(r.Ub(a.F),r.Ub(Lt))},e.\u0275cmp=r.Ob({type:e,selectors:[["abp-organization-roles-modal-body"]],inputs:{checkedUnits:"checkedUnits",isCheckboxDisabled:"isCheckboxDisabled"},features:[r.Fb([a.F])],decls:4,vars:5,consts:[[1,"card"],["actionsText","",3,"data","recordsTotal","actionsColumnWidth","actionsTemplate","list"],["customAction",""],["type","checkbox",3,"ngModel","disabled","ngModelChange"]],template:function(e,t){if(1&e&&(r.ac(0,"div",0),r.Vb(1,"abp-extensible-table",1),r.Zb(),r.Qc(2,ft,1,2,"ng-template",null,2,r.Rc)),2&e){const e=r.Fc(3);r.Gb(1),r.vc("data",t.allUnits.items)("recordsTotal",t.allUnits.totalCount)("actionsColumnWidth",38)("actionsTemplate",e)("list",t.list)}},directives:[c.h,D.c,D.q,D.t],encapsulation:2}),e})();const Bi=[{path:"",redirectTo:"roles",pathMatch:"full"},{path:"",component:a.r,canActivate:[a.g,a.N,Vi],children:[{path:"roles",component:a.R,data:{requiredPolicy:"AbpIdentity.Roles",replaceableComponent:{key:"Identity.RolesComponent",defaultComponent:Ht}}},{path:"users",component:a.R,data:{requiredPolicy:"AbpIdentity.Users",replaceableComponent:{key:"Identity.UsersComponent",defaultComponent:ti}}},{path:"claim-types",component:a.R,data:{requiredPolicy:"AbpIdentity.ClaimTypes",replaceableComponent:{key:"Identity.ClaimsComponent",defaultComponent:Dt}}},{path:"organization-units",component:a.R,data:{requiredPolicy:"AbpIdentity.OrganizationUnits",replaceableComponent:{key:"Identity.OrganizationUnitsComponent",defaultComponent:Wt}}},{path:"security-logs",component:a.R,data:{requiredPolicy:"AbpIdentity.SecurityLogs",replaceableComponent:{key:"Identity.SecurityLogs",defaultComponent:oi}}}]}];let Ki=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Sb({type:e}),e.\u0275inj=r.Rb({imports:[[_.n.forChild(Bi)],_.n]}),e})(),$i=(()=>{class e{static forChild(t={}){return{ngModule:e,providers:[{provide:Mi,useValue:t.entityActionContributors},{provide:qi,useValue:t.toolbarActionContributors},{provide:Li,useValue:t.entityPropContributors},{provide:Fi,useValue:t.createFormPropContributors},{provide:Ei,useValue:t.editFormPropContributors},Vi]}}static forLazy(t={}){return new a.E(e.forChild(t))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Sb({type:e}),e.\u0275inj=r.Rb({imports:[[s.c.forFeature([Vt]),a.o,B.a,Ki,g.o,o.n,g.h,g.d,K.b,$.a,L]]}),e})(),_i=(()=>{class e{constructor(e){this.store=e}getRoles(){return this.store.selectSnapshot(Vt.getRoles)}getRolesTotalCount(){return this.store.selectSnapshot(Vt.getRolesTotalCount)}getUsers(){return this.store.selectSnapshot(Vt.getUsers)}getUsersTotalCount(){return this.store.selectSnapshot(Vt.getUsersTotalCount)}getClaimTypes(){return this.store.selectSnapshot(Vt.getClaimTypes)}getClaimTypesTotalCount(){return this.store.selectSnapshot(Vt.getClaimTypesTotalCount)}dispatchGetRoles(...e){return this.store.dispatch(new vt(...e))}dispatchGetRoleById(...e){return this.store.dispatch(new It(...e))}dispatchDeleteRole(...e){return this.store.dispatch(new kt(...e))}dispatchCreateRole(...e){return this.store.dispatch(new Ct(...e))}dispatchUpdateRole(...e){return this.store.dispatch(new Tt(...e))}dispatchGetClaimTypes(...e){return this.store.dispatch(new St(...e))}dispatchGetClaimTypeById(...e){return this.store.dispatch(new Nt(...e))}dispatchDeleteClaimType(...e){return this.store.dispatch(new Ot(...e))}dispatchCreateClaimType(...e){return this.store.dispatch(new wt(...e))}dispatchUpdateClaimType(...e){return this.store.dispatch(new Ut(...e))}dispatchGetUsers(...e){return this.store.dispatch(new xt(...e))}dispatchGetUserById(...e){return this.store.dispatch(new zt(...e))}dispatchDeleteUser(...e){return this.store.dispatch(new At(...e))}dispatchCreateUser(...e){return this.store.dispatch(new jt(...e))}dispatchUpdateUser(...e){return this.store.dispatch(new Rt(...e))}dispatchGetUserRoles(...e){return this.store.dispatch(new Zt(...e))}}return e.\u0275fac=function(t){return new(t||e)(r.hc(s.g))},e.\u0275prov=Object(r.Qb)({factory:function(){return new e(Object(r.hc)(s.g))},token:e,providedIn:"root"}),e})();var Yi=function(e){return e[e.String=0]="String",e[e.Int=1]="Int",e[e.Boolean=2]="Boolean",e[e.DateTime=3]="DateTime",e}({});const Wi=Object(a.qb)(Yi);let Hi=(()=>{class e{constructor(e){this.restService=e,this.apiName="AbpIdentity",this.get=()=>this.restService.request({method:"GET",url:"/api/identity/settings"},{apiName:this.apiName}),this.update=e=>this.restService.request({method:"PUT",url:"/api/identity/settings",body:e},{apiName:this.apiName})}}return e.\u0275fac=function(t){return new(t||e)(r.hc(a.U))},e.\u0275prov=Object(r.Qb)({factory:function(){return new e(Object(r.hc)(a.U))},token:e,providedIn:"root"}),e})(),Xi=(()=>{class e{constructor(e){this.restService=e,this.apiName="AbpIdentity",this.findById=e=>this.restService.request({method:"GET",url:"/api/identity/users/lookup/"+e},{apiName:this.apiName}),this.findByUserName=e=>this.restService.request({method:"GET",url:"/api/identity/users/lookup/by-username/"+e},{apiName:this.apiName}),this.getCount=e=>this.restService.request({method:"GET",url:"/api/identity/users/lookup/count",params:{filter:e.filter}},{apiName:this.apiName}),this.search=e=>this.restService.request({method:"GET",url:"/api/identity/users/lookup/search",params:{sorting:e.sorting,filter:e.filter,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:this.apiName})}}return e.\u0275fac=function(t){return new(t||e)(r.hc(a.U))},e.\u0275prov=Object(r.Qb)({factory:function(){return new e(Object(r.hc)(a.U))},token:e,providedIn:"root"}),e})(),Ji=(()=>{class e{constructor(e){this.restService=e,this.apiName="AbpIdentity",this.changePassword=e=>this.restService.request({method:"POST",url:"/api/identity/my-profile/change-password",body:e},{apiName:this.apiName}),this.get=()=>this.restService.request({method:"GET",url:"/api/identity/my-profile"},{apiName:this.apiName}),this.getTwoFactorEnabled=()=>this.restService.request({method:"GET",url:"/api/identity/my-profile/two-factor-enabled"},{apiName:this.apiName}),this.setTwoFactorEnabled=e=>this.restService.request({method:"POST",url:"/api/identity/my-profile/set-two-factor-enabled",params:{enabled:e}},{apiName:this.apiName}),this.update=e=>this.restService.request({method:"PUT",url:"/api/identity/my-profile",body:e},{apiName:this.apiName})}}return e.\u0275fac=function(t){return new(t||e)(r.hc(a.U))},e.\u0275prov=Object(r.Qb)({factory:function(){return new e(Object(r.hc)(a.U))},token:e,providedIn:"root"}),e})()}}]);