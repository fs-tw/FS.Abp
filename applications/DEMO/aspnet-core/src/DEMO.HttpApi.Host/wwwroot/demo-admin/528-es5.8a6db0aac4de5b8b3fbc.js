!function(){function e(t,n,a){return(e=o()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var r=new(Function.bind.apply(e,a));return n&&i(r,n.prototype),r}).apply(null,arguments)}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=o();return function(){var n,i=c(e);if(t){var a=c(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return r(this,n)}}function r(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[528],{rpQi:function(i,r,o){"use strict";o.r(r),o.d(r,"AbstractOrganizationUnitComponent",function(){return wn}),o.d(r,"ClaimsComponent",function(){return On}),o.d(r,"CreateClaimType",function(){return ln}),o.d(r,"CreateRole",function(){return an}),o.d(r,"CreateUser",function(){return fn}),o.d(r,"DEFAULT_IDENTITY_CREATE_FORM_PROPS",function(){return hi}),o.d(r,"DEFAULT_IDENTITY_EDIT_FORM_PROPS",function(){return yi}),o.d(r,"DEFAULT_IDENTITY_ENTITY_ACTIONS",function(){return bi}),o.d(r,"DEFAULT_IDENTITY_ENTITY_PROPS",function(){return mi}),o.d(r,"DEFAULT_IDENTITY_TOOLBAR_ACTIONS",function(){return fi}),o.d(r,"DeleteClaimType",function(){return sn}),o.d(r,"DeleteRole",function(){return nn}),o.d(r,"DeleteUser",function(){return bn}),o.d(r,"GetClaimTypeById",function(){return cn}),o.d(r,"GetClaimTypes",function(){return on}),o.d(r,"GetOrganizationUnits",function(){return vn}),o.d(r,"GetRoleById",function(){return tn}),o.d(r,"GetRoles",function(){return en}),o.d(r,"GetUserById",function(){return pn}),o.d(r,"GetUserRoles",function(){return hn}),o.d(r,"GetUsers",function(){return dn}),o.d(r,"IDENTITY_CREATE_FORM_PROP_CONTRIBUTORS",function(){return Ii}),o.d(r,"IDENTITY_EDIT_FORM_PROP_CONTRIBUTORS",function(){return Ci}),o.d(r,"IDENTITY_ENTITY_ACTION_CONTRIBUTORS",function(){return vi}),o.d(r,"IDENTITY_ENTITY_PROP_CONTRIBUTORS",function(){return ki}),o.d(r,"IDENTITY_TOOLBAR_ACTION_CONTRIBUTORS",function(){return gi}),o.d(r,"IdentityClaimTypeService",function(){return gn}),o.d(r,"IdentityClaimValueType",function(){return zi}),o.d(r,"IdentityExtensionsGuard",function(){return Ti}),o.d(r,"IdentityModule",function(){return xi}),o.d(r,"IdentityRoleService",function(){return kn}),o.d(r,"IdentitySecurityLogService",function(){return En}),o.d(r,"IdentitySettingsService",function(){return Ri}),o.d(r,"IdentityState",function(){return Tn}),o.d(r,"IdentityStateService",function(){return Ai}),o.d(r,"IdentityUserLookupService",function(){return Zi}),o.d(r,"IdentityUserService",function(){return In}),o.d(r,"ORGANIZATION_UNIT_CONFIG",function(){return Nn}),o.d(r,"OrganizationMembersComponent",function(){return xn}),o.d(r,"OrganizationRolesComponent",function(){return zn}),o.d(r,"OrganizationUnitService",function(){return Cn}),o.d(r,"OrganizationUnitsComponent",function(){return jn}),o.d(r,"ProfileService",function(){return Gi}),o.d(r,"RolesComponent",function(){return Rn}),o.d(r,"SecurityLogsComponent",function(){return Pn}),o.d(r,"UnlockUser",function(){return yn}),o.d(r,"UpdateClaimType",function(){return un}),o.d(r,"UpdateRole",function(){return rn}),o.d(r,"UpdateUser",function(){return mn}),o.d(r,"UsersComponent",function(){return qn}),o.d(r,"eIdentityTwoFactorBehaviour",function(){return Zn}),o.d(r,"identityClaimValueTypeOptions",function(){return ji}),o.d(r,"identityTwoFactorBehaviourOptions",function(){return Gn}),o.d(r,"\u02750",function(){return Sn}),o.d(r,"\u02751",function(){return Un}),o.d(r,"\u0275a",function(){return Rn}),o.d(r,"\u0275bd",function(){return qn}),o.d(r,"\u0275be",function(){return Si}),o.d(r,"\u0275bf",function(){return On}),o.d(r,"\u0275bg",function(){return jn}),o.d(r,"\u0275bh",function(){return xn}),o.d(r,"\u0275bi",function(){return Nn}),o.d(r,"\u0275bj",function(){return wn}),o.d(r,"\u0275bk",function(){return Oi}),o.d(r,"\u0275bl",function(){return zn}),o.d(r,"\u0275bm",function(){return Ni}),o.d(r,"\u0275bn",function(){return Pn}),o.d(r,"\u0275bo",function(){return En}),o.d(r,"\u0275bp",function(){return Ui}),o.d(r,"\u0275bq",function(){return Ti}),o.d(r,"\u0275br",function(){return vi}),o.d(r,"\u0275bs",function(){return gi}),o.d(r,"\u0275bt",function(){return ki}),o.d(r,"\u0275bu",function(){return Ii}),o.d(r,"\u0275bv",function(){return Ci}),o.d(r,"\u0275c",function(){return Tn}),o.d(r,"\u0275d",function(){return kn}),o.d(r,"\u0275e",function(){return In}),o.d(r,"\u0275f",function(){return gn}),o.d(r,"\u0275g",function(){return Cn}),o.d(r,"\u0275h",function(){return en}),o.d(r,"\u0275i",function(){return nn}),o.d(r,"\u0275j",function(){return an}),o.d(r,"\u0275k",function(){return rn}),o.d(r,"\u0275l",function(){return on}),o.d(r,"\u0275m",function(){return cn}),o.d(r,"\u0275n",function(){return sn}),o.d(r,"\u0275o",function(){return ln}),o.d(r,"\u0275p",function(){return un}),o.d(r,"\u0275q",function(){return dn}),o.d(r,"\u0275r",function(){return bn}),o.d(r,"\u0275s",function(){return fn}),o.d(r,"\u0275t",function(){return mn}),o.d(r,"\u0275u",function(){return hn}),o.d(r,"\u0275v",function(){return yn}),o.d(r,"\u0275w",function(){return vn});var c=o("mrSG"),l=o("HmNo"),u=o("1REP"),b=o("J7bl"),f=o("fXoL"),m=o("AcyG"),h=o("vkgz"),y=o("wO+i"),v=o("IzEk"),g=o("nYR2"),k=o("eIep"),I=o("lJxs"),C=o("CqXF"),T=o("1kSV"),S=o("YF2q"),O=o("nxWG"),N=o("LRne"),w=o("ofXK"),U=["menu"];function x(e,t){1&e&&f.Wb(0)}function A(e,t){1&e&&f.Wb(0)}function z(e,t){}function j(e,t){1&e&&f.Qc(0,z,0,0,"ng-template")}var R=function(e){return{$implicit:e}};function Z(e,t){if(1&e){var n=f.bc();f.ac(0,"div",11,12),f.kc("abpInit",function(){f.Ic(n);var e=f.Fc(1),t=f.oc().$implicit;return f.oc(2).initDropdown(t.key,e)}),f.Vb(2,"i",13),f.ac(3,"div",14),f.Qc(4,j,1,0,void 0,6),f.Zb(),f.Zb()}if(2&e){var i=f.oc().$implicit,a=f.oc(2);f.Gb(2),f.Mb("dropdown-toggle",!1),f.Gb(2),f.vc("ngTemplateOutlet",a.menu)("ngTemplateOutletContext",f.zc(4,R,i))}}function G(e,t){if(1&e&&(f.ac(0,"div",9),f.Qc(1,A,1,0,"ng-container",6),f.Zb(),f.Qc(2,Z,5,6,"div",10)),2&e){var n=t.$implicit;f.oc();var i=f.Fc(5),a=f.oc();f.Gb(1),f.vc("ngTemplateOutlet",a.customNodeTemplate?null==a.customNodeTemplate?null:a.customNodeTemplate.template:i)("ngTemplateOutletContext",f.zc(3,R,n)),f.Gb(1),f.vc("ngIf",a.menu)}}function M(e,t){if(1&e&&(f.ac(0,"span"),f.Sc(1),f.Zb()),2&e){var n=t.$implicit;f.Gb(1),f.Tc(n.title)}}function q(e,t){if(1&e){var n=f.bc();f.ac(0,"div",5),f.kc("click",function(){f.Ic(n);var e=t.$implicit;return f.oc().onSelectedNodeChange(e)}),f.Qc(1,x,1,0,"ng-container",6),f.Qc(2,G,3,5,"ng-template",null,7,f.Rc),f.Qc(4,M,2,1,"ng-template",null,8,f.Rc),f.Zb()}if(2&e){var i=t.$implicit,a=f.Fc(3),r=f.oc();f.Mb("selected",r.isNodeSelected(i)),f.vc("title",i.title),f.Gb(1),f.vc("ngTemplateOutlet",a)("ngTemplateOutletContext",f.zc(5,R,i))}}function L(e,t){1&e&&f.Wb(0)}function F(e,t){if(1&e&&(f.ac(0,"i",15),f.Qc(1,L,1,0,"ng-container",16),f.Zb()),2&e){var n=t.$implicit;f.oc();var i=f.Fc(6),a=f.Fc(8);f.Gb(1),f.vc("ngTemplateOutlet",n.isExpanded?i:a)}}function E(e,t){1&e&&(f.nc(),f.ac(0,"svg",17),f.Vb(1,"path",18),f.Zb())}function P(e,t){1&e&&(f.nc(),f.ac(0,"svg",17),f.Vb(1,"path",19),f.Zb())}var V,D,Q,B,K=((B=function e(t){p(this,e),this.template=t}).\u0275fac=function(e){return new(e||B)(f.Ub(f.Q))},B.\u0275dir=f.Pb({type:B,selectors:[["","abpTreeNodeTemplate",""],["","abp-tree-node-template",""]]}),B),_=((Q=function e(t){p(this,e),this.template=t}).\u0275fac=function(e){return new(e||Q)(f.Ub(f.Q))},Q.\u0275dir=f.Pb({type:Q,selectors:[["","abpTreeExpandedIconTemplate",""],["","abp-tree-expanded-icon-template",""]]}),Q),Y=((D=function(){function e(){var t=this;p(this,e),this.dropdowns={},this.checkedKeysChange=new f.q,this.expandedKeysChange=new f.q,this.selectedNodeChange=new f.q,this.dropOver=new f.q,this.noAnimation=!0,this.checkedKeys=[],this.nodes=[],this.expandedKeys=[],this.isNodeSelected=function(e){var n;return(null===(n=t.selectedNode)||void 0===n?void 0:n.id)===e.key},this.beforeDrop=function(e){return t.dropPosition=e.pos,Object(N.a)(!1)}}return d(e,[{key:"onSelectedNodeChange",value:function(e){this.selectedNode=e.origin.entity,this.selectedNodeChange.emit(e.origin.entity)}},{key:"onCheckboxChange",value:function(e){this.checkedKeys=s(e.keys),this.checkedKeysChange.emit(e.keys)}},{key:"onExpandedKeysChange",value:function(e){this.expandedKeys=s(e.keys),this.expandedKeysChange.emit(e.keys)}},{key:"onDrop",value:function(e){e.event.stopPropagation(),e.event.preventDefault(),e.pos=this.dropPosition,this.dropOver.emit(e)}},{key:"initDropdown",value:function(e,t){this.dropdowns[e]=t}}]),e}()).\u0275fac=function(e){return new(e||D)},D.\u0275cmp=f.Ob({type:D,selectors:[["abp-tree"]],contentQueries:function(e,t,n){var i;1&e&&(f.Nb(n,U,1),f.Nb(n,K,1),f.Nb(n,_,1)),2&e&&(f.Ec(i=f.lc())&&(t.menu=i.first),f.Ec(i=f.lc())&&(t.customNodeTemplate=i.first),f.Ec(i=f.lc())&&(t.expandedIconTemplate=i.first))},inputs:{noAnimation:"noAnimation",checkedKeys:"checkedKeys",nodes:"nodes",expandedKeys:"expandedKeys",isNodeSelected:"isNodeSelected",beforeDrop:"beforeDrop",selectedNode:"selectedNode",draggable:"draggable",checkable:"checkable",checkStrictly:"checkStrictly"},outputs:{checkedKeysChange:"checkedKeysChange",expandedKeysChange:"expandedKeysChange",selectedNodeChange:"selectedNodeChange",dropOver:"dropOver"},decls:9,vars:10,consts:[[3,"nzBeforeDrop","nzDraggable","nzCheckStrictly","nzCheckable","nzCheckedKeys","nzData","nzTreeTemplate","nzExpandedKeys","nzExpandedIcon","nzNoAnimation","nzExpandChange","nzCheckBoxChange","nzOnDrop","nzContextMenu"],["treeTemplate",""],["defaultIconTemplate",""],["minusIcon",""],["plusIcon",""],[1,"node-wrapper",3,"title","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["nodeTemplate",""],["defaultNodeTemplate",""],[1,"d-inline-block"],["class","d-inline-block ml-1","ngbDropdown","","placement","bottom","container","body",3,"abpInit",4,"ngIf"],["ngbDropdown","","placement","bottom","container","body",1,"d-inline-block","ml-1",3,"abpInit"],["dropdown","ngbDropdown"],["ngbDropdownToggle","",1,"fas","fa-caret-down","text-muted"],["ngbDropdownMenu",""],["aria-hidden","true",2,"line-height","28px"],[4,"ngTemplateOutlet"],["width","15","height","15","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg","fill-rule","evenodd","clip-rule","evenodd"],["d","M11.5 0c6.347 0 11.5 5.153 11.5 11.5s-5.153 11.5-11.5 11.5-11.5-5.153-11.5-11.5 5.153-11.5 11.5-11.5zm0 1c5.795 0 10.5 4.705 10.5 10.5s-4.705 10.5-10.5 10.5-10.5-4.705-10.5-10.5 4.705-10.5 10.5-10.5zm-6.5 10h13v1h-13v-1z"],["d","M11.5 0c6.347 0 11.5 5.153 11.5 11.5s-5.153 11.5-11.5 11.5-11.5-5.153-11.5-11.5 5.153-11.5 11.5-11.5zm0 1c5.795 0 10.5 4.705 10.5 10.5s-4.705 10.5-10.5 10.5-10.5-4.705-10.5-10.5 4.705-10.5 10.5-10.5zm.5 10h6v1h-6v6h-1v-6h-6v-1h6v-6h1v6z"]],template:function(e,t){if(1&e&&(f.ac(0,"nz-tree",0),f.kc("nzExpandChange",function(e){return t.onExpandedKeysChange(e)})("nzCheckBoxChange",function(e){return t.onCheckboxChange(e)})("nzOnDrop",function(e){return t.onDrop(e)})("nzContextMenu",function(e){return null==t.dropdowns[null==e.node?null:e.node.key]?null:t.dropdowns[null==e.node?null:e.node.key].toggle()}),f.Zb(),f.Qc(1,q,6,7,"ng-template",null,1,f.Rc),f.Qc(3,F,2,1,"ng-template",null,2,f.Rc),f.Qc(5,E,2,0,"ng-template",null,3,f.Rc),f.Qc(7,P,2,0,"ng-template",null,4,f.Rc)),2&e){var n=f.Fc(2),i=f.Fc(4);f.vc("nzBeforeDrop",t.beforeDrop)("nzDraggable",t.draggable)("nzCheckStrictly",t.checkStrictly)("nzCheckable",t.checkable)("nzCheckedKeys",t.checkedKeys)("nzData",t.nodes)("nzTreeTemplate",n)("nzExpandedKeys",t.expandedKeys)("nzExpandedIcon",(null==t.expandedIconTemplate?null:t.expandedIconTemplate.template)||i)("nzNoAnimation",t.noAnimation)}},directives:[O.a,S.a,w.v,w.q,T.e,l.z,T.i,T.g],styles:['.ant-tree-checkbox,.ant-tree-checkbox-wrapper{box-sizing:border-box;display:inline-block;font-feature-settings:"tnum";font-size:14px;font-variant:tabular-nums;list-style:none}@-webkit-keyframes antCheckboxEffect{0%{opacity:.5;transform:scale(1)}to{opacity:0;transform:scale(1.6)}}@keyframes antCheckboxEffect{0%{opacity:.5;transform:scale(1)}to{opacity:0;transform:scale(1.6)}}.ant-tree-treenode-leaf-last .ant-tree-switcher-leaf-line:before{bottom:auto!important;height:14px!important;top:auto!important}.ant-tree.ant-tree-directory .ant-tree-treenode{position:relative}.ant-tree.ant-tree-directory .ant-tree-treenode:before{bottom:4px;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0;transition:background-color .3s}.ant-tree.ant-tree-directory .ant-tree-treenode:hover:before{background:#f5f5f5}.ant-tree.ant-tree-directory .ant-tree-treenode>*{z-index:1}.ant-tree.ant-tree-directory .ant-tree-treenode .ant-tree-switcher{transition:color .3s}.ant-tree.ant-tree-directory .ant-tree-treenode .ant-tree-node-content-wrapper{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;border-radius:0;user-select:none}.ant-tree.ant-tree-directory .ant-tree-treenode .ant-tree-node-content-wrapper:hover{background:0 0}.ant-tree.ant-tree-directory .ant-tree-treenode .ant-tree-node-content-wrapper.ant-tree-node-selected{background:0 0;color:#fff}.ant-tree.ant-tree-directory .ant-tree-treenode-selected:before,.ant-tree.ant-tree-directory .ant-tree-treenode-selected:hover:before{background:#1890ff}.ant-tree.ant-tree-directory .ant-tree-treenode-selected .ant-tree-switcher{color:#fff}.ant-tree.ant-tree-directory .ant-tree-treenode-selected .ant-tree-node-content-wrapper{background:0 0;color:#fff}.ant-tree-checkbox{color:rgba(0,0,0,.85);cursor:pointer;line-height:1;outline:0;padding:0;position:relative;vertical-align:middle;white-space:nowrap}.ant-tree-checkbox-input:focus+.ant-tree-checkbox-inner,.ant-tree-checkbox-wrapper:hover .ant-tree-checkbox-inner,.ant-tree-checkbox:hover .ant-tree-checkbox-inner{border-color:#1890ff}.ant-tree-checkbox-checked:after{-webkit-animation:antCheckboxEffect .36s ease-in-out;-webkit-animation-fill-mode:backwards;animation:antCheckboxEffect .36s ease-in-out;animation-fill-mode:backwards;border:1px solid #1890ff;border-radius:2px;content:"";height:100%;left:0;position:absolute;top:0;visibility:hidden;width:100%}.ant-tree-checkbox-wrapper:hover .ant-tree-checkbox:after,.ant-tree-checkbox:hover:after{visibility:visible}.ant-tree-checkbox-inner{background-color:#fff;border:1px solid #d9d9d9;border-collapse:separate;border-radius:2px;direction:ltr;display:block;height:16px;left:0;position:relative;top:0;transition:all .3s;width:16px}.ant-tree-rtl,.ant-tree .ant-tree-treenode-rtl{direction:rtl}.ant-tree-checkbox-inner:after{border:2px solid #fff;border-left:0;border-top:0;content:" ";display:table;height:9.14px;left:22%;opacity:0;position:absolute;top:50%;transform:rotate(45deg) scale(0) translate(-50%,-50%);transition:all .1s cubic-bezier(.71,-.46,.88,.6),opacity .1s;width:5.71px}.ant-tree-checkbox-input{bottom:0;cursor:pointer;height:100%;left:0;opacity:0;position:absolute;right:0;top:0;width:100%;z-index:1}.ant-tree-checkbox-disabled,.ant-tree-checkbox-disabled+span,.ant-tree-checkbox-disabled .ant-tree-checkbox-input{cursor:not-allowed}.ant-tree-checkbox-checked .ant-tree-checkbox-inner:after{border:2px solid #fff;border-left:0;border-top:0;content:" ";display:table;opacity:1;position:absolute;transform:rotate(45deg) scale(1) translate(-50%,-50%);transition:all .2s cubic-bezier(.12,.4,.29,1.46) .1s}.ant-tree-checkbox-checked .ant-tree-checkbox-inner{background-color:#1890ff;border-color:#1890ff}.ant-tree-checkbox-disabled.ant-tree-checkbox-checked .ant-tree-checkbox-inner:after{-webkit-animation-name:none;animation-name:none;border-color:rgba(0,0,0,.25)}.ant-tree-checkbox-disabled .ant-tree-checkbox-inner{background-color:#f5f5f5;border-color:#d9d9d9!important}.ant-tree-checkbox-disabled .ant-tree-checkbox-inner:after{-webkit-animation-name:none;animation-name:none;border-collapse:separate;border-color:#f5f5f5}.ant-tree-checkbox-disabled+span{color:rgba(0,0,0,.25)}.ant-tree-checkbox-disabled:hover:after,.ant-tree-checkbox-wrapper:hover .ant-tree-checkbox-disabled:after{visibility:hidden}.ant-tree-checkbox-wrapper{color:rgba(0,0,0,.85);cursor:pointer;line-height:unset;margin:0;padding:0}.ant-tree-checkbox-wrapper.ant-tree-checkbox-wrapper-disabled{cursor:not-allowed}.ant-tree-checkbox-wrapper+.ant-tree-checkbox-wrapper{margin-left:8px}.ant-tree-checkbox+span{padding-left:8px;padding-right:8px}.ant-tree,.ant-tree-checkbox-group{box-sizing:border-box;color:rgba(0,0,0,.85);font-feature-settings:"tnum";font-size:14px;font-variant:tabular-nums;line-height:1.5715;list-style:none;padding:0}.ant-tree-checkbox-group{display:inline-block;margin:0}.ant-tree-checkbox-group-item{display:inline-block;margin-right:8px}.ant-tree-checkbox-group-item:last-child{margin-right:0}.ant-tree-checkbox-group-item+.ant-tree-checkbox-group-item{margin-left:0}.ant-tree-checkbox-indeterminate .ant-tree-checkbox-inner{background-color:#fff;border-color:#d9d9d9}.ant-tree-checkbox-indeterminate .ant-tree-checkbox-inner:after{background-color:#1890ff;border:0;content:" ";height:8px;left:50%;opacity:1;top:50%;transform:translate(-50%,-50%) scale(1);width:8px}.ant-tree-checkbox-indeterminate.ant-tree-checkbox-disabled .ant-tree-checkbox-inner:after{background-color:rgba(0,0,0,.25);border-color:rgba(0,0,0,.25)}.ant-tree{background:#fff;border-radius:2px;margin:0;transition:background-color .3s}.ant-tree-focused:not(:hover):not(.ant-tree-active-focused){background:#e6f7ff}.ant-tree-list-holder-inner{align-items:flex-start}.ant-tree.ant-tree-block-node .ant-tree-list-holder-inner{align-items:stretch}.ant-tree.ant-tree-block-node .ant-tree-list-holder-inner .ant-tree-node-content-wrapper{flex:auto}.ant-tree .ant-tree-treenode{align-items:flex-start;display:flex;outline:0;padding:0 0 4px}.ant-tree .ant-tree-treenode-disabled .ant-tree-node-content-wrapper{color:rgba(0,0,0,.25);cursor:not-allowed}.ant-tree .ant-tree-treenode-disabled .ant-tree-node-content-wrapper:hover{background:0 0}.ant-tree .ant-tree-treenode-active .ant-tree-node-content-wrapper{background:#f5f5f5}.ant-tree-indent{-moz-user-select:none;-ms-grid-row-align:stretch;-ms-user-select:none;-webkit-user-select:none;align-self:stretch;user-select:none;white-space:nowrap}.ant-tree-indent-unit{display:inline-block;width:24px}.ant-tree-switcher{-moz-user-select:none;-ms-grid-row-align:stretch;-ms-user-select:none;-webkit-user-select:none;align-self:stretch;cursor:pointer;flex:none;line-height:24px;margin:0;position:relative;text-align:center;user-select:none;width:24px}.ant-tree-switcher .ant-select-tree-switcher-icon,.ant-tree-switcher .ant-tree-switcher-icon{display:inline-block;font-size:10px;vertical-align:baseline}.ant-tree-switcher .ant-select-tree-switcher-icon svg,.ant-tree-switcher .ant-tree-switcher-icon svg{transition:transform .3s}.ant-tree-switcher-noop{cursor:default}.ant-tree-switcher_close .ant-tree-switcher-icon svg{transform:rotate(-90deg)}.ant-tree-switcher-loading-icon{color:#1890ff}.ant-tree-switcher-leaf-line{display:inline-block;height:100%;position:relative;width:100%;z-index:1}.ant-tree-switcher-leaf-line:after,.ant-tree-switcher-leaf-line:before{content:" ";margin-left:-1px;position:absolute}.ant-tree-switcher-leaf-line:before{border-left:1px solid #d9d9d9;bottom:-4px;top:0}.ant-tree-switcher-leaf-line:after{border-bottom:1px solid #d9d9d9;height:14px;width:10px}.ant-tree-checkbox{margin:4px 8px 0 0;top:auto}.ant-tree .ant-tree-node-content-wrapper{background:0 0;border-radius:2px;color:inherit;cursor:pointer;line-height:24px;margin:0;min-height:24px;padding:0 4px;position:relative;transition:all .3s,border 0s,line-height 0s,box-shadow 0s;z-index:auto}.ant-tree .ant-tree-node-content-wrapper:hover{background-color:#f5f5f5}.ant-tree .ant-tree-node-content-wrapper.ant-tree-node-selected{background-color:#bae7ff}.ant-tree .ant-tree-node-content-wrapper .ant-tree-iconEle{display:inline-block;height:24px;line-height:24px;text-align:center;vertical-align:top;width:24px}.ant-tree-show-line .ant-tree-indent-unit-end:before,.ant-tree .ant-tree-node-content-wrapper .ant-tree-iconEle:empty{display:none}.ant-tree-unselectable .ant-tree-node-content-wrapper:hover{background-color:transparent}.ant-tree-node-content-wrapper[draggable=true]{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;line-height:24px;user-select:none}.ant-tree-node-content-wrapper[draggable=true] .ant-tree-drop-indicator{background-color:#1890ff;border-radius:1px;height:2px;pointer-events:none;position:absolute;z-index:1}.ant-tree-node-content-wrapper[draggable=true] .ant-tree-drop-indicator:after{background-color:transparent;border:2px solid #1890ff;border-radius:50%;content:"";height:8px;left:-6px;position:absolute;top:-3px;width:8px}.ant-tree .ant-tree-treenode.drop-container>[draggable]{box-shadow:0 0 0 2px #1890ff}.ant-tree-show-line .ant-tree-indent-unit{height:100%;position:relative}.ant-tree-show-line .ant-tree-indent-unit:before{border-right:1px solid #d9d9d9;bottom:-4px;content:"";position:absolute;right:12px;top:0}.ant-tree-show-line .ant-tree-switcher{background:#fff}.ant-tree-show-line .ant-tree-switcher-line-icon{vertical-align:-.225em}.ant-tree-rtl .ant-tree-node-content-wrapper[draggable=true] .ant-tree-drop-indicator:after{left:unset;right:-6px}.ant-tree-rtl .ant-tree-switcher_close .ant-tree-switcher-icon svg{transform:rotate(90deg)}.ant-tree-rtl.ant-tree-show-line .ant-tree-indent-unit:before{border-left:1px solid #d9d9d9;border-right:none;left:-13px;right:auto}.ant-tree-rtl.ant-tree-checkbox,.ant-tree-select-dropdown-rtl .ant-select-tree-checkbox{margin:4px 0 0 8px}.font-highlight{color:#ff4d4f}.ant-tree-child-tree{overflow:hidden}nz-tree{display:block}',".ant-tree{color:inherit}.ant-tree .ant-tree-node-content-wrapper.ant-tree-node-selected{background-color:transparent}.ant-tree .ant-tree-switcher{line-height:17px}.ant-tree .ant-tree-node-content-wrapper{padding:0;width:100%}.ant-tree .node-wrapper{border:1px solid transparent;border-radius:2px;cursor:pointer;display:inline-block;line-height:24px;margin:0;padding:0 5px 0 8px;position:relative;text-decoration:none;vertical-align:top;width:100%}.ant-tree .ellipsis{cursor:pointer;position:absolute;right:8px;top:1px}"],encapsulation:2}),D),W=((V=function e(){p(this,e)}).\u0275fac=function(e){return new(e||V)},V.\u0275mod=f.Sb({type:V}),V.\u0275inj=f.Rb({imports:[[l.o,O.b,T.h,S.b]]}),V),$=function(e){n(i,e);var t=a(i);function i(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e.displayName||e.name};return p(this,i),(n=t.call(this,e.id,e.parentId)).entity=e,n.nameResolver=a,n.icon=null,n.children=[],n.isLeaf=!0,n.checked=!1,n.selected=!1,n.expanded=!1,n.selectable=!0,n.disabled=!1,n.disableCheckbox=!1,n.key=e.id,n.title=a(e),n}return i}(function(){return function e(t,n){p(this,e),this.id=t,this.parentId=n}}()),H=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];p(this,e),this.list=t,this.tree=X(this.list)}return d(e,[{key:"getList",value:function(){return this.list}},{key:"getTree",value:function(){return this.tree}},{key:"handleDrop",value:function(e){var t=e.key,n=e.parentNode,i=this.list.findIndex(function(e){return e.id===t});this.list[i].parentId=n?n.key:null,this.tree=X(this.list)}},{key:"handleRemove",value:function(e){var t=e.key;this.updateTreeFromList(this.list.filter(function(e){return e.id!==t}))}},{key:"handleUpdate",value:function(e){var t=e.key,n=e.children,i=this.updateTreeFromList(this.list.filter(function(e){return e.parentId!==t}));this.updateTreeFromList(i.concat(n))}},{key:"updateTreeFromList",value:function(e){return this.tree=X(e),this.list=J(this.tree),this.list}}]),e}();function X(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return e.forEach(function(e){return t.set(e.id,new $(e))}),t}(e),n=[];return e.forEach(function(e){var i=e.parentId,a=t.get(e.id);if(i){var r=t.get(i);if(!r)return;r.children.push(a),r.isLeaf=!1}else n.push(a)}),n}function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach(function(e){t.push(Object.assign(Object.assign({},e.entity),{parentId:e.parentId})),e.children&&J(e.children,t)}),t}var ee=o("3Pt+"),te=o("350m"),ne=o("rBLV"),ie=o("x4+Y"),ae=o("iWZL"),re=o("tyNb"),oe=["modalContent"];function ce(e,t){if(1&e){var n=f.bc();f.Yb(0),f.ac(1,"div",5),f.ac(2,"div",6),f.ac(3,"h1",7),f.Sc(4),f.pc(5,"abpLocalization"),f.Zb(),f.Zb(),f.ac(6,"div",8),f.Vb(7,"abp-breadcrumb"),f.Zb(),f.ac(8,"div",9),f.Vb(9,"abp-page-toolbar",10),f.Zb(),f.Zb(),f.ac(10,"div",11),f.ac(11,"div",12),f.ac(12,"div",13),f.ac(13,"div",14),f.ac(14,"div",9),f.ac(15,"div",15),f.ac(16,"input",16),f.kc("ngModelChange",function(e){return f.Ic(n),f.oc().list.filter=e}),f.pc(17,"abpLocalization"),f.Zb(),f.ac(18,"div",17),f.ac(19,"button",18),f.kc("click",function(){return f.Ic(n),f.oc().list.get()}),f.Vb(20,"i",19),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.ac(21,"div",12),f.Vb(22,"abp-extensible-table",20),f.pc(23,"async"),f.Zb(),f.Zb(),f.Xb()}if(2&e){var i=t.ngIf,a=f.oc();f.Gb(4),f.Tc(f.qc(5,7,"AbpIdentity::ClaimTypes")),f.Gb(5),f.vc("record",i),f.Gb(7),f.vc("placeholder",f.qc(17,9,"AbpUi::PagerSearch"))("ngModel",a.list.filter),f.Gb(6),f.vc("data",i)("recordsTotal",f.qc(23,11,a.totalCount$))("list",a.list)}}function se(e,t){if(1&e&&(f.ac(0,"h3"),f.Sc(1),f.pc(2,"abpLocalization"),f.Zb()),2&e){var n=f.oc();f.Gb(1),f.Uc(" ",f.qc(2,1,null!=n.selected&&n.selected.id?"AbpIdentity::Edit":"AbpIdentity::NewClaimType")," ")}}function le(e,t){if(1&e){var n=f.bc();f.ac(0,"form",21),f.kc("ngSubmit",function(){return f.Ic(n),f.oc().save()}),f.ac(1,"div",22),f.Vb(2,"abp-extensible-form",23),f.Zb(),f.Zb()}if(2&e){var i=f.oc();f.vc("formGroup",i.form),f.Gb(2),f.vc("selectedRecord",i.selected)}}function ue(e,t){if(1&e){var n=f.bc();f.ac(0,"button",24,25),f.Sc(2),f.pc(3,"abpLocalization"),f.Zb(),f.ac(4,"abp-button",26),f.kc("click",function(){return f.Ic(n),f.oc().save()}),f.Sc(5),f.pc(6,"abpLocalization"),f.Zb()}if(2&e){var i=f.oc();f.Gb(2),f.Uc(" ",f.qc(3,3,"AbpIdentity::Cancel")," "),f.Gb(2),f.vc("disabled",null==i.form?null:i.form.invalid),f.Gb(1),f.Tc(f.qc(6,5,"AbpIdentity::Save"))}}function de(e,t){1&e&&(f.ac(0,"h3"),f.Sc(1),f.pc(2,"abpLocalization"),f.Zb()),2&e&&(f.Gb(1),f.Tc(f.qc(2,1,"AbpIdentity::SelectUsers")))}function pe(e,t){if(1&e&&f.Vb(0,"abp-organization-members-modal-body",8),2&e){var n=f.oc();f.vc("checkedUnits",n.checkedUnits)("isCheckboxDisabled",n.isCheckboxDisabled)}}function be(e,t){if(1&e){var n=f.bc();f.ac(0,"button",9,10),f.Sc(2),f.pc(3,"abpLocalization"),f.Zb(),f.ac(4,"abp-button",11),f.kc("click",function(){return f.Ic(n),f.oc().addUnits()}),f.Sc(5),f.pc(6,"abpLocalization"),f.Zb()}2&e&&(f.Gb(2),f.Uc(" ",f.qc(3,2,"AbpIdentity::Cancel")," "),f.Gb(3),f.Tc(f.qc(6,4,"AbpIdentity::Save")))}function fe(e,t){1&e&&(f.ac(0,"h3"),f.Sc(1),f.pc(2,"abpLocalization"),f.Zb()),2&e&&(f.Gb(1),f.Tc(f.qc(2,1,"AbpIdentity::SelectRoles")))}function me(e,t){if(1&e&&f.Vb(0,"abp-organization-roles-modal-body",8),2&e){var n=f.oc();f.vc("checkedUnits",n.checkedUnits)("isCheckboxDisabled",n.isCheckboxDisabled)}}function he(e,t){if(1&e){var n=f.bc();f.ac(0,"button",9,10),f.Sc(2),f.pc(3,"abpLocalization"),f.Zb(),f.ac(4,"abp-button",11),f.kc("click",function(){return f.Ic(n),f.oc().addUnits()}),f.Sc(5),f.pc(6,"abpLocalization"),f.Zb()}2&e&&(f.Gb(2),f.Uc(" ",f.qc(3,2,"AbpIdentity::Cancel")," "),f.Gb(3),f.Tc(f.qc(6,4,"AbpIdentity::Save")))}function ye(e,t){if(1&e&&(f.Vb(0,"i",23),f.Sc(1)),2&e){var n=t.$implicit;f.Gb(1),f.Uc(" ",n.title," ")}}function ve(e,t){if(1&e){var n=f.bc();f.ac(0,"li",24),f.kc("click",function(){f.Ic(n);var e=t.$implicit;return f.oc(2).edit(e.origin.entity)}),f.Sc(1),f.pc(2,"abpLocalization"),f.Zb(),f.ac(3,"li",24),f.kc("click",function(){f.Ic(n);var e=t.$implicit;return f.oc(2).addSubUnit(e.origin.entity)}),f.Sc(4),f.pc(5,"abpLocalization"),f.Zb(),f.ac(6,"li",24),f.kc("click",function(){f.Ic(n);var e=t.$implicit;return f.oc(2).delete(e.origin.entity)}),f.Sc(7),f.pc(8,"abpLocalization"),f.Zb()}2&e&&(f.Gb(1),f.Uc(" ",f.qc(2,3,"AbpIdentity::Edit")," "),f.Gb(3),f.Uc(" ",f.qc(5,5,"AbpIdentity::AddSubUnit")," "),f.Gb(3),f.Uc(" ",f.qc(8,7,"AbpIdentity::Delete")," "))}function ge(e,t){1&e&&(f.ac(0,"p",25),f.Sc(1),f.pc(2,"abpLocalization"),f.Zb()),2&e&&(f.Gb(1),f.Uc(" ",f.qc(2,1,"AbpIdentity::NoOrganizationUnits")," "))}function ke(e,t){if(1&e){var n=f.bc();f.ac(0,"div",13),f.ac(1,"div",14),f.ac(2,"div",15),f.ac(3,"h5"),f.Sc(4),f.pc(5,"abpLocalization"),f.Zb(),f.ac(6,"button",16),f.kc("click",function(){return f.Ic(n),f.oc().add()}),f.Vb(7,"i",17),f.Sc(8),f.pc(9,"abpLocalization"),f.Zb(),f.Zb(),f.ac(10,"div",18),f.ac(11,"abp-tree",19),f.kc("expandedKeysChange",function(e){return f.Ic(n),f.oc().expandedKeys=e})("selectedNodeChange",function(e){return f.Ic(n),f.oc().selectedUnit=e})("dropOver",function(e){return f.Ic(n),f.oc().onDrop(e)}),f.Qc(12,ye,2,1,"ng-template",20),f.Qc(13,ve,9,9,"ng-template",null,21,f.Rc),f.Zb(),f.Qc(15,ge,3,3,"p",22),f.Zb(),f.Zb(),f.Zb()}if(2&e){var i=f.oc();f.Gb(4),f.Uc(" ",f.qc(5,8,"AbpIdentity::OrganizationTree")," "),f.Gb(4),f.Uc(" ",f.qc(9,10,"AbpIdentity::AddRootUnit")," "),f.Gb(2),f.vc("abpLoading",i.loading),f.Gb(1),f.vc("nodes",i.nodes)("expandedKeys",i.expandedKeys)("selectedNode",i.selectedUnit)("draggable",!0),f.Gb(4),f.vc("ngIf",!(i.loading||null!=i.nodes&&i.nodes.length))}}function Ie(e,t){if(1&e&&f.Vb(0,"abp-organization-members",37),2&e){var n=f.oc(5);f.vc("selectedOrganizationUnit",n.selectedUnit)}}var Ce=function(e){return{value:e}},Te=function(e){return{selectedOrganizationUnit:e}},Se=function(e,t){return{inputs:e,componentKey:t}};function Oe(e,t){if(1&e&&(f.Yb(0),f.Qc(1,Ie,1,1,"abp-organization-members",36),f.Xb()),2&e){var n=f.oc(4);f.Gb(1),f.vc("abpReplaceableTemplate",f.Ac(5,Se,f.zc(3,Te,f.zc(1,Ce,n.selectedUnit)),n.organizationMembersKey))}}function Ne(e,t){1&e&&(f.ac(0,"p",25),f.Sc(1),f.pc(2,"abpLocalization"),f.Zb()),2&e&&(f.Gb(1),f.Uc(" ",f.qc(2,1,"AbpIdentity::SelectAnOrganizationUnitToSeeMembers")," "))}function we(e,t){if(1&e&&(f.Qc(0,Oe,2,8,"ng-container",34),f.Qc(1,Ne,3,3,"ng-template",null,35,f.Rc)),2&e){var n=f.Fc(2),i=f.oc(3);f.vc("ngIf",i.selectedUnit)("ngIfElse",n)}}function Ue(e,t){1&e&&(f.ac(0,"li",31),f.ac(1,"a",32),f.Sc(2),f.pc(3,"abpLocalization"),f.Zb(),f.Qc(4,we,3,2,"ng-template",33),f.Zb()),2&e&&(f.Gb(2),f.Tc(f.qc(3,1,"AbpIdentity::Members")))}function xe(e,t){if(1&e&&f.Vb(0,"abp-organization-roles",37),2&e){var n=f.oc(5);f.vc("selectedOrganizationUnit",n.selectedUnit)}}function Ae(e,t){if(1&e&&(f.Yb(0),f.Qc(1,xe,1,1,"abp-organization-roles",36),f.Xb()),2&e){var n=f.oc(4);f.Gb(1),f.vc("abpReplaceableTemplate",f.Ac(5,Se,f.zc(3,Te,f.zc(1,Ce,n.selectedUnit)),n.organizationRolesKey))}}function ze(e,t){1&e&&(f.ac(0,"p",25),f.Sc(1),f.pc(2,"abpLocalization"),f.Zb()),2&e&&(f.Gb(1),f.Uc(" ",f.qc(2,1,"AbpIdentity::SelectAnOrganizationUnitToSeeRoles")," "))}function je(e,t){if(1&e&&(f.Qc(0,Ae,2,8,"ng-container",34),f.Qc(1,ze,3,3,"ng-template",null,35,f.Rc)),2&e){var n=f.Fc(2),i=f.oc(3);f.vc("ngIf",i.selectedUnit)("ngIfElse",n)}}function Re(e,t){1&e&&(f.ac(0,"li",31),f.ac(1,"a",32),f.Sc(2),f.pc(3,"abpLocalization"),f.Zb(),f.Qc(4,je,3,2,"ng-template",33),f.Zb()),2&e&&(f.Gb(2),f.Tc(f.qc(3,1,"AbpIdentity::Roles")))}function Ze(e,t){if(1&e&&(f.ac(0,"div",26),f.ac(1,"div",14),f.ac(2,"ul",27,28),f.Qc(4,Ue,5,3,"li",29),f.Qc(5,Re,5,3,"li",29),f.Zb(),f.Vb(6,"div",30),f.Zb(),f.Zb()),2&e){var n=f.Fc(3);f.Gb(4),f.vc("abpPermission","AbpIdentity.OrganizationUnits.ManageMembers"),f.Gb(1),f.vc("abpPermission","AbpIdentity.OrganizationUnits.ManageRoles"),f.Gb(1),f.vc("ngbNavOutlet",n)}}function Ge(e,t){if(1&e&&(f.ac(0,"h3"),f.Sc(1),f.pc(2,"abpLocalization"),f.Zb()),2&e){var n=f.oc();f.Gb(1),f.Uc(" ",f.qc(2,1,n.nodeForm.get("id").value?"AbpIdentity::EditOrganizationUnit":"AbpIdentity::NewOrganizationUnit")," ")}}function Me(e,t){if(1&e&&(f.ac(0,"div",41),f.ac(1,"strong"),f.Sc(2),f.pc(3,"abpLocalization"),f.Zb(),f.Zb()),2&e){var n=t.ngIf,i=f.oc(2);f.Gb(2),f.Tc(f.rc(3,1,"AbpIdentity::OrganizationUnit:Parent{0}",i.getParentName(n)))}}function qe(e,t){if(1&e){var n=f.bc();f.Qc(0,Me,4,4,"div",38),f.ac(1,"form",39),f.kc("ngSubmit",function(){return f.Ic(n),f.oc().save()}),f.Vb(2,"abp-extensible-form",40),f.Zb()}if(2&e){var i=f.oc();f.vc("ngIf",i.nodeForm.get("parentId").value),f.Gb(1),f.vc("formGroup",i.nodeForm),f.Gb(1),f.vc("selectedRecord",i.selectedUnit)}}function Le(e,t){if(1&e){var n=f.bc();f.ac(0,"button",42,43),f.Sc(2),f.pc(3,"abpLocalization"),f.Zb(),f.ac(4,"abp-button",44),f.kc("click",function(){return f.Ic(n),f.oc().save()}),f.Sc(5),f.pc(6,"abpLocalization"),f.Zb()}if(2&e){var i=f.oc();f.Gb(2),f.Uc(" ",f.qc(3,3,"AbpIdentity::Cancel")," "),f.Gb(2),f.vc("disabled",null==i.nodeForm?null:i.nodeForm.invalid),f.Gb(1),f.Tc(f.qc(6,5,"AbpIdentity::Save"))}}function Fe(e,t){if(1&e){var n=f.bc();f.Yb(0),f.ac(1,"div",7),f.ac(2,"div",8),f.ac(3,"h1",9),f.Sc(4),f.pc(5,"abpLocalization"),f.Zb(),f.Zb(),f.ac(6,"div",10),f.Vb(7,"abp-breadcrumb"),f.Zb(),f.ac(8,"div",11),f.Vb(9,"abp-page-toolbar",12),f.Zb(),f.Zb(),f.ac(10,"div",13),f.ac(11,"div",14),f.ac(12,"div",15),f.ac(13,"div",16),f.ac(14,"div",11),f.ac(15,"div",17),f.ac(16,"input",18),f.kc("ngModelChange",function(e){return f.Ic(n),f.oc().list.filter=e}),f.pc(17,"abpLocalization"),f.Zb(),f.ac(18,"div",19),f.ac(19,"button",20),f.kc("click",function(){return f.Ic(n),f.oc().list.get()}),f.Vb(20,"i",21),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.ac(21,"div",14),f.Vb(22,"abp-extensible-table",22),f.pc(23,"async"),f.Zb(),f.Zb(),f.Xb()}if(2&e){var i=t.ngIf,a=f.oc();f.Gb(4),f.Tc(f.qc(5,7,"AbpIdentity::Roles")),f.Gb(5),f.vc("record",i),f.Gb(7),f.vc("placeholder",f.qc(17,9,"AbpUi::PagerSearch"))("ngModel",a.list.filter),f.Gb(6),f.vc("data",i)("recordsTotal",f.qc(23,11,a.totalCount$))("list",a.list)}}function Ee(e,t){if(1&e&&(f.ac(0,"h3"),f.Sc(1),f.pc(2,"abpLocalization"),f.Zb()),2&e){var n=f.oc();f.Gb(1),f.Tc(f.qc(2,1,null!=n.selected&&n.selected.id?"AbpIdentity::Edit":"AbpIdentity::NewRole"))}}function Pe(e,t){if(1&e){var n=f.bc();f.ac(0,"form",23),f.kc("ngSubmit",function(){return f.Ic(n),f.oc().save()}),f.Vb(1,"abp-extensible-form",24),f.Zb()}if(2&e){var i=f.oc();f.vc("formGroup",i.form),f.Gb(1),f.vc("selectedRecord",i.selected)}}function Ve(e,t){if(1&e){var n=f.bc();f.ac(0,"button",25,26),f.Sc(2),f.pc(3,"abpLocalization"),f.Zb(),f.ac(4,"abp-button",27),f.kc("click",function(){return f.Ic(n),f.oc().save()}),f.Sc(5),f.pc(6,"abpLocalization"),f.Zb()}if(2&e){var i=f.oc();f.Gb(2),f.Uc(" ",f.qc(3,3,"AbpIdentity::Cancel")," "),f.Gb(2),f.vc("disabled",null==i.form?null:i.form.invalid),f.Gb(1),f.Tc(f.qc(6,5,"AbpIdentity::Save"))}}function De(e,t){if(1&e){var n=f.bc();f.ac(0,"abp-permission-management",28),f.kc("visibleChange",function(e){return f.Ic(n),f.oc().visiblePermissions=e}),f.Zb()}if(2&e){var i=f.oc();f.vc("visible",i.visiblePermissions)("providerKey",i.providerKey)("hideBadges",!0)}}var Qe=function(){return{value:"R"}},Be=function(){return{value:!0}},Ke=function(e){return{value:e,twoWay:!0}},_e=function(e,t,n,i){return{providerName:e,providerKey:t,hideBadges:n,visible:i}},Ye=function(e){return{visibleChange:e}},We=function(e,t){return{inputs:e,outputs:t,componentKey:"PermissionManagement.PermissionManagementComponent"}};function $e(e,t){if(1&e){var n=f.bc();f.Yb(0),f.ac(1,"div",8),f.ac(2,"div",9),f.ac(3,"h1",10),f.Sc(4),f.pc(5,"abpLocalization"),f.Zb(),f.Zb(),f.ac(6,"div",11),f.Vb(7,"abp-breadcrumb"),f.Zb(),f.ac(8,"div",12),f.Vb(9,"abp-page-toolbar",13),f.Zb(),f.Zb(),f.ac(10,"div",14),f.ac(11,"div",15),f.ac(12,"div",16),f.ac(13,"div",17),f.ac(14,"div",12),f.ac(15,"div",18),f.ac(16,"input",19),f.kc("ngModelChange",function(e){return f.Ic(n),f.oc().list.filter=e}),f.pc(17,"abpLocalization"),f.Zb(),f.ac(18,"div",20),f.ac(19,"button",21),f.kc("click",function(){return f.Ic(n),f.oc().list.get()}),f.Vb(20,"i",22),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.ac(21,"div",15),f.Vb(22,"abp-extensible-table",23),f.pc(23,"async"),f.Zb(),f.Zb(),f.Xb()}if(2&e){var i=t.ngIf,a=f.oc();f.Gb(4),f.Tc(f.qc(5,7,"AbpIdentity::Users")),f.Gb(5),f.vc("record",i),f.Gb(7),f.vc("placeholder",f.qc(17,9,"AbpUi::PagerSearch"))("ngModel",a.list.filter),f.Gb(6),f.vc("data",i)("recordsTotal",f.qc(23,11,a.totalCount$))("list",a.list)}}function He(e,t){if(1&e&&(f.ac(0,"h3"),f.Sc(1),f.pc(2,"abpLocalization"),f.Zb()),2&e){var n=f.oc();f.Gb(1),f.Tc(f.qc(2,1,null!=n.selected&&n.selected.id?"AbpIdentity::Edit":"AbpIdentity::NewUser"))}}function Xe(e,t){if(1&e&&f.Vb(0,"abp-extensible-form",34),2&e){var n=f.oc(3);f.vc("selectedRecord",n.selected)}}function Je(e,t){if(1&e&&(f.ac(0,"div",36),f.Vb(1,"input",37),f.ac(2,"label",38),f.Sc(3),f.Zb(),f.Zb()),2&e){var n=t.$implicit,i=t.index,a=f.oc(4);f.Gb(1),f.vc("formControl",n.controls[a.roles[i].name]),f.Hb("id","roles-"+i),f.Gb(1),f.Hb("for","roles-"+i),f.Gb(1),f.Tc(a.roles[i].name)}}function et(e,t){if(1&e&&f.Qc(0,Je,4,4,"div",35),2&e){var n=f.oc(3);f.vc("ngForOf",n.roleGroups)("ngForTrackBy",n.trackByFn)}}function tt(e,t){if(1&e){var n=f.bc();f.ac(0,"abp-tree",41),f.kc("checkedKeysChange",function(e){return f.Ic(n),f.oc(4).organization.checkedKeys=e})("expandedKeysChange",function(e){return f.Ic(n),f.oc(4).organization.expandedKeys=e}),f.Zb()}if(2&e){var i=f.oc(4);f.vc("checkStrictly",!0)("checkable",!0)("nodes",i.organization.nodes)("isNodeSelected",i.organization.selectFn)("checkedKeys",i.organization.checkedKeys)("expandedKeys",i.organization.expandedKeys)}}function nt(e,t){1&e&&(f.ac(0,"p",42),f.Sc(1),f.pc(2,"abpLocalization"),f.Zb()),2&e&&(f.Gb(1),f.Uc(" ",f.qc(2,1,"AbpIdentity::NoOrganizationUnits")," "))}function it(e,t){if(1&e&&(f.Qc(0,tt,1,6,"abp-tree",39),f.Qc(1,nt,3,3,"ng-template",null,40,f.Rc)),2&e){var n=f.Fc(2),i=f.oc(3);f.vc("ngIf",null==i.organization.nodes?null:i.organization.nodes.length)("ngIfElse",n)}}function at(e,t){if(1&e){var n=f.bc();f.ac(0,"form",25),f.kc("ngSubmit",function(){return f.Ic(n),f.oc(2).save()}),f.ac(1,"ul",26,27),f.ac(3,"li",28),f.ac(4,"a",29),f.Sc(5),f.pc(6,"abpLocalization"),f.Zb(),f.Qc(7,Xe,1,1,"ng-template",30),f.Zb(),f.ac(8,"li",31),f.ac(9,"a",29),f.Sc(10),f.pc(11,"abpLocalization"),f.Zb(),f.Qc(12,et,1,2,"ng-template",30),f.Zb(),f.ac(13,"li",32),f.ac(14,"a",29),f.Sc(15),f.pc(16,"abpLocalization"),f.Zb(),f.Qc(17,it,3,2,"ng-template",30),f.Zb(),f.Zb(),f.Vb(18,"div",33),f.Zb()}if(2&e){var i=f.Fc(2),a=f.oc(2);f.vc("formGroup",a.form),f.Gb(5),f.Tc(f.qc(6,5,"AbpIdentity::UserInformations")),f.Gb(5),f.Tc(f.qc(11,7,"AbpIdentity::Roles")),f.Gb(5),f.Tc(f.qc(16,9,"AbpIdentity::OrganizationUnits")),f.Gb(3),f.vc("ngbNavOutlet",i)}}function rt(e,t){if(1&e&&f.Qc(0,at,19,11,"form",24),2&e){var n=f.oc();f.vc("ngIf",n.form)}}function ot(e,t){if(1&e){var n=f.bc();f.ac(0,"button",43,44),f.Sc(2),f.pc(3,"abpLocalization"),f.Zb(),f.ac(4,"abp-button",45),f.kc("click",function(){return f.Ic(n),f.oc().save()}),f.Sc(5),f.pc(6,"abpLocalization"),f.Zb()}if(2&e){var i=f.oc();f.Gb(2),f.Uc(" ",f.qc(3,3,"AbpIdentity::Cancel")," "),f.Gb(2),f.vc("disabled",null==i.form?null:i.form.invalid),f.Gb(1),f.Tc(f.qc(6,5,"AbpIdentity::Save"))}}function ct(e,t){if(1&e){var n=f.bc();f.ac(0,"abp-permission-management",46),f.kc("visibleChange",function(e){return f.Ic(n),f.oc().visiblePermissions=e}),f.Zb()}if(2&e){var i=f.oc();f.vc("visible",i.visiblePermissions)("providerKey",i.providerKey)("hideBadges",!0)}}function st(e,t){1&e&&(f.ac(0,"h3"),f.Sc(1),f.pc(2,"abpLocalization"),f.Zb()),2&e&&(f.Gb(1),f.Tc(f.qc(2,1,"AbpIdentity::SetPassword")))}function lt(e,t){if(1&e){var n=f.bc();f.ac(0,"form",25),f.kc("ngSubmit",function(){return f.Ic(n),f.oc().setPassword()}),f.ac(1,"div",47),f.ac(2,"div",48),f.ac(3,"label",49),f.Sc(4),f.pc(5,"abpLocalization"),f.Zb(),f.ac(6,"div",18),f.ac(7,"div",50),f.Vb(8,"input",51),f.Zb(),f.ac(9,"div",52),f.ac(10,"button",53),f.kc("click",function(){return f.Ic(n),f.oc().generatePassword()}),f.Vb(11,"i",54),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Zb()}if(2&e){var i=f.oc();f.vc("formGroup",i.setPasswordForm),f.Gb(4),f.Tc(f.qc(5,2,"AbpIdentity::Password"))}}function ut(e,t){if(1&e){var n=f.bc();f.ac(0,"button",43,44),f.Sc(2),f.pc(3,"abpLocalization"),f.Zb(),f.ac(4,"abp-button",45),f.kc("click",function(){return f.Ic(n),f.oc().setPassword()}),f.Sc(5),f.pc(6,"abpLocalization"),f.Zb()}if(2&e){var i=f.oc();f.Gb(2),f.Uc(" ",f.qc(3,3,"AbpIdentity::Cancel")," "),f.Gb(2),f.vc("disabled",null==i.setPasswordForm?null:i.setPasswordForm.invalid),f.Gb(1),f.Tc(f.qc(6,5,"AbpIdentity::Save"))}}function dt(e,t){if(1&e&&(f.ac(0,"h3"),f.Sc(1),f.pc(2,"abpLocalization"),f.Zb()),2&e){var n=f.oc();f.Gb(1),f.Vc("",f.qc(2,2,"AbpIdentity::Lock")," - ",n.selected.userName,"")}}function pt(e,t){if(1&e&&(f.ac(0,"option",60),f.Sc(1),f.pc(2,"abpLocalization"),f.Zb()),2&e){var n=t.$implicit;f.vc("ngValue",n.value),f.Gb(1),f.Uc(" ",f.qc(2,2,"AbpIdentity::Enum:LockDurationType."+n.key)," ")}}function bt(e,t){if(1&e){var n=f.bc();f.ac(0,"form",25),f.kc("ngSubmit",function(){return f.Ic(n),f.oc().lock()}),f.ac(1,"div",47),f.ac(2,"div",55),f.ac(3,"label"),f.Sc(4),f.pc(5,"abpLocalization"),f.Zb(),f.Vb(6,"input",56),f.Zb(),f.ac(7,"div",48),f.ac(8,"label",57),f.Sc(9),f.pc(10,"abpLocalization"),f.Zb(),f.ac(11,"select",58),f.Qc(12,pt,3,4,"option",59),f.Zb(),f.Zb(),f.Zb(),f.Zb()}if(2&e){var i=f.oc();f.vc("formGroup",i.lockForm),f.Gb(2),f.vc("formGroup",i.lockForm),f.Gb(2),f.Tc(f.qc(5,5,"AbpIdentity::DisplayName:LockoutDuration")),f.Gb(5),f.Tc(f.qc(10,7,"AbpIdentity::DisplayName:LockDurationType")),f.Gb(3),f.vc("ngForOf",i.lockDurationTypeOptions)}}function ft(e,t){if(1&e){var n=f.bc();f.ac(0,"button",43,44),f.Sc(2),f.pc(3,"abpLocalization"),f.Zb(),f.ac(4,"abp-button",45),f.kc("click",function(){return f.Ic(n),f.oc().lock()}),f.Sc(5),f.pc(6,"abpLocalization"),f.Zb()}if(2&e){var i=f.oc();f.Gb(2),f.Uc(" ",f.qc(3,3,"AbpIdentity::Cancel")," "),f.Gb(2),f.vc("disabled",(null==i.lockForm?null:i.lockForm.invalid)||i.modalBusy),f.Gb(1),f.Tc(f.qc(6,5,"AbpIdentity::Save"))}}function mt(e,t){if(1&e&&(f.ac(0,"h3"),f.Sc(1),f.pc(2,"abpLocalization"),f.Zb()),2&e){var n=f.oc();f.Gb(1),f.Vc("",f.qc(2,2,"AbpIdentity::TwoFactor")," - ",n.selected.userName,"")}}function ht(e,t){if(1&e){var n=f.bc();f.ac(0,"div",47),f.ac(1,"div",36),f.ac(2,"input",61),f.kc("ngModelChange",function(e){return f.Ic(n),f.oc().twoFactor.checkboxValue=e}),f.Zb(),f.ac(3,"label",62),f.Sc(4),f.pc(5,"abpLocalization"),f.Zb(),f.Zb(),f.Zb()}if(2&e){var i=f.oc();f.Gb(2),f.vc("ngModel",i.twoFactor.checkboxValue),f.Gb(2),f.Tc(f.qc(5,2,"AbpIdentity::DisplayName:TwoFactorEnabled"))}}function yt(e,t){if(1&e){var n=f.bc();f.ac(0,"button",43,44),f.Sc(2),f.pc(3,"abpLocalization"),f.Zb(),f.ac(4,"abp-button",45),f.kc("click",function(){return f.Ic(n),f.oc().setTwoFactor()}),f.Sc(5),f.pc(6,"abpLocalization"),f.Zb()}if(2&e){var i=f.oc();f.Gb(2),f.Uc(" ",f.qc(3,3,"AbpIdentity::Cancel")," "),f.Gb(2),f.vc("disabled",i.modalBusy),f.Gb(1),f.Tc(f.qc(6,5,"AbpIdentity::Save"))}}var vt=function(){return{value:"U"}};function gt(e,t){if(1&e&&(f.ac(0,"div",24),f.Sc(1),f.Zb()),2&e){var n=t.$implicit,i=t.selected,a=t.currentMonth,r=f.oc();f.Mb("bg-primary",i)("text-white",i)("text-muted",a!==n.month)("ng-range",n.after(r.filter.startTime)&&n.before(r.filter.endTime))("ng-range-end",n.equals(r.filter.endTime)),f.Gb(1),f.Uc(" ",n.day," ")}}function kt(e,t){if(1&e&&(f.ac(0,"div",24),f.Sc(1),f.Zb()),2&e){var n=t.$implicit,i=t.selected,a=t.currentMonth,r=f.oc();f.Mb("bg-primary",i)("text-white",i)("text-muted",a!==n.month)("ng-range",n.after(r.filter.startTime)&&n.before(r.filter.endTime))("ng-range-end",n.equals(r.filter.startTime)),f.Gb(1),f.Uc(" ",n.day," ")}}function It(e,t){1&e&&(f.ac(0,"h5",4),f.Sc(1),f.pc(2,"abpLocalization"),f.Zb()),2&e&&(f.Gb(1),f.Tc(f.qc(2,1,"AbpIdentity::Claims")))}function Ct(e,t){if(1&e&&(f.ac(0,"option",19),f.Sc(1),f.Zb()),2&e){var n=t.$implicit;f.vc("ngValue",n.name),f.Gb(1),f.Tc(n.name)}}function Tt(e,t){if(1&e){var n=f.bc();f.ac(0,"div",22),f.ac(1,"div",23),f.ac(2,"label",24),f.Sc(3),f.Zb(),f.Zb(),f.ac(4,"input",25),f.kc("ngModelChange",function(e){f.Ic(n);var i=t.index;return f.oc(3).subjectClaims[i].claimValue=e}),f.Zb(),f.ac(5,"div",26),f.ac(6,"button",27),f.kc("click",function(){f.Ic(n);var e=t.index;return f.oc(3).removeClaim(e)}),f.Vb(7,"i",28),f.Zb(),f.Zb(),f.Zb()}if(2&e){var i=t.$implicit,a=t.index,r=f.oc(3);f.Gb(3),f.Tc(i.claimType),f.Gb(1),f.vc("ngModel",r.subjectClaims[a].claimValue)}}function St(e,t){if(1&e&&(f.ac(0,"div",20),f.Qc(1,Tt,8,2,"div",21),f.Zb()),2&e){var n=f.oc(2);f.Gb(1),f.vc("ngForOf",n.subjectClaims)}}var Ot=function(){return{standalone:!0}};function Nt(e,t){if(1&e){var n=f.bc();f.ac(0,"form",5),f.kc("ngSubmit",function(){return f.Ic(n),f.oc().addClaim()}),f.ac(1,"div",6),f.ac(2,"div",7),f.ac(3,"div",8),f.ac(4,"label",9),f.Sc(5),f.pc(6,"abpLocalization"),f.Zb(),f.ac(7,"select",10),f.kc("ngModelChange",function(e){return f.Ic(n),f.oc().newClaimType=e}),f.Qc(8,Ct,2,2,"option",11),f.Zb(),f.Zb(),f.Zb(),f.ac(9,"div",7),f.ac(10,"div",8),f.ac(11,"label",12),f.Sc(12,"Value"),f.Zb(),f.ac(13,"input",13),f.kc("ngModelChange",function(e){return f.Ic(n),f.oc().newClaimValue=e}),f.Zb(),f.Zb(),f.Zb(),f.ac(14,"div",14),f.ac(15,"button",15),f.kc("click",function(){return f.Ic(n),f.oc().addClaim()}),f.Vb(16,"i",16),f.Sc(17),f.pc(18,"abpLocalization"),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Vb(19,"hr",17),f.Qc(20,St,2,1,"div",18)}if(2&e){var i=f.oc();f.Gb(5),f.Tc(f.qc(6,8,"AbpIdentity::Type")),f.Gb(2),f.vc("ngModel",i.newClaimType)("ngModelOptions",f.yc(12,Ot)),f.Gb(1),f.vc("ngForOf",i.claimTypes),f.Gb(5),f.vc("ngModel",i.newClaimValue)("ngModelOptions",f.yc(13,Ot)),f.Gb(4),f.Uc(" ",f.qc(18,10,"AbpIdentity::AddClaim")," "),f.Gb(3),f.vc("ngIf",i.subjectClaims&&i.subjectClaims.length)}}function wt(e,t){if(1&e){var n=f.bc();f.ac(0,"button",29,30),f.Sc(2),f.pc(3,"abpLocalization"),f.Zb(),f.ac(4,"abp-button",31),f.kc("click",function(){return f.Ic(n),f.oc().save()}),f.Sc(5),f.pc(6,"abpLocalization"),f.Zb()}2&e&&(f.Gb(2),f.Tc(f.qc(3,2,"AbpIdentity::Cancel")),f.Gb(3),f.Tc(f.qc(6,4,"AbpIdentity::Save")))}function Ut(e,t){if(1&e){var n=f.bc();f.ac(0,"input",9),f.kc("ngModelChange",function(e){f.Ic(n);var i=t.$implicit;return f.oc().checkedUnits[i.id]=e}),f.Zb()}if(2&e){var i=t.$implicit,a=f.oc();f.vc("ngModel",a.checkedUnits[i.id])("disabled",a.isCheckboxDisabled(i.id))}}function xt(e,t){if(1&e){var n=f.bc();f.ac(0,"input",3),f.kc("ngModelChange",function(e){f.Ic(n);var i=t.$implicit;return f.oc().checkedUnits[i.id]=e}),f.Zb()}if(2&e){var i=t.$implicit,a=f.oc();f.vc("ngModel",a.checkedUnits[i.id])("disabled",a.isCheckboxDisabled(i.id))}}var At,zt,jt,Rt,Zt,Gt,Mt,qt,Lt,Ft,Et,Pt,Vt,Dt,Qt,Bt,Kt,_t,Yt,Wt,$t,Ht,Xt,Jt,en=function(){var e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(this,e),this.payload=t};return e.type="[Identity] Get Roles",e}(),tn=function(){var e=function e(t){p(this,e),this.payload=t};return e.type="[Identity] Get Role By Id",e}(),nn=function(){var e=function e(t){p(this,e),this.payload=t};return e.type="[Identity] Delete Role",e}(),an=function(){var e=function e(t){p(this,e),this.payload=t};return e.type="[Identity] Create Role",e}(),rn=function(){var e=function e(t){p(this,e),this.payload=t};return e.type="[Identity] Update Role",e}(),on=function(){var e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(this,e),this.payload=t};return e.type="[Identity] Get ClaimTypes",e}(),cn=function(){var e=function e(t){p(this,e),this.payload=t};return e.type="[Identity] Get ClaimType By Id",e}(),sn=function(){var e=function e(t){p(this,e),this.payload=t};return e.type="[Identity] Delete ClaimType",e}(),ln=function(){var e=function e(t){p(this,e),this.payload=t};return e.type="[Identity] Create ClaimType",e}(),un=function(){var e=function e(t){p(this,e),this.payload=t};return e.type="[Identity] Update ClaimType",e}(),dn=function(){var e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(this,e),this.payload=t};return e.type="[Identity] Get Users",e}(),pn=function(){var e=function e(t){p(this,e),this.payload=t};return e.type="[Identity] Get User By Id",e}(),bn=function(){var e=function e(t){p(this,e),this.payload=t};return e.type="[Identity] Delete User",e}(),fn=function(){var e=function e(t){p(this,e),this.payload=t};return e.type="[Identity] Create User",e}(),mn=function(){var e=function e(t){p(this,e),this.payload=t};return e.type="[Identity] Update User",e}(),hn=function(){var e=function e(t){p(this,e),this.payload=t};return e.type="[Identity] Get User Roles",e}(),yn=function(){var e=function e(t){p(this,e),this.id=t};return e.type="[Identity] Unlock User",e}(),vn=function(){var e=function e(){p(this,e)};return e.type="[Identity] Get Organization Units",e}(),gn=((Zt=function e(t){var n=this;p(this,e),this.restService=t,this.apiName="AbpIdentity",this.create=function(e){return n.restService.request({method:"POST",url:"/api/identity/claim-types",body:e},{apiName:n.apiName})},this.delete=function(e){return n.restService.request({method:"DELETE",url:"/api/identity/claim-types/"+e},{apiName:n.apiName})},this.get=function(e){return n.restService.request({method:"GET",url:"/api/identity/claim-types/"+e},{apiName:n.apiName})},this.getList=function(e){return n.restService.request({method:"GET",url:"/api/identity/claim-types",params:{filter:e.filter,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:n.apiName})},this.update=function(e,t){return n.restService.request({method:"PUT",url:"/api/identity/claim-types/"+e,body:t},{apiName:n.apiName})}}).\u0275fac=function(e){return new(e||Zt)(f.hc(l.U))},Zt.\u0275prov=Object(f.Qb)({factory:function(){return new Zt(Object(f.hc)(l.U))},token:Zt,providedIn:"root"}),Zt),kn=((Rt=function e(t){var n=this;p(this,e),this.restService=t,this.apiName="AbpIdentity",this.create=function(e){return n.restService.request({method:"POST",url:"/api/identity/roles",body:e},{apiName:n.apiName})},this.delete=function(e){return n.restService.request({method:"DELETE",url:"/api/identity/roles/"+e},{apiName:n.apiName})},this.get=function(e){return n.restService.request({method:"GET",url:"/api/identity/roles/"+e},{apiName:n.apiName})},this.getAllClaimTypes=function(){return n.restService.request({method:"GET",url:"/api/identity/roles/all-claim-types"},{apiName:n.apiName})},this.getAllList=function(){return n.restService.request({method:"GET",url:"/api/identity/roles/all"},{apiName:n.apiName})},this.getClaims=function(e){return n.restService.request({method:"GET",url:"/api/identity/roles/".concat(e,"/claims")},{apiName:n.apiName})},this.getList=function(e){return n.restService.request({method:"GET",url:"/api/identity/roles",params:{filter:e.filter,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:n.apiName})},this.update=function(e,t){return n.restService.request({method:"PUT",url:"/api/identity/roles/"+e,body:t},{apiName:n.apiName})},this.updateClaims=function(e,t){return n.restService.request({method:"PUT",url:"/api/identity/roles/".concat(e,"/claims"),body:t},{apiName:n.apiName})}}).\u0275fac=function(e){return new(e||Rt)(f.hc(l.U))},Rt.\u0275prov=Object(f.Qb)({factory:function(){return new Rt(Object(f.hc)(l.U))},token:Rt,providedIn:"root"}),Rt),In=((jt=function e(t){var n=this;p(this,e),this.restService=t,this.apiName="AbpIdentity",this.create=function(e){return n.restService.request({method:"POST",url:"/api/identity/users",body:e},{apiName:n.apiName})},this.delete=function(e){return n.restService.request({method:"DELETE",url:"/api/identity/users/"+e},{apiName:n.apiName})},this.findByEmail=function(e){return n.restService.request({method:"GET",url:"/api/identity/users/by-email/"+e},{apiName:n.apiName})},this.findByUsername=function(e){return n.restService.request({method:"GET",url:"/api/identity/users/by-username/"+e},{apiName:n.apiName})},this.get=function(e){return n.restService.request({method:"GET",url:"/api/identity/users/"+e},{apiName:n.apiName})},this.getAllClaimTypes=function(){return n.restService.request({method:"GET",url:"/api/identity/users/all-claim-types"},{apiName:n.apiName})},this.getAssignableRoles=function(){return n.restService.request({method:"GET",url:"/api/identity/users/assignable-roles"},{apiName:n.apiName})},this.getAvailableOrganizationUnits=function(){return n.restService.request({method:"GET",url:"/api/identity/users/available-organization-units"},{apiName:n.apiName})},this.getClaims=function(e){return n.restService.request({method:"GET",url:"/api/identity/users/".concat(e,"/claims")},{apiName:n.apiName})},this.getList=function(e){return n.restService.request({method:"GET",url:"/api/identity/users",params:{filter:e.filter,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:n.apiName})},this.getOrganizationUnits=function(e){return n.restService.request({method:"GET",url:"/api/identity/users/".concat(e,"/organization-units")},{apiName:n.apiName})},this.getRoles=function(e){return n.restService.request({method:"GET",url:"/api/identity/users/".concat(e,"/roles")},{apiName:n.apiName})},this.getTwoFactorEnabled=function(e){return n.restService.request({method:"GET",url:"/api/identity/users/".concat(e,"/two-factor-enabled")},{apiName:n.apiName})},this.lock=function(e,t){return n.restService.request({method:"PUT",url:"/api/identity/users/".concat(e,"/lock/").concat(t)},{apiName:n.apiName})},this.setTwoFactorEnabled=function(e,t){return n.restService.request({method:"PUT",url:"/api/identity/users/".concat(e,"/two-factor/").concat(t)},{apiName:n.apiName})},this.unlock=function(e){return n.restService.request({method:"PUT",url:"/api/identity/users/".concat(e,"/unlock")},{apiName:n.apiName})},this.update=function(e,t){return n.restService.request({method:"PUT",url:"/api/identity/users/"+e,body:t},{apiName:n.apiName})},this.updateClaims=function(e,t){return n.restService.request({method:"PUT",url:"/api/identity/users/".concat(e,"/claims"),body:t},{apiName:n.apiName})},this.updatePassword=function(e,t){return n.restService.request({method:"PUT",url:"/api/identity/users/".concat(e,"/change-password"),body:t},{apiName:n.apiName})},this.updateRoles=function(e,t){return n.restService.request({method:"PUT",url:"/api/identity/users/".concat(e,"/roles"),body:t},{apiName:n.apiName})}}).\u0275fac=function(e){return new(e||jt)(f.hc(l.U))},jt.\u0275prov=Object(f.Qb)({factory:function(){return new jt(Object(f.hc)(l.U))},token:jt,providedIn:"root"}),jt),Cn=((zt=function e(t){var n=this;p(this,e),this.restService=t,this.apiName="AbpIdentity",this.addMembers=function(e,t){return n.restService.request({method:"PUT",url:"/api/identity/organization-units/".concat(e,"/members"),body:t},{apiName:n.apiName})},this.addRoles=function(e,t){return n.restService.request({method:"PUT",url:"/api/identity/organization-units/".concat(e,"/roles"),body:t},{apiName:n.apiName})},this.create=function(e){return n.restService.request({method:"POST",url:"/api/identity/organization-units",body:e},{apiName:n.apiName})},this.delete=function(e){return n.restService.request({method:"DELETE",url:"/api/identity/organization-units",params:{id:e}},{apiName:n.apiName})},this.get=function(e){return n.restService.request({method:"GET",url:"/api/identity/organization-units/"+e},{apiName:n.apiName})},this.getAvailableRoles=function(e){return n.restService.request({method:"GET",url:"/api/identity/organization-units/available-roles",params:{filter:e.filter,id:e.id,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:n.apiName})},this.getAvailableUsers=function(e){return n.restService.request({method:"GET",url:"/api/identity/organization-units/available-users",params:{filter:e.filter,id:e.id,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:n.apiName})},this.getList=function(e){return n.restService.request({method:"GET",url:"/api/identity/organization-units",params:{filter:e.filter,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:n.apiName})},this.getListAll=function(){return n.restService.request({method:"GET",url:"/api/identity/organization-units/all"},{apiName:n.apiName})},this.getMembers=function(e,t){return n.restService.request({method:"GET",url:"/api/identity/organization-units/".concat(e,"/members"),params:{filter:t.filter,sorting:t.sorting,skipCount:t.skipCount,maxResultCount:t.maxResultCount}},{apiName:n.apiName})},this.getRoles=function(e,t){return n.restService.request({method:"GET",url:"/api/identity/organization-units/".concat(e,"/roles"),params:{skipCount:t.skipCount,maxResultCount:t.maxResultCount,sorting:t.sorting}},{apiName:n.apiName})},this.move=function(e,t){return n.restService.request({method:"PUT",url:"/api/identity/organization-units/".concat(e,"/move"),body:t},{apiName:n.apiName})},this.removeMember=function(e,t){return n.restService.request({method:"DELETE",url:"/api/identity/organization-units/".concat(e,"/members/").concat(t)},{apiName:n.apiName})},this.removeRole=function(e,t){return n.restService.request({method:"DELETE",url:"/api/identity/organization-units/".concat(e,"/roles/").concat(t)},{apiName:n.apiName})},this.update=function(e,t){return n.restService.request({method:"PUT",url:"/api/identity/organization-units/"+e,body:t},{apiName:n.apiName})}}).\u0275fac=function(e){return new(e||zt)(f.hc(l.U))},zt.\u0275prov=Object(f.Qb)({factory:function(){return new zt(Object(f.hc)(l.U))},token:zt,providedIn:"root"}),zt),Tn=((At=function(){function e(t,n,i,a){p(this,e),this.roleService=t,this.userService=n,this.claimTypeService=i,this.organizationUnitService=a}return d(e,[{key:"getRoles",value:function(e,t){var n=e.patchState,i=t.payload;return this.roleService.getList(i).pipe(Object(h.a)(function(e){return n({roles:e})}))}},{key:"deleteRole",value:function(e,t){var n=t.payload;return this.roleService.delete(n)}},{key:"addRole",value:function(e,t){var n=t.payload;return this.roleService.create(n)}},{key:"updateRole",value:function(e,t){var n=t.payload,i=n.id,a=Object(c.e)(n,["id"]);return this.roleService.update(i,a)}},{key:"getUsers",value:function(e,t){var n=e.patchState,i=t.payload;return this.userService.getList(i).pipe(Object(h.a)(function(e){return n({users:e})}))}},{key:"deleteUser",value:function(e,t){var n=t.payload;return this.userService.delete(n)}},{key:"createUser",value:function(e,t){var n=t.payload;return this.userService.create(n)}},{key:"updateUser",value:function(e,t){var n=t.payload,i=n.id,a=Object(c.e)(n,["id"]);return this.userService.update(i,a)}},{key:"unlockUser",value:function(e,t){var n=t.id;return this.userService.unlock(n)}},{key:"getUserRoles",value:function(e,t){var n=e.patchState,i=t.payload;return this.userService.getRoles(i).pipe(Object(y.a)("items"),Object(h.a)(function(e){return n({selectedUserRoles:e})}))}},{key:"getClaimTypes",value:function(e,t){var n=e.patchState,i=t.payload;return this.claimTypeService.getList(i).pipe(Object(h.a)(function(e){return n({claims:e})}))}},{key:"getClaimType",value:function(e,t){var n=e.patchState,i=t.payload;return this.claimTypeService.get(i).pipe(Object(h.a)(function(e){return n({selectedClaim:e})}))}},{key:"deleteClaimType",value:function(e,t){var n=t.payload;return this.claimTypeService.delete(n)}},{key:"createClaimType",value:function(e,t){var n=t.payload;return this.claimTypeService.create(n)}},{key:"updateClaimType",value:function(e,t){var n=t.payload,i=n.id,a=Object(c.e)(n,["id"]);return this.claimTypeService.update(i,a)}},{key:"getOrganizationUnits",value:function(e){var t=e.patchState;return this.organizationUnitService.getListAll().pipe(Object(h.a)(function(e){return t({organizationUnits:e})}))}}],[{key:"getRoles",value:function(e){return e.roles.items||[]}},{key:"getRolesTotalCount",value:function(e){return e.roles.totalCount||0}},{key:"getUsers",value:function(e){return e.users.items||[]}},{key:"getUsersTotalCount",value:function(e){return e.users.totalCount||0}},{key:"getClaimTypes",value:function(e){return e.claims.items||[]}},{key:"getClaimTypesTotalCount",value:function(e){return e.claims.totalCount||0}}]),e}()).\u0275fac=function(e){return new(e||At)(f.hc(kn),f.hc(In),f.hc(gn),f.hc(Cn))},At.\u0275prov=f.Qb({token:At,factory:function(e){return At.\u0275fac(e)}}),Object(c.b)([Object(m.a)(en)],At.prototype,"getRoles",null),Object(c.b)([Object(m.a)(nn)],At.prototype,"deleteRole",null),Object(c.b)([Object(m.a)(an)],At.prototype,"addRole",null),Object(c.b)([Object(m.a)(rn)],At.prototype,"updateRole",null),Object(c.b)([Object(m.a)(dn)],At.prototype,"getUsers",null),Object(c.b)([Object(m.a)(bn)],At.prototype,"deleteUser",null),Object(c.b)([Object(m.a)(fn)],At.prototype,"createUser",null),Object(c.b)([Object(m.a)(mn)],At.prototype,"updateUser",null),Object(c.b)([Object(m.a)(yn)],At.prototype,"unlockUser",null),Object(c.b)([Object(m.a)(hn)],At.prototype,"getUserRoles",null),Object(c.b)([Object(m.a)(on)],At.prototype,"getClaimTypes",null),Object(c.b)([Object(m.a)(cn)],At.prototype,"getClaimType",null),Object(c.b)([Object(m.a)(sn)],At.prototype,"deleteClaimType",null),Object(c.b)([Object(m.a)(ln)],At.prototype,"createClaimType",null),Object(c.b)([Object(m.a)(un)],At.prototype,"updateClaimType",null),Object(c.b)([Object(m.a)(vn)],At.prototype,"getOrganizationUnits",null),Object(c.b)([Object(m.e)()],At,"getRoles",null),Object(c.b)([Object(m.e)()],At,"getRolesTotalCount",null),Object(c.b)([Object(m.e)()],At,"getUsers",null),Object(c.b)([Object(m.e)()],At,"getUsersTotalCount",null),Object(c.b)([Object(m.e)()],At,"getClaimTypes",null),Object(c.b)([Object(m.e)()],At,"getClaimTypesTotalCount",null),At=Object(c.b)([Object(m.f)({name:"IdentityState",defaults:{roles:{},users:{},claims:{},selectedClaim:{},selectedUserRoles:[],organizationUnits:{}}})],At)),Sn="Identity.ClaimsComponent",On=((Gt=function(){function e(t,n,i,a){p(this,e),this.list=t,this.confirmationService=n,this.store=i,this.injector=a,this.modalBusy=!1,this.trackByFn=function(e,t){return Object.keys(t)[0]||e}}return d(e,[{key:"ngOnInit",value:function(){this.hookToQuery()}},{key:"hookToQuery",value:function(){var e=this;this.list.hookToQuery(function(t){return e.store.dispatch(new on(t))}).subscribe()}},{key:"buildForm",value:function(){var e=new b.k(this.injector,this.selected);this.form=Object(b.p)(e)}},{key:"getTypeName",value:function(e){switch(e){case 0:return"String";case 1:return"Int";case 2:return"Boolean";case 3:return"DateTime";default:return e}}},{key:"openModal",value:function(){this.buildForm(),this.isModalVisible=!0}},{key:"onAdd",value:function(){this.selected={},this.openModal()}},{key:"onEdit",value:function(e){var t=this;this.store.dispatch(new cn(e)).pipe(Object(y.a)("IdentityState"),Object(v.a)(1)).subscribe(function(e){t.selected=e.selectedClaim,t.openModal()})}},{key:"save",value:function(){var e=this;this.form.valid&&!this.modalBusy&&(this.modalBusy=!0,this.store.dispatch(this.selected.id?new un(Object.assign(Object.assign(Object.assign({},this.selected),this.form.value),{id:this.selected.id})):new ln(Object.assign({},this.form.value))).pipe(Object(g.a)(function(){return e.modalBusy=!1})).subscribe(function(){e.list.get(),e.isModalVisible=!1}))}},{key:"delete",value:function(e,t){var n=this;this.confirmationService.warn("AbpIdentity::ClaimTypeDeletionConfirmationMessage","AbpIdentity::AreYouSure",{messageLocalizationParams:[t]}).subscribe(function(t){t===u.d.Status.confirm&&n.store.dispatch(new sn(e)).subscribe(function(){return n.list.get()})})}}]),e}()).\u0275fac=function(e){return new(e||Gt)(f.Ub(l.F),f.Ub(u.e),f.Ub(m.g),f.Ub(f.w))},Gt.\u0275cmp=f.Ob({type:Gt,selectors:[["abp-claims"]],viewQuery:function(e,t){var n;1&e&&f.Wc(oe,1),2&e&&f.Ec(n=f.lc())&&(t.modalContent=n.first)},features:[f.Fb([l.F,{provide:b.d,useValue:Sn}])],decls:9,vars:5,consts:[[4,"ngIf"],["size","md",3,"visible","busy","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],[1,"row","entry-row"],[1,"col-auto"],[1,"content-header-title"],[1,"col-lg-auto","pl-lg-0"],[1,"col"],[3,"record"],["id","identity-claim-types-wrapper"],[1,"card"],[1,"card-body"],[1,"row"],[1,"input-group"],["type","search",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"input-group-append"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-search"],[3,"data","recordsTotal","list"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"mt-2","fade-in-top"],[3,"selectedRecord"],["type","button",1,"btn","btn-secondary"],["abpClose",""],["iconClass","fa fa-check",3,"disabled","click"]],template:function(e,t){1&e&&(f.Qc(0,ce,24,13,"ng-container",0),f.pc(1,"async"),f.ac(2,"abp-modal",1),f.kc("visibleChange",function(e){return t.isModalVisible=e}),f.Qc(3,se,3,3,"ng-template",null,2,f.Rc),f.Qc(5,le,3,2,"ng-template",null,3,f.Rc),f.Qc(7,ue,7,7,"ng-template",null,4,f.Rc),f.Zb()),2&e&&(f.vc("ngIf",f.qc(1,3,t.data$)),f.Gb(2),f.vc("visible",t.isModalVisible)("busy",t.modalBusy))},directives:[w.q,u.h,u.a,b.m,ee.e,ee.q,ee.t,b.h,ee.B,ee.r,l.w,ee.k,ae.j,b.g,u.b],pipes:[w.b,l.H],encapsulation:2}),Object(c.b)([Object(m.d)(Tn.getClaimTypes)],Gt.prototype,"data$",void 0),Object(c.b)([Object(m.d)(Tn.getClaimTypesTotalCount)],Gt.prototype,"totalCount$",void 0),Gt),Nn=new f.v("ORGANIZATION_UNIT_CONFIG"),wn=((Mt=function(){function e(t){var n=this;p(this,e),this.injector=t,this.currentOrganizationUnits={items:[]},this.checkedUnits={},this.isCheckboxDisabled=function(e){return n.currentOrganizationUnits.items.findIndex(function(t){return t.id===e})>-1},this.list=t.get(l.F),this.list.maxResultCount=1e3,this.organizationUnitService=t.get(Cn),this.confirmation=t.get(u.e),this.config=t.get(Nn,{})}return d(e,[{key:"ngOnChanges",value:function(e){var t=e.selectedOrganizationUnit;(null==t?void 0:t.firstChange)?this.hookToQuery():(null==t?void 0:t.currentValue)&&this.list.get()}},{key:"hookToQuery",value:function(){var e=this;this.list.hookToQuery(function(t){return e.organizationUnitService[e.config.getCurrentUnitsMethodName](e.selectedOrganizationUnit.id,t)}).subscribe(function(t){e.currentOrganizationUnits=t,e.checkedUnits={},t.items.forEach(function(t){e.checkedUnits[t.id]=!0})})}},{key:"addUnits",value:function(){var e=this;this.isModalBusy=!0,this.organizationUnitService[this.config.addUnitsMethodName](this.selectedOrganizationUnit.id,t({},this.config.addUnitsBodyPropName,Object.keys(this.checkedUnits))).pipe(Object(g.a)(function(){return e.isModalBusy=!1})).subscribe(function(){e.isModalVisible=!1,e.list.get()})}},{key:"delete",value:function(e,t){var n=this;this.confirmation.warn(this.config.deletionLocalizationKey,"AbpIdentity::AreYouSure",{messageLocalizationParams:[t,this.selectedOrganizationUnit.displayName]}).subscribe(function(t){t===u.d.Status.confirm&&n.organizationUnitService[n.config.deleteMethodName](n.selectedOrganizationUnit.id,e).subscribe(function(){return n.list.get()})})}},{key:"openModal",value:function(){this.isModalVisible=!0}}]),e}()).\u0275fac=function(e){return new(e||Mt)(f.Ub(f.w))},Mt.\u0275cmp=f.Ob({type:Mt,selectors:[["ng-component"]],inputs:{selectedOrganizationUnit:"selectedOrganizationUnit"},features:[f.Eb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),Mt),Un={getCurrentUnitsMethodName:"getMembers",addUnitsMethodName:"addMembers",addUnitsBodyPropName:"userIds",deleteMethodName:"removeMember",deletionLocalizationKey:"AbpIdentity::RemoveUserFromOuWarningMessage"},xn=((qt=function(e){n(i,e);var t=a(i);function i(){return p(this,i),t.apply(this,arguments)}return i}(wn)).\u0275fac=function(e){return Ln(e||qt)},qt.\u0275cmp=f.Ob({type:qt,selectors:[["abp-organization-members"]],features:[f.Fb([l.F,{provide:b.d,useValue:"Identity.OrganizationMembersComponent"},{provide:Nn,useValue:Un}]),f.Db],decls:13,vars:8,consts:[[1,"text-right"],[1,"btn","btn-sm","btn-primary","mb-2",3,"click"],[1,"fas","fa-plus","mr-1"],[3,"data","recordsTotal","list"],[3,"visible","busy","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],[3,"checkedUnits","isCheckboxDisabled"],["type","button",1,"btn","btn-secondary"],["abpClose",""],["iconClass","fa fa-check",3,"click"]],template:function(e,t){1&e&&(f.ac(0,"div",0),f.ac(1,"button",1),f.kc("click",function(){return t.openModal()}),f.Vb(2,"i",2),f.Sc(3),f.pc(4,"abpLocalization"),f.Zb(),f.Zb(),f.Vb(5,"abp-extensible-table",3),f.ac(6,"abp-modal",4),f.kc("visibleChange",function(e){return t.isModalVisible=e}),f.Qc(7,de,3,3,"ng-template",null,5,f.Rc),f.Qc(9,pe,1,2,"ng-template",null,6,f.Rc),f.Qc(11,be,7,6,"ng-template",null,7,f.Rc),f.Zb()),2&e&&(f.Gb(3),f.Uc(" ",f.qc(4,6,"AbpIdentity::AddMember")," "),f.Gb(2),f.vc("data",t.currentOrganizationUnits.items)("recordsTotal",t.currentOrganizationUnits.totalCount)("list",t.list),f.Gb(1),f.vc("visible",t.isModalVisible)("busy",t.isModalBusy))},directives:function(){return[b.h,u.h,Oi,u.b]},pipes:function(){return[l.H]},encapsulation:2}),qt),An={getCurrentUnitsMethodName:"getRoles",addUnitsMethodName:"addRoles",addUnitsBodyPropName:"roleIds",deleteMethodName:"removeRole",deletionLocalizationKey:"AbpIdentity::RemoveRoleFromOuWarningMessage"},zn=((Et=function(e){n(i,e);var t=a(i);function i(){return p(this,i),t.apply(this,arguments)}return i}(wn)).\u0275fac=function(e){return Fn(e||Et)},Et.\u0275cmp=f.Ob({type:Et,selectors:[["abp-organization-roles"]],features:[f.Fb([l.F,{provide:b.d,useValue:"Identity.OrganizationRolesComponent"},{provide:Nn,useValue:An}]),f.Db],decls:13,vars:8,consts:[[1,"text-right"],[1,"btn","btn-sm","btn-primary","mb-2",3,"click"],[1,"fas","fa-plus","mr-1"],[3,"data","recordsTotal","list"],[3,"visible","busy","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],[3,"checkedUnits","isCheckboxDisabled"],["type","button",1,"btn","btn-secondary"],["abpClose",""],["iconClass","fa fa-check",3,"click"]],template:function(e,t){1&e&&(f.ac(0,"div",0),f.ac(1,"button",1),f.kc("click",function(){return t.openModal()}),f.Vb(2,"i",2),f.Sc(3),f.pc(4,"abpLocalization"),f.Zb(),f.Zb(),f.Vb(5,"abp-extensible-table",3),f.ac(6,"abp-modal",4),f.kc("visibleChange",function(e){return t.isModalVisible=e}),f.Qc(7,fe,3,3,"ng-template",null,5,f.Rc),f.Qc(9,me,1,2,"ng-template",null,6,f.Rc),f.Qc(11,he,7,6,"ng-template",null,7,f.Rc),f.Zb()),2&e&&(f.Gb(3),f.Uc(" ",f.qc(4,6,"AbpIdentity::AddRole")," "),f.Gb(2),f.vc("data",t.currentOrganizationUnits.items)("recordsTotal",t.currentOrganizationUnits.totalCount)("list",t.list),f.Gb(1),f.vc("visible",t.isModalVisible)("busy",t.isModalBusy))},directives:function(){return[b.h,u.h,Ni,u.b]},pipes:function(){return[l.H]},encapsulation:2}),Et),jn=((Ft=function(){function e(t,n,i,a,r){var o=this;p(this,e),this.injector=t,this.store=n,this.organizationUnitService=i,this.fb=a,this.confirmation=r,this.organizationUnits=[],this.nodes=[],this.expandedKeys=[],this.organizationMembersKey="Identity.OrganizationMembersComponent",this.organizationRolesKey="Identity.OrganizationRolesComponent",this.get=function(){o.loading=!0,o.store.dispatch(new vn).pipe(Object(y.a)("IdentityState","organizationUnits","items"),Object(g.a)(function(){return o.loading=!1})).subscribe(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o.organizationUnits=e,o.treeAdapter=new H(e),o.nodes=o.treeAdapter.getTree(),o.expandedKeys=s(o.expandedKeys)})}}return d(e,[{key:"ngOnInit",value:function(){this.get()}},{key:"buildForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new b.k(this.injector,e);this.nodeForm=Object(b.p)(t),this.nodeForm.addControl("parentId",new ee.g(void 0)),this.nodeForm.addControl("id",new ee.g(void 0))}},{key:"add",value:function(){this.buildForm(),this.isNodeModalVisible=!0}},{key:"edit",value:function(e){this.buildForm(e),this.nodeForm.patchValue({parentId:"",displayName:e.displayName,id:e.id}),this.isNodeModalVisible=!0}},{key:"addSubUnit",value:function(e){var t=e.id;this.buildForm(),this.nodeForm.patchValue({parentId:t,displayName:"",id:void 0}),this.isNodeModalVisible=!0,this.expandedKeys=this.expandedKeys.concat(t)}},{key:"save",value:function(){var e=this;if(!this.nodeForm.invalid){var t=this.nodeForm.value,n=t.id,i=Object(c.e)(t,["id"]),a=n?this.organizationUnitService.update(n,{displayName:i.displayName}):this.organizationUnitService.create(i);this.isModalBusy=!0,a.pipe(Object(g.a)(function(){return e.isModalBusy=!1})).subscribe(function(){e.get(),e.isNodeModalVisible=!1})}}},{key:"delete",value:function(e){var t=this,n=e.id,i=e.displayName;this.confirmation.warn("AbpIdentity::OrganizationUnitDeletionConfirmationMessage","AbpIdentity::AreYouSure",{messageLocalizationParams:[i]}).subscribe(function(e){e===u.d.Status.confirm&&t.organizationUnitService.delete(n).subscribe(function(){return t.get()})})}},{key:"getParentName",value:function(e){var t=this.organizationUnits.find(function(t){return t.id===e});return t?t.displayName:""}},{key:"onDrop",value:function(e){if(e.node){var t=e.node.key;e.node.origin.parentId||-1!==e.pos||(t=null),this.move(e.dragNode.key,t)}}},{key:"move",value:function(e,t){this.organizationUnitService.move(e,{newParentId:t}).subscribe(this.get)}}]),e}()).\u0275fac=function(e){return new(e||Ft)(f.Ub(f.w),f.Ub(m.g),f.Ub(Cn),f.Ub(ee.f),f.Ub(u.e))},Ft.\u0275cmp=f.Ob({type:Ft,selectors:[["abp-organization-units"]],features:[f.Fb([{provide:b.d,useValue:"Identity.OrganizationUnitsComponent"}])],decls:19,vars:8,consts:[[1,"row","entry-row"],[1,"col-auto"],[1,"content-header-title"],[1,"col-lg-auto","pl-lg-0"],[1,"col"],[3,"record"],[1,"row"],["class","col-12 col-lg-6 col-xl-5",4,"abpPermission"],["class","col-12 col-lg-6 col-xl-7",4,"abpPermission"],["size","md",3,"visible","busy","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],[1,"col-12","col-lg-6","col-xl-5"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"fas","fa-plus","mr-1"],[1,"card-body",3,"abpLoading"],[3,"nodes","expandedKeys","selectedNode","draggable","expandedKeysChange","selectedNodeChange","dropOver"],["abpTreeNodeTemplate",""],["menu",""],["class","text-muted",4,"ngIf"],[1,"fas","fa-folder","fs-15px","text-primary","mr-1"],["ngbDropdownItem","",1,"pointer",3,"click"],[1,"text-muted"],[1,"col-12","col-lg-6","col-xl-7"],["ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["ngbNavItem","",4,"abpPermission"],[3,"ngbNavOutlet"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],[4,"ngIf","ngIfElse"],["selectUnitMsg",""],[3,"selectedOrganizationUnit",4,"abpReplaceableTemplate"],[3,"selectedOrganizationUnit"],["class","mb-3",4,"ngIf"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[3,"selectedRecord"],[1,"mb-3"],["type","button",1,"btn","btn-secondary"],["abpClose",""],["iconClass","fa fa-check",3,"disabled","click"]],template:function(e,t){1&e&&(f.ac(0,"div",0),f.ac(1,"div",1),f.ac(2,"h1",2),f.Sc(3),f.pc(4,"abpLocalization"),f.Zb(),f.Zb(),f.ac(5,"div",3),f.Vb(6,"abp-breadcrumb"),f.Zb(),f.ac(7,"div",4),f.Vb(8,"abp-page-toolbar",5),f.Zb(),f.Zb(),f.ac(9,"div",6),f.Qc(10,ke,16,12,"div",7),f.Qc(11,Ze,7,3,"div",8),f.Zb(),f.ac(12,"abp-modal",9),f.kc("visibleChange",function(e){return t.isNodeModalVisible=e}),f.Qc(13,Ge,3,3,"ng-template",null,10,f.Rc),f.Qc(15,qe,3,3,"ng-template",null,11,f.Rc),f.Qc(17,Le,7,7,"ng-template",null,12,f.Rc),f.Zb()),2&e&&(f.Gb(3),f.Tc(f.qc(4,6,"AbpIdentity::OrganizationUnits")),f.Gb(5),f.vc("record",t.organizationUnits),f.Gb(2),f.vc("abpPermission","AbpIdentity.OrganizationUnits.ManageOU"),f.Gb(1),f.vc("abpPermission","AbpIdentity.OrganizationUnits.ManageMembers || AbpIdentity.OrganizationUnits.ManageRoles"),f.Gb(1),f.vc("visible",t.isNodeModalVisible)("busy",t.isModalBusy))},directives:[u.a,b.m,l.M,u.h,u.g,Y,K,w.q,T.f,T.k,T.p,T.m,T.n,T.l,l.S,xn,zn,ee.B,ee.r,l.w,ee.k,ae.j,b.g,u.b],pipes:[l.H],styles:[".fs-15px[_ngcontent-%COMP%] {\n        font-size: 15px;\n      }"]}),Ft),Rn=((Lt=function(){function e(t,n,i,a,r){var o=this;p(this,e),this.list=t,this.confirmationService=n,this.roleService=i,this.store=a,this.injector=r,this.visiblePermissions=!1,this.modalBusy=!1,this.visibleClaims=!1,this.claimSubject={},this.onVisiblePermissionChange=function(e){o.visiblePermissions=e}}return d(e,[{key:"createForm",value:function(){var e=new b.k(this.injector,this.selected);this.form=Object(b.p)(e)}},{key:"hookToQuery",value:function(){var e=this;this.list.hookToQuery(function(t){return e.store.dispatch(new en(t))}).subscribe()}},{key:"ngOnInit",value:function(){this.hookToQuery()}},{key:"openModal",value:function(){this.createForm(),this.isModalVisible=!0}},{key:"onAdd",value:function(){this.selected={},this.openModal()}},{key:"onEdit",value:function(e){var t=this;this.roleService.get(e).pipe(Object(v.a)(1)).subscribe(function(e){t.selected=e,t.openModal()})}},{key:"save",value:function(){var e=this;this.form.valid&&(this.modalBusy=!0,this.store.dispatch(this.selected.id?new rn(Object.assign(Object.assign(Object.assign({},this.selected),this.form.value),{id:this.selected.id,concurrencyStamp:this.selected.concurrencyStamp})):new an(this.form.value)).pipe(Object(g.a)(function(){return e.modalBusy=!1})).subscribe(function(){e.list.get(),e.isModalVisible=!1}))}},{key:"delete",value:function(e,t){var n=this;this.confirmationService.warn("AbpIdentity::RoleDeletionConfirmationMessage","AbpIdentity::AreYouSure",{messageLocalizationParams:[t]}).subscribe(function(t){t===u.d.Status.confirm&&n.store.dispatch(new nn(e)).subscribe(function(){return n.list.get()})})}},{key:"onManageClaims",value:function(e){this.claimSubject={id:e,type:"roles"},this.visibleClaims=!0}},{key:"openPermissionsModal",value:function(e){var t=this;this.providerKey=e,setTimeout(function(){t.visiblePermissions=!0},0)}}]),e}()).\u0275fac=function(e){return new(e||Lt)(f.Ub(l.F),f.Ub(u.e),f.Ub(kn),f.Ub(m.g),f.Ub(f.w))},Lt.\u0275cmp=f.Ob({type:Lt,selectors:[["abp-roles"]],viewQuery:function(e,t){var n;1&e&&f.Wc(oe,1),2&e&&f.Ec(n=f.lc())&&(t.modalContent=n.first)},features:[f.Fb([l.F,{provide:b.d,useValue:"Identity.RolesComponent"}])],decls:11,vars:24,consts:[[4,"ngIf"],["size","md",3,"visible","busy","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],["providerName","R",3,"visible","providerKey","hideBadges","visibleChange",4,"abpReplaceableTemplate"],[3,"visible","subject","visibleChange"],[1,"row","entry-row"],[1,"col-auto"],[1,"content-header-title"],[1,"col-lg-auto","pl-lg-0"],[1,"col"],[3,"record"],["id","identity-roles-wrapper"],[1,"card"],[1,"card-body"],[1,"row"],[1,"input-group"],["type","search",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"input-group-append"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-search"],[3,"data","recordsTotal","list"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[3,"selectedRecord"],["type","button",1,"btn","btn-secondary"],["abpClose",""],["iconClass","fa fa-check",3,"disabled","click"],["providerName","R",3,"visible","providerKey","hideBadges","visibleChange"]],template:function(e,t){1&e&&(f.Qc(0,Fe,24,13,"ng-container",0),f.pc(1,"async"),f.ac(2,"abp-modal",1),f.kc("visibleChange",function(e){return t.isModalVisible=e}),f.Qc(3,Ee,3,3,"ng-template",null,2,f.Rc),f.Qc(5,Pe,2,2,"ng-template",null,3,f.Rc),f.Qc(7,Ve,7,7,"ng-template",null,4,f.Rc),f.Zb(),f.Qc(9,De,1,3,"abp-permission-management",5),f.ac(10,"abp-claim-modal",6),f.kc("visibleChange",function(e){return t.visibleClaims=e}),f.Zb()),2&e&&(f.vc("ngIf",f.qc(1,6,t.data$)),f.Gb(2),f.vc("visible",t.isModalVisible)("busy",t.modalBusy),f.Gb(7),f.vc("abpReplaceableTemplate",f.Ac(21,We,f.Cc(14,_e,f.yc(8,Qe),f.zc(9,Ce,t.providerKey),f.yc(11,Be),f.zc(12,Ke,t.visiblePermissions)),f.zc(19,Ye,t.onVisiblePermissionChange))),f.Gb(1),f.vc("visible",t.visibleClaims)("subject",t.claimSubject))},directives:function(){return[w.q,u.h,l.S,Si,u.a,b.m,ee.e,ee.q,ee.t,b.h,ee.B,ee.r,l.w,ee.k,ae.j,b.g,u.b,ie.a]},pipes:function(){return[w.b,l.H]},encapsulation:2}),Object(c.b)([Object(m.d)(Tn.getRoles)],Lt.prototype,"data$",void 0),Object(c.b)([Object(m.d)(Tn.getRolesTotalCount)],Lt.prototype,"totalCount$",void 0),Lt),Zn=function(e){return e[e.Optional=0]="Optional",e[e.Disabled=1]="Disabled",e[e.Forced=2]="Forced",e}({}),Gn=Object(l.qb)(Zn),Mn=function(e){return e[e.Second=1]="Second",e[e.Minute=60]="Minute",e[e.Hour=3600]="Hour",e[e.Day=86400]="Day",e[e.Month=2592e3]="Month",e[e.Year=31536e3]="Year",e}({}),qn=((Pt=function(){function e(t,n,i,a,r,o,c,d){var b=this;p(this,e),this.list=t,this.confirmationService=n,this.userService=i,this.fb=a,this.store=r,this.toasterService=o,this.injector=c,this.configState=d,this.setPasswordForm=this.fb.group({newPassword:["",[ee.A.required].concat(s(Object(u.r)(this.injector)))]}),this.visiblePermissions=!1,this.modalBusy=!1,this.visibleClaims=!1,this.claimSubject={},this.organization={response:{},nodes:[],checkedKeys:[],expandedKeys:[],selectFn:function(){return!1}},this.twoFactor={isModalVisible:!1,checkboxValue:!1,isOptional:!1},this.lockForm=this.fb.group({lockoutDuration:[0,[ee.A.required]],lockDurationType:[Mn.Second]}),this.lockDurationTypeOptions=Object(l.qb)(Mn),this.trackByFn=function(e,t){return Object.keys(t)[0]||e},this.onVisiblePermissionChange=function(e){b.visiblePermissions=e}}return d(e,[{key:"roleGroups",get:function(){var e=this;return Object(te.a)(function(){return e.form.get("roleNames").controls},[])}},{key:"ngOnInit",value:function(){var e=Gn[0].key;this.twoFactor.isOptional=this.configState.getFeature("Identity.TwoFactor")===e&&this.configState.getSetting("Abp.Identity.TwoFactor.Behaviour")===e,this.hookToQuery()}},{key:"hookToQuery",value:function(){var e=this;this.list.hookToQuery(function(t){return e.store.dispatch(new dn(t))}).subscribe()}},{key:"buildForm",value:function(){var e=this,n=new b.k(this.injector,this.selected);this.form=Object(b.p)(n),this.userService.getAssignableRoles().subscribe(function(n){var i=n.items;e.roles=i,e.form.addControl("roleNames",e.fb.array(e.roles.map(function(n){return e.fb.group(t({},n.name,[e.selected.id?!!Object(te.a)(function(){return e.selectedUserRoles.find(function(e){return e.id===n.id})}):n.isDefault]))})))}),this.userService.getAvailableOrganizationUnits().subscribe(function(t){e.organization.response=t,e.organization.nodes=new H(t.items).getTree(),e.organization.expandedKeys=t.items.map(function(e){return e.id}),e.organization.checkedKeys=e.selectedOrganizationUnits.map(function(e){return e.id})})}},{key:"openModal",value:function(){this.buildForm(),this.isModalVisible=!0}},{key:"onAdd",value:function(){this.selected={},this.selectedUserRoles=[],this.selectedOrganizationUnits=[],this.openModal()}},{key:"onEdit",value:function(e){var t=this;this.userService.get(e).pipe(Object(h.a)(function(e){return t.selected=e}),Object(k.a)(function(){return t.store.dispatch(new hn(e))}),Object(y.a)("IdentityState"),Object(h.a)(function(e){return t.selectedUserRoles=e.selectedUserRoles||[]}),Object(k.a)(function(){return t.userService.getOrganizationUnits(e)}),Object(h.a)(function(e){return t.selectedOrganizationUnits=e}),Object(v.a)(1)).subscribe(function(){return t.openModal()})}},{key:"save",value:function(){var e=this;if(this.form.valid){this.modalBusy=!0;var t=this.form.value.roleNames,n=Object(te.a)(function(){return t.filter(function(e){return!!e[Object.keys(e)[0]]}).map(function(e){return Object.keys(e)[0]})},[]);this.store.dispatch(this.selected.id?new mn(Object.assign(Object.assign(Object.assign({},this.selected),this.form.value),{id:this.selected.id,roleNames:n,organizationUnitIds:this.organization.checkedKeys})):new fn(Object.assign(Object.assign({},this.form.value),{roleNames:n,organizationUnitIds:this.organization.checkedKeys}))).pipe(Object(g.a)(function(){return e.modalBusy=!1})).subscribe(function(){e.list.get(),e.isModalVisible=!1})}}},{key:"delete",value:function(e,t){var n=this;this.confirmationService.warn("AbpIdentity::UserDeletionConfirmationMessage","AbpIdentity::AreYouSure",{messageLocalizationParams:[t]}).subscribe(function(t){t===u.d.Status.confirm&&n.store.dispatch(new bn(e)).subscribe(function(){return n.list.get()})})}},{key:"onManageClaims",value:function(e){this.claimSubject={id:e,type:"users"},this.visibleClaims=!0}},{key:"unlock",value:function(e){var t=this;this.store.dispatch(new yn(e)).subscribe(function(){t.toasterService.success("AbpIdentity::UserUnlocked"),t.list.get()})}},{key:"openPermissionsModal",value:function(e){var t=this;this.providerKey=e,setTimeout(function(){t.visiblePermissions=!0},0)}},{key:"setPassword",value:function(){var e=this;this.setPasswordForm.invalid||(this.modalBusy=!0,this.userService.updatePassword(this.selected.id,this.setPasswordForm.value).pipe(Object(g.a)(function(){return e.modalBusy=!1})).subscribe(function(){e.isSetPasswordModalVisible=!1,e.selected={},e.setPasswordForm.reset()}))}},{key:"generatePassword",value:function(){this.setPasswordForm.get("newPassword").setValue(Object(l.kb)())}},{key:"lock",value:function(){var e=this,t=this.lockForm.value,n=t.lockoutDuration,i=t.lockDurationType;this.modalBusy=!0,this.userService.lock(this.selected.id,n*i).pipe(Object(g.a)(function(){return e.modalBusy=!1})).subscribe(function(){e.isLockModalVisible=!1,e.lockForm.reset({lockoutDuration:0,lockDurationType:Mn.Second}),e.list.get()})}},{key:"setTwoFactor",value:function(){var e=this;this.modalBusy=!0,this.userService.setTwoFactorEnabled(this.selected.id,this.twoFactor.checkboxValue).pipe(Object(g.a)(function(){return e.modalBusy=!1})).subscribe(function(){return e.twoFactor.isModalVisible=!1})}}]),e}()).\u0275fac=function(e){return new(e||Pt)(f.Ub(l.F),f.Ub(u.e),f.Ub(In),f.Ub(ee.f),f.Ub(m.g),f.Ub(u.o),f.Ub(f.w),f.Ub(l.m))},Pt.\u0275cmp=f.Ob({type:Pt,selectors:[["abp-users"]],viewQuery:function(e,t){var n;1&e&&f.Wc(oe,1),2&e&&f.Ec(n=f.lc())&&(t.modalContent=n.first)},features:[f.Fb([l.F,{provide:b.d,useValue:"Identity.UsersComponent"}])],decls:32,vars:30,consts:[[4,"ngIf"],[3,"visible","busy","visibleChange","disappear"],["abpHeader",""],["abpBody",""],["abpFooter",""],["providerName","U",3,"visible","providerKey","hideBadges","visibleChange",4,"abpReplaceableTemplate"],[3,"visible","subject","visibleChange"],["size","md",3,"visible","busy","visibleChange"],[1,"row","entry-row"],[1,"col-auto"],[1,"content-header-title"],[1,"col-lg-auto","pl-lg-0"],[1,"col"],[3,"record"],["id","identity-users-wrapper"],[1,"card"],[1,"card-body"],[1,"row"],[1,"input-group"],["type","search",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"input-group-append"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-search"],[3,"data","recordsTotal","list"],["validateOnSubmit","",3,"formGroup","ngSubmit",4,"ngIf"],["validateOnSubmit","",3,"formGroup","ngSubmit"],["id","user-nav-tabs","ngbNav","",1,"nav-tabs"],["nav","ngbNav"],["id","user-informations","ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],["id","user-roles","ngbNavItem",""],["id","user-organization-units","ngbNavItem",""],[1,"mt-2","fade-in-top",3,"ngbNavOutlet"],[3,"selectedRecord"],["class","custom-checkbox custom-control mb-2",4,"ngFor","ngForOf","ngForTrackBy"],[1,"custom-checkbox","custom-control","mb-2"],["type","checkbox",1,"custom-control-input",3,"formControl"],[1,"custom-control-label"],[3,"checkStrictly","checkable","nodes","isNodeSelected","checkedKeys","expandedKeys","checkedKeysChange","expandedKeysChange",4,"ngIf","ngIfElse"],["noDataMessage",""],[3,"checkStrictly","checkable","nodes","isNodeSelected","checkedKeys","expandedKeys","checkedKeysChange","expandedKeysChange"],[1,"text-muted"],["type","button",1,"btn","btn-secondary"],["abpClose",""],["iconClass","fa fa-check",3,"disabled","click"],["providerName","U",3,"visible","providerKey","hideBadges","visibleChange"],[1,"mt-2","fade-in-top"],[1,"form-group"],["for","new-password"],[1,"col-10","p-0"],["type","text","id","new-password","formControlName","newPassword","autofocus","",1,"form-control"],[1,"input-group-append","col-2","p-0"],["id","generate-random-password-button","type","button",1,"btn","btn-secondary","mh-35",3,"click"],[1,"fa","fa-refresh"],[1,"form-group",3,"formGroup"],["type","number","formControlName","lockoutDuration",1,"form-control"],["for","httpMethod"],["formControlName","lockDurationType",1,"custom-select","form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],["type","checkbox","id","two-factor-enabled",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","two-factor-enabled",1,"custom-control-label"]],template:function(e,t){1&e&&(f.Qc(0,$e,24,13,"ng-container",0),f.pc(1,"async"),f.ac(2,"abp-modal",1),f.kc("visibleChange",function(e){return t.isModalVisible=e})("disappear",function(){return t.form=null}),f.Qc(3,He,3,3,"ng-template",null,2,f.Rc),f.Qc(5,rt,1,1,"ng-template",null,3,f.Rc),f.Qc(7,ot,7,7,"ng-template",null,4,f.Rc),f.Zb(),f.Qc(9,ct,1,3,"abp-permission-management",5),f.ac(10,"abp-claim-modal",6),f.kc("visibleChange",function(e){return t.visibleClaims=e}),f.Zb(),f.ac(11,"abp-modal",7),f.kc("visibleChange",function(e){return t.isSetPasswordModalVisible=e}),f.Qc(12,st,3,3,"ng-template",null,2,f.Rc),f.Qc(14,lt,12,4,"ng-template",null,3,f.Rc),f.Qc(16,ut,7,7,"ng-template",null,4,f.Rc),f.Zb(),f.ac(18,"abp-modal",7),f.kc("visibleChange",function(e){return t.isLockModalVisible=e}),f.Qc(19,dt,3,4,"ng-template",null,2,f.Rc),f.Qc(21,bt,13,9,"ng-template",null,3,f.Rc),f.Qc(23,ft,7,7,"ng-template",null,4,f.Rc),f.Zb(),f.ac(25,"abp-modal",7),f.kc("visibleChange",function(e){return t.twoFactor.isModalVisible=e}),f.Qc(26,mt,3,4,"ng-template",null,2,f.Rc),f.Qc(28,ht,6,4,"ng-template",null,3,f.Rc),f.Qc(30,yt,7,7,"ng-template",null,4,f.Rc),f.Zb()),2&e&&(f.vc("ngIf",f.qc(1,12,t.data$)),f.Gb(2),f.vc("visible",t.isModalVisible)("busy",t.modalBusy),f.Gb(7),f.vc("abpReplaceableTemplate",f.Ac(27,We,f.Cc(20,_e,f.yc(14,vt),f.zc(15,Ce,t.providerKey),f.yc(17,Be),f.zc(18,Ke,t.visiblePermissions)),f.zc(25,Ye,t.onVisiblePermissionChange))),f.Gb(1),f.vc("visible",t.visibleClaims)("subject",t.claimSubject),f.Gb(1),f.vc("visible",t.isSetPasswordModalVisible)("busy",t.modalBusy),f.Gb(7),f.vc("visible",t.isLockModalVisible)("busy",t.modalBusy),f.Gb(7),f.vc("visible",t.twoFactor.isModalVisible)("busy",t.modalBusy))},directives:function(){return[w.q,u.h,l.S,Si,u.a,b.m,ee.e,ee.q,ee.t,b.h,ee.B,ee.r,l.w,ee.k,ae.j,T.k,T.m,T.n,T.l,T.p,b.g,w.p,ee.c,ee.h,ae.h,Y,u.b,ie.a,ee.i,l.i,ee.v,ee.y,ee.u,ee.C]},pipes:function(){return[w.b,l.H]},styles:[".mh-35[_ngcontent-%COMP%] {\n        max-height: 35px;\n      }"]}),Object(c.b)([Object(m.d)(Tn.getUsers)],Pt.prototype,"data$",void 0),Object(c.b)([Object(m.d)(Tn.getUsersTotalCount)],Pt.prototype,"totalCount$",void 0),Pt),Ln=f.cc(xn),Fn=f.cc(zn),En=((Dt=function e(t){var n=this;p(this,e),this.restService=t,this.apiName="AbpIdentity",this.get=function(e){return n.restService.request({method:"GET",url:"/api/identity/security-logs/"+e},{apiName:n.apiName})},this.getList=function(e){return n.restService.request({method:"GET",url:"/api/identity/security-logs",params:{startTime:e.startTime,endTime:e.endTime,applicationName:e.applicationName,identity:e.identity,action:e.action,userName:e.userName,clientId:e.clientId,correlationId:e.correlationId,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:n.apiName})},this.getMy=function(e){return n.restService.request({method:"GET",url:"/api/identity/security-logs/my/"+e},{apiName:n.apiName})},this.getMyList=function(e){return n.restService.request({method:"GET",url:"/api/identity/security-logs/my",params:{startTime:e.startTime,endTime:e.endTime,applicationName:e.applicationName,identity:e.identity,action:e.action,userName:e.userName,clientId:e.clientId,correlationId:e.correlationId,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:n.apiName})}}).\u0275fac=function(e){return new(e||Dt)(f.hc(l.U))},Dt.\u0275prov=Object(f.Qb)({factory:function(){return new Dt(Object(f.hc)(l.U))},token:Dt,providedIn:"root"}),Dt),Pn=((Vt=function(){function e(t,n){p(this,e),this.list=t,this.service=n,this.data={items:[],totalCount:0},this.filter={}}return d(e,[{key:"ngOnInit",value:function(){this.hookToQuery()}},{key:"hookToQuery",value:function(){var e=this;this.list.hookToQuery(function(t){return e.service.getList(Object.assign(Object.assign({},t),e.filter))}).subscribe(function(t){return e.data=t})}}]),e}()).\u0275fac=function(e){return new(e||Vt)(f.Ub(l.F),f.Ub(En))},Vt.\u0275cmp=f.Ob({type:Vt,selectors:[["abp-security-logs"]],features:[f.Fb([l.F,{provide:b.d,useValue:"Identity.SecurityLogs"},{provide:T.a,useClass:b.a}])],decls:74,vars:41,consts:[["id","wrapper"],[1,"row","entry-row"],[1,"col-auto"],[1,"content-header-title"],[1,"col-lg-auto","pl-lg-0"],[1,"col"],[3,"record"],[1,"card"],[1,"card-body","pb-lg-3"],[1,"row",3,"keyup.enter"],[1,"col-md-6","col-lg-3"],[1,"form-group"],["name","start-date","readonly","","ngbDatepicker","",1,"form-control",3,"ngModel","dayTemplate","ngModelChange","click"],["startDate","ngbDatepicker"],["startDateTemplate",""],["name","end-date","readonly","","ngbDatepicker","",1,"form-control",3,"ngModel","dayTemplate","ngModelChange","click"],["endDate","ngbDatepicker"],["endDateTemplate",""],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"row"],[1,"mt-md-2","mb-md-2","btn","btn-primary","btn-block",3,"click"],[1,"fas","fa-search"],[1,"card-body","p-0"],[3,"data","recordsTotal","list"],[1,"btn-light","custom-day"]],template:function(e,t){if(1&e){var n=f.bc();f.ac(0,"div",0),f.ac(1,"div",1),f.ac(2,"div",2),f.ac(3,"h1",3),f.Sc(4),f.pc(5,"abpLocalization"),f.Zb(),f.Zb(),f.ac(6,"div",4),f.Vb(7,"abp-breadcrumb"),f.Zb(),f.ac(8,"div",5),f.Vb(9,"abp-page-toolbar",6),f.Zb(),f.Zb(),f.ac(10,"div",7),f.ac(11,"div",8),f.ac(12,"div",9),f.kc("keyup.enter",function(){return t.list.get()}),f.ac(13,"div",10),f.ac(14,"div",11),f.ac(15,"label"),f.Sc(16),f.pc(17,"abpLocalization"),f.Zb(),f.ac(18,"input",12,13),f.kc("ngModelChange",function(e){return t.filter.startTime=e})("click",function(){return f.Ic(n),f.Fc(19).toggle()}),f.Zb(),f.Qc(20,gt,2,11,"ng-template",null,14,f.Rc),f.Zb(),f.Zb(),f.ac(22,"div",10),f.ac(23,"div",11),f.ac(24,"label"),f.Sc(25),f.pc(26,"abpLocalization"),f.Zb(),f.ac(27,"input",15,16),f.kc("ngModelChange",function(e){return t.filter.endTime=e})("click",function(){return f.Ic(n),f.Fc(28).toggle()}),f.Zb(),f.Qc(29,kt,2,11,"ng-template",null,17,f.Rc),f.Zb(),f.Zb(),f.ac(31,"div",10),f.ac(32,"div",11),f.ac(33,"label"),f.Sc(34),f.pc(35,"abpLocalization"),f.Zb(),f.ac(36,"input",18),f.kc("ngModelChange",function(e){return t.filter.applicationName=e}),f.Zb(),f.Zb(),f.Zb(),f.ac(37,"div",10),f.ac(38,"div",11),f.ac(39,"label"),f.Sc(40),f.pc(41,"abpLocalization"),f.Zb(),f.ac(42,"input",18),f.kc("ngModelChange",function(e){return t.filter.identity=e}),f.Zb(),f.Zb(),f.Zb(),f.ac(43,"div",10),f.ac(44,"div",11),f.ac(45,"label"),f.Sc(46),f.pc(47,"abpLocalization"),f.Zb(),f.ac(48,"input",18),f.kc("ngModelChange",function(e){return t.filter.userName=e}),f.Zb(),f.Zb(),f.Zb(),f.ac(49,"div",10),f.ac(50,"div",11),f.ac(51,"label"),f.Sc(52),f.pc(53,"abpLocalization"),f.Zb(),f.ac(54,"input",18),f.kc("ngModelChange",function(e){return t.filter.action=e}),f.Zb(),f.Zb(),f.Zb(),f.ac(55,"div",10),f.ac(56,"div",11),f.ac(57,"label"),f.Sc(58),f.pc(59,"abpLocalization"),f.Zb(),f.ac(60,"input",18),f.kc("ngModelChange",function(e){return t.filter.clientId=e}),f.Zb(),f.Zb(),f.Zb(),f.ac(61,"div",10),f.ac(62,"div",11),f.ac(63,"label"),f.Sc(64),f.pc(65,"abpLocalization"),f.Zb(),f.ac(66,"input",18),f.kc("ngModelChange",function(e){return t.filter.correlationId=e}),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.ac(67,"div",19),f.ac(68,"div",10),f.ac(69,"button",20),f.kc("click",function(){return t.list.get()}),f.Vb(70,"i",21),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.ac(71,"div",7),f.ac(72,"div",22),f.Vb(73,"abp-extensible-table",23),f.Zb(),f.Zb(),f.Zb()}if(2&e){var i=f.Fc(21),a=f.Fc(30);f.Gb(4),f.Tc(f.qc(5,23,"AbpIdentity::SecurityLogs")),f.Gb(5),f.vc("record",t.data.items),f.Gb(7),f.Tc(f.qc(17,25,"AbpIdentity::SecurityLogs:StartTime")),f.Gb(2),f.vc("ngModel",t.filter.startTime)("dayTemplate",i),f.Gb(7),f.Tc(f.qc(26,27,"AbpIdentity::SecurityLogs:EndTime")),f.Gb(2),f.vc("ngModel",t.filter.endTime)("dayTemplate",a),f.Gb(7),f.Tc(f.qc(35,29,"AbpIdentity::SecurityLogs:Application")),f.Gb(2),f.vc("ngModel",t.filter.applicationName),f.Gb(4),f.Tc(f.qc(41,31,"AbpIdentity::SecurityLogs:Identity")),f.Gb(2),f.vc("ngModel",t.filter.identity),f.Gb(4),f.Tc(f.qc(47,33,"AbpIdentity::SecurityLogs:UserName")),f.Gb(2),f.vc("ngModel",t.filter.userName),f.Gb(4),f.Tc(f.qc(53,35,"AbpIdentity::SecurityLogs:Action")),f.Gb(2),f.vc("ngModel",t.filter.action),f.Gb(4),f.Tc(f.qc(59,37,"AbpIdentity::SecurityLogs:Client")),f.Gb(2),f.vc("ngModel",t.filter.clientId),f.Gb(4),f.Tc(f.qc(65,39,"AbpIdentity::SecurityLogs:CorrelationId")),f.Gb(2),f.vc("ngModel",t.filter.correlationId),f.Gb(7),f.vc("data",t.data.items)("recordsTotal",t.data.totalCount)("list",t.list)}},directives:[u.a,b.m,T.j,ee.e,ee.q,ee.t,b.h],pipes:[l.H],encapsulation:2}),Vt),Vn=b.e.createMany([{text:"AbpIdentity::Edit",action:function(e){e.getInjected(On).onEdit(e.record.id)},permission:"AbpIdentity.ClaimTypes.Update",visible:function(e){return!e.record.isStatic}},{text:"AbpIdentity::Delete",action:function(e){e.getInjected(On).delete(e.record.id,e.record.name)},permission:"AbpIdentity.ClaimTypes.Delete"}]),Dn=b.f.createMany([{type:"string",name:"name",displayName:"AbpIdentity::Name",sortable:!0,columnWidth:250},{type:"string",name:"valueType",displayName:"AbpIdentity::ValueType",sortable:!0,columnWidth:200,valueResolver:function(e){return Object(N.a)(e.getInjected(On).getTypeName(e.record.valueType))}},{type:"string",name:"description",displayName:"AbpIdentity::Description",sortable:!0,columnWidth:250},{type:"string",name:"regex",displayName:"AbpIdentity::Regex",sortable:!0,columnWidth:200},{type:"boolean",name:"required",displayName:"AbpIdentity::Required",sortable:!0,columnWidth:150},{type:"boolean",name:"isStatic",displayName:"AbpIdentity::IsStatic",sortable:!0,columnWidth:150}]),Qn=b.j.createMany([{type:"string",name:"name",displayName:"AbpIdentity::Name",id:"name",validators:function(){return[ee.A.required,ee.A.maxLength(256)]}},{type:"boolean",name:"required",displayName:"AbpIdentity::Required",id:"required",defaultValue:!1},{type:"string",name:"regex",displayName:"AbpIdentity::Regex",id:"regex"},{type:"string",name:"regexDescription",displayName:"AbpIdentity::RegexDescription",id:"regex-description"},{type:"string",name:"description",displayName:"AbpIdentity::Description",id:"description"},{type:"number",name:"valueType",displayName:"AbpIdentity::ValueType",id:"value-type",defaultValue:0,options:function(){return Object(N.a)([{key:"String",value:0},{key:"Int",value:1},{key:"Boolean",value:2},{key:"DateTime",value:3}])}}]),Bn=Qn,Kn=b.n.createMany([{text:"AbpIdentity::NewClaimType",action:function(e){e.getInjected(On).onAdd()},permission:"AbpIdentity.ClaimTypes.Create",icon:"fa fa-plus"}]),_n=b.e.createMany([{text:"AbpIdentity::Delete",action:function(e){e.getInjected(xn).delete(e.record.id,e.record.name)},permission:"AbpIdentity.OrganizationUnits.ManageMembers"}]),Yn=b.f.createMany([{type:"string",name:"userName",displayName:"AbpIdentity::UserName",sortable:!0,columnWidth:180},{type:"string",name:"email",displayName:"AbpIdentity::EmailAddress",sortable:!0,columnWidth:200,valueResolver:function(e){var t=e.record,n=t.email,i=t.emailConfirmed;return Object(N.a)((n||"")+(i?'<i class="fa fa-check text-success ml-1"></i>':""))}}]),Wn=b.e.createMany([{text:"AbpIdentity::Delete",action:function(e){e.getInjected(zn).delete(e.record.id,e.record.name)},permission:"AbpIdentity.OrganizationUnits.ManageRoles"}]),$n=b.f.createMany([{type:"string",name:"name",displayName:"AbpIdentity::RoleName",sortable:!0}]),Hn=b.j.createMany([{type:"string",name:"displayName",displayName:"AbpIdentity::DisplayName",id:"organization-unit-display-name",validators:function(){return[ee.A.required,ee.A.maxLength(256)]}}]),Xn=Hn,Jn=b.n.createMany([]),ei=b.e.createMany([{text:"AbpIdentity::Edit",action:function(e){e.getInjected(Rn).onEdit(e.record.id)},permission:"AbpIdentity.Roles.Update"},{text:"AbpIdentity::Claims",action:function(e){e.getInjected(Rn).onManageClaims(e.record.id)},permission:"AbpIdentity.Roles.Update"},{text:"AbpIdentity::Permissions",action:function(e){e.getInjected(Rn).openPermissionsModal(e.record.name)},permission:"AbpIdentity.Roles.ManagePermissions"},{text:"AbpIdentity::ChangeHistory",action:function(e){e.getInjected(ne.c)(e.record.id,"Volo.Abp.Identity.IdentityRole")},permission:"AbpIdentity.Roles.ViewChangeHistory",visible:function(e){return Boolean(e.getInjected(ne.c,null))}},{text:"AbpIdentity::Delete",action:function(e){e.getInjected(Rn).delete(e.record.id,e.record.name)},permission:"AbpIdentity.Roles.Delete",visible:function(e){return!e.record.isStatic}}]),ti=b.f.createMany([{type:"string",name:"name",displayName:"AbpIdentity::RoleName",sortable:!0,valueResolver:function(e){var t=e.getInjected(l.I),n=t.instant.bind(t),i=e.record,a=i.isDefault,r=i.isPublic,o=i.name;return Object(N.a)(o+(a?'<span class="badge badge-pill badge-success ml-1">'.concat(n("AbpIdentity::DisplayName:IsDefault"),"</span>"):"")+(r?'<span class="badge badge-pill badge-info ml-1">'.concat(n("AbpIdentity::DisplayName:IsPublic"),"</span>"):""))}}]),ni=b.j.createMany([{type:"string",name:"name",displayName:"AbpIdentity::RoleName",id:"role-name",disabled:function(e){return e.record&&e.record.isStatic},validators:function(){return[ee.A.required]}},{type:"boolean",name:"isDefault",displayName:"AbpIdentity::DisplayName:IsDefault",id:"role-is-default",defaultValue:!1},{type:"boolean",name:"isPublic",displayName:"AbpIdentity::DisplayName:IsPublic",id:"role-is-public",defaultValue:!1}]),ii=ni,ai=b.n.createMany([{text:"AbpIdentity::NewRole",action:function(e){e.getInjected(Rn).onAdd()},permission:"AbpIdentity.Roles.Create",icon:"fa fa-plus"}]),ri=b.e.createMany([]),oi=b.f.createMany([{type:"string",name:"creationTime",displayName:"AbpIdentity::SecurityLogs:Time",sortable:!0,columnWidth:180,valueResolver:function(e){var t=e.getInjected(l.m),n=e.getInjected(w.f);return Object(N.a)(n.transform(e.record.creationTime,Object(l.ob)(t)))}},{type:"string",name:"action",displayName:"AbpIdentity::SecurityLogs:Action",sortable:!0,columnWidth:180,valueResolver:function(e){return Object(N.a)('<div style="max-width: 160px" class="pointer abp-ellipsis-inline">'.concat(e.record.action||"","</div>"))},action:function(e){var t=e.getInjected(Pn);t.filter.action=e.record.action,t.list.get()}},{type:"string",name:"clientIpAddress",displayName:"AbpIdentity::SecurityLogs:IpAddress",sortable:!1,columnWidth:200,valueResolver:function(e){return Object(N.a)('<div style="max-width: 180px" class="abp-ellipsis-inline">'.concat(e.record.clientIpAddress||"","</div>"))}},{type:"string",name:"browserInfo",displayName:"AbpIdentity::SecurityLogs:Browser",sortable:!1,columnWidth:200,valueResolver:function(e){return Object(N.a)('<div style="max-width: 180px" class="abp-ellipsis-inline">'.concat(e.record.browserInfo||"","</div>"))}},{type:"string",name:"applicationName",displayName:"AbpIdentity::SecurityLogs:Application",sortable:!0,columnWidth:150,valueResolver:function(e){return Object(N.a)('<div style="max-width: 135px" class="pointer abp-ellipsis-inline">'.concat(e.record.applicationName||"","</div>"))},action:function(e){var t=e.getInjected(Pn);t.filter.applicationName=e.record.applicationName,t.list.get()}},{type:"string",name:"identity",displayName:"AbpIdentity::SecurityLogs:Identity",sortable:!0,columnWidth:150,valueResolver:function(e){return Object(N.a)('<div style="max-width: 135px" class="pointer abp-ellipsis-inline">'.concat(e.record.identity||"","</div>"))},action:function(e){var t=e.getInjected(Pn);t.filter.identity=e.record.identity,t.list.get()}},{type:"string",name:"userName",displayName:"AbpIdentity::SecurityLogs:UserName",sortable:!0,columnWidth:150,valueResolver:function(e){return Object(N.a)('<div style="max-width: 135px" class="pointer abp-ellipsis-inline">'.concat(e.record.userName||"","</div>"))},action:function(e){var t=e.getInjected(Pn);t.filter.userName=e.record.userName,t.list.get()}},{type:"string",name:"clientId",displayName:"AbpIdentity::SecurityLogs:Client",sortable:!0,columnWidth:320,valueResolver:function(e){return Object(N.a)('<div class="pointer">'.concat(e.record.clientId||"","</div>"))},action:function(e){var t=e.getInjected(Pn);t.filter.clientId=e.record.clientId,t.list.get()}},{type:"string",name:"correlationId",displayName:"AbpIdentity::SecurityLogs:CorrelationId",sortable:!0,columnWidth:320,valueResolver:function(e){return Object(N.a)('<div class="pointer">'.concat(e.record.correlationId||"","</div>"))},action:function(e){var t=e.getInjected(Pn);t.filter.correlationId=e.record.correlationId,t.list.get()}}]),ci=b.n.createMany([]),si=b.e.createMany([{text:"AbpIdentity::Edit",action:function(e){e.getInjected(qn).onEdit(e.record.id)},permission:"AbpIdentity.Users.Update"},{text:"AbpIdentity::Claims",action:function(e){e.getInjected(qn).onManageClaims(e.record.id)},permission:"AbpIdentity.Users.Update"},{text:"AbpIdentity::Lock",action:function(e){var t=e.getInjected(qn);t.selected=e.record,t.isLockModalVisible=!0},permission:"AbpIdentity.Users.Update",visible:function(e){return!e.record.isLockedOut&&e.record.lockoutEnabled}},{text:"AbpIdentity::Unlock",action:function(e){e.getInjected(qn).unlock(e.record.id)},permission:"AbpIdentity.Users.Update",visible:function(e){return e.record.isLockedOut}},{text:"AbpIdentity::Permissions",action:function(e){e.getInjected(qn).openPermissionsModal(e.record.id)},permission:"AbpIdentity.Users.ManagePermissions"},{text:"AbpIdentity::ChangeHistory",action:function(e){e.getInjected(ne.c)(e.record.id,"Volo.Abp.Identity.IdentityUser")},permission:"AbpIdentity.Users.ViewChangeHistory",visible:function(e){return Boolean(e.getInjected(ne.c,null))}},{text:"AbpIdentity::SetPassword",action:function(e){var t=e.getInjected(qn);t.selected=e.record,t.isSetPasswordModalVisible=!0},permission:"AbpIdentity.Users.Update"},{text:"AbpIdentity::TwoFactor",action:function(e){var t=e.getInjected(qn);t.selected=e.record,t.userService.getTwoFactorEnabled(e.record.id).subscribe(function(e){t.twoFactor.checkboxValue=e,t.twoFactor.isModalVisible=!0})},permission:"AbpIdentity.Users.Update",visible:function(e){return e.getInjected(qn).twoFactor.isOptional}},{text:"AbpIdentity::Delete",action:function(e){e.getInjected(qn).delete(e.record.id,e.record.name||e.record.userName)},permission:"AbpIdentity.Users.Delete"}]),li=b.f.createMany([{type:"string",name:"userName",displayName:"AbpIdentity::UserName",sortable:!0,columnWidth:250,valueResolver:function(e){var t=e.getInjected(l.I),n=t.instant.bind(t);return Object(N.a)(e.record.isLockedOut?'<i title="'.concat(n("AbpIdentity::ThisUserIsLockedOutMessage"),'" class="fa fa-lock text-danger mr-1"></i><span class="opc-65">').concat(e.record.userName,"</span>"):e.record.userName)}},{type:"string",name:"email",displayName:"AbpIdentity::EmailAddress",sortable:!0,columnWidth:250,valueResolver:function(e){var t=e.record,n=t.email,i=t.emailConfirmed;return Object(N.a)((n||"")+(i?'<i class="fa fa-check text-success ml-1"></i>':""))}},{type:"string",name:"phoneNumber",displayName:"AbpIdentity::PhoneNumber",sortable:!0,columnWidth:250,valueResolver:function(e){var t=e.record,n=t.phoneNumber,i=t.phoneNumberConfirmed;return Object(N.a)((n||"")+(i?'<i class="fa fa-check text-success ml-1"></i>':""))}}]),ui=b.j.createMany([{type:"string",name:"userName",displayName:"AbpIdentity::UserName",id:"user-name",validators:function(){return[ee.A.required,ee.A.maxLength(256)]}},{type:"password",name:"password",displayName:"AbpIdentity::Password",id:"password",autocomplete:"new-password",validators:function(e){return[ee.A.required].concat(s(Object(u.r)({get:e.getInjected})))}},{type:"string",name:"name",displayName:"AbpIdentity::DisplayName:Name",id:"name",validators:function(){return[ee.A.maxLength(64)]}},{type:"string",name:"surname",displayName:"AbpIdentity::DisplayName:Surname",id:"surname",validators:function(){return[ee.A.maxLength(64)]}},{type:"email",name:"email",displayName:"AbpIdentity::EmailAddress",id:"email",validators:function(){return[ee.A.required,ee.A.maxLength(256),ee.A.email]}},{type:"string",name:"phoneNumber",displayName:"AbpIdentity::PhoneNumber",id:"phone-number",validators:function(){return[ee.A.maxLength(16)]}},{type:"boolean",name:"lockoutEnabled",displayName:"AbpIdentity::DisplayName:LockoutEnabled",id:"lockout-checkbox",defaultValue:!0}]),di=ui.filter(function(e){return"password"!==e.name}),pi=b.n.createMany([{text:"AbpIdentity::NewUser",action:function(e){e.getInjected(qn).onAdd()},permission:"AbpIdentity.Users.Create",icon:"fa fa-plus"}]),bi={"Identity.ClaimsComponent":Vn,"Identity.RolesComponent":ei,"Identity.UsersComponent":si,"Identity.OrganizationMembersComponent":_n,"Identity.OrganizationRolesComponent":Wn,"Identity.SecurityLogs":ri},fi={"Identity.ClaimsComponent":Kn,"Identity.RolesComponent":ai,"Identity.UsersComponent":pi,"Identity.OrganizationUnitsComponent":Jn,"Identity.SecurityLogs":ci},mi={"Identity.ClaimsComponent":Dn,"Identity.RolesComponent":ti,"Identity.UsersComponent":li,"Identity.OrganizationMembersComponent":Yn,"Identity.OrganizationRolesComponent":$n,"Identity.SecurityLogs":oi},hi={"Identity.ClaimsComponent":Qn,"Identity.RolesComponent":ni,"Identity.UsersComponent":ui,"Identity.OrganizationUnitsComponent":Hn},yi={"Identity.ClaimsComponent":Bn,"Identity.RolesComponent":ii,"Identity.UsersComponent":di,"Identity.OrganizationUnitsComponent":Xn},vi=new f.v("IDENTITY_ENTITY_ACTION_CONTRIBUTORS"),gi=new f.v("IDENTITY_TOOLBAR_ACTION_CONTRIBUTORS"),ki=new f.v("IDENTITY_ENTITY_PROP_CONTRIBUTORS"),Ii=new f.v("IDENTITY_CREATE_FORM_PROP_CONTRIBUTORS"),Ci=new f.v("IDENTITY_EDIT_FORM_PROP_CONTRIBUTORS"),Ti=((_t=function(){function e(t){p(this,e),this.injector=t}return d(e,[{key:"canActivate",value:function(){var e=this.injector.get(b.i),t=this.injector.get(vi,null)||{},n=this.injector.get(gi,null)||{},i=this.injector.get(ki,null)||{},a=this.injector.get(Ii,null)||{},r=this.injector.get(Ci,null)||{},o=this.injector.get(l.m);return Object(b.q)(o,"Identity").pipe(Object(I.a)(function(e){return{"Identity.ClaimsComponent":e.ClaimType,"Identity.RolesComponent":e.Role,"Identity.UsersComponent":e.User,"Identity.OrganizationUnitsComponent":e.OrganizationUnit}}),Object(b.r)(o,"AbpIdentity"),Object(h.a)(function(o){Object(b.s)(e.entityActions,bi,t),Object(b.s)(e.toolbarActions,fi,n),Object(b.t)(e.entityProps,mi,o.prop,i),Object(b.t)(e.createFormProps,hi,o.createForm,a),Object(b.t)(e.editFormProps,yi,o.editForm,r)}),Object(C.a)(!0))}}]),e}()).\u0275fac=function(e){return new(e||_t)(f.hc(f.w))},_t.\u0275prov=f.Qb({token:_t,factory:_t.\u0275fac}),_t),Si=((Kt=function(){function e(t,n,i){p(this,e),this.roleService=t,this.userService=n,this.store=i,this.visibleChange=new f.q,this.modalBusy=!1}return d(e,[{key:"visible",get:function(){return this._visible},set:function(e){this._visible!==e&&(this._visible=e,this.visibleChange.emit(e))}},{key:"ngOnChanges",value:function(e){var t=e.visible,n=e.subject;n&&n.currentValue&&(this.service="roles"===n.currentValue.type?this.roleService:this.userService),t&&(t.currentValue?this.initModal():(this.newClaimType=null,this.newClaimValue=null,this.subjectClaims=null))}},{key:"ngOnInit",value:function(){}},{key:"initModal",value:function(){this.getClaimTypeNames(),this.getSubjectClaims(this.subject)}},{key:"getClaimTypeNames",value:function(){var e=this;this.service.getAllClaimTypes().subscribe(function(t){return e.claimTypes=t})}},{key:"getSubjectClaims",value:function(e){var t=this;this.service.getClaims(e.id).pipe(Object(v.a)(1)).subscribe(function(e){return t.subjectClaims=e})}},{key:"addClaim",value:function(){if(this.newClaimType&&this.newClaimValue){var e={claimType:this.newClaimType,claimValue:this.newClaimValue};e=Object.assign(t({},"roles"===this.subject.type?"roleId":"userId",this.subject.id),e),this.subjectClaims.push(e),this.newClaimType="",this.newClaimValue=""}}},{key:"removeClaim",value:function(e){this.subjectClaims[e]&&(this.subjectClaims=this.subjectClaims.filter(function(t,n){return n!==e}))}},{key:"save",value:function(){var e=this;this.modalBusy||(this.modalBusy=!0,this.service.updateClaims(this.subject.id,this.subjectClaims).pipe(Object(v.a)(1),Object(g.a)(function(){return e.modalBusy=!1})).subscribe(function(){return e.visible=!1}))}}]),e}()).\u0275fac=function(e){return new(e||Kt)(f.Ub(kn),f.Ub(In),f.Ub(m.g))},Kt.\u0275cmp=f.Ob({type:Kt,selectors:[["abp-claim-modal"]],inputs:{visible:"visible",subject:"subject"},outputs:{visibleChange:"visibleChange"},features:[f.Eb],decls:7,vars:2,consts:[["size","md",3,"visible","busy","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],[1,"modal-title"],[3,"ngSubmit"],[1,"form-row"],[1,"col","col-sm-6"],[1,"form-group"],["for","claimTypeSelect"],["autofocus","","id","claimTypeSelect",1,"custom-select","form-control",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["for","newClaimValue"],["required","","id","newClaimValue","type","text",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"col","col-sm-12","align-self-center"],["type","button",1,"btn","btn-success","btn-block",3,"click"],[1,"fa","fa-plus"],[1,"my-4"],["class","willBeHidden",4,"ngIf"],[3,"ngValue"],[1,"willBeHidden"],["class","input-group mb-3",4,"ngFor","ngForOf"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text","mw-100","fs-9"],["type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"btn","btn-danger","deleteClaim",3,"click"],[1,"fa","fa-trash"],["type","button",1,"btn","btn-secondary"],["abpClose",""],["iconClass","fa fa-check",3,"click"]],template:function(e,t){1&e&&(f.ac(0,"abp-modal",0),f.kc("visibleChange",function(e){return t.visible=e}),f.Qc(1,It,3,3,"ng-template",null,1,f.Rc),f.Qc(3,Nt,21,14,"ng-template",null,2,f.Rc),f.Qc(5,wt,7,6,"ng-template",null,3,f.Rc),f.Zb()),2&e&&f.vc("visible",t.visible)("busy",t.modalBusy)},directives:[u.h,ee.B,ee.r,ee.s,ee.y,l.i,ee.q,ee.t,w.p,ee.e,ee.x,w.q,ee.u,ee.C,u.b],pipes:[l.H],encapsulation:2}),Kt),Oi=((Bt=function(){function e(t,n){p(this,e),this.list=t,this.userService=n,this.allUnits={items:[]}}return d(e,[{key:"ngOnInit",value:function(){this.hookToQuery()}},{key:"hookToQuery",value:function(){var e=this;this.list.hookToQuery(function(t){return e.userService.getList(t)}).subscribe(function(t){e.allUnits=t})}}]),e}()).\u0275fac=function(e){return new(e||Bt)(f.Ub(l.F),f.Ub(In))},Bt.\u0275cmp=f.Ob({type:Bt,selectors:[["abp-organization-members-modal-body"]],inputs:{checkedUnits:"checkedUnits",isCheckboxDisabled:"isCheckboxDisabled"},features:[f.Fb([l.F])],decls:11,vars:9,consts:[["id","data-tables-table-filter",1,"data-tables-filter"],[1,"input-group"],["type","search",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"input-group-append"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"fas","fa-search"],[1,"card"],["actionsText","",3,"data","recordsTotal","actionsColumnWidth","actionsTemplate","list"],["customAction",""],["type","checkbox",3,"ngModel","disabled","ngModelChange"]],template:function(e,t){if(1&e&&(f.ac(0,"div",0),f.ac(1,"div",1),f.ac(2,"input",2),f.kc("ngModelChange",function(e){return t.list.filter=e}),f.pc(3,"abpLocalization"),f.Zb(),f.ac(4,"div",3),f.ac(5,"button",4),f.kc("click",function(){return t.list.get()}),f.Vb(6,"i",5),f.Zb(),f.Zb(),f.Zb(),f.Zb(),f.ac(7,"div",6),f.Vb(8,"abp-extensible-table",7),f.Zb(),f.Qc(9,Ut,1,2,"ng-template",null,8,f.Rc)),2&e){var n=f.Fc(10);f.Gb(2),f.vc("placeholder",f.qc(3,7,"AbpUi::PagerSearch"))("ngModel",t.list.filter),f.Gb(6),f.vc("data",t.allUnits.items)("recordsTotal",t.allUnits.totalCount)("actionsColumnWidth",38)("actionsTemplate",n)("list",t.list)}},directives:[ee.e,ee.q,ee.t,b.h,ee.c],pipes:[l.H],encapsulation:2}),Bt),Ni=((Qt=function(){function e(t,n){p(this,e),this.list=t,this.roleService=n,this.allUnits={items:[]}}return d(e,[{key:"ngOnInit",value:function(){this.hookToQuery()}},{key:"hookToQuery",value:function(){var e=this;this.list.hookToQuery(function(t){return e.roleService.getList(t)}).subscribe(function(t){e.allUnits=t})}}]),e}()).\u0275fac=function(e){return new(e||Qt)(f.Ub(l.F),f.Ub(kn))},Qt.\u0275cmp=f.Ob({type:Qt,selectors:[["abp-organization-roles-modal-body"]],inputs:{checkedUnits:"checkedUnits",isCheckboxDisabled:"isCheckboxDisabled"},features:[f.Fb([l.F])],decls:4,vars:5,consts:[[1,"card"],["actionsText","",3,"data","recordsTotal","actionsColumnWidth","actionsTemplate","list"],["customAction",""],["type","checkbox",3,"ngModel","disabled","ngModelChange"]],template:function(e,t){if(1&e&&(f.ac(0,"div",0),f.Vb(1,"abp-extensible-table",1),f.Zb(),f.Qc(2,xt,1,2,"ng-template",null,2,f.Rc)),2&e){var n=f.Fc(3);f.Gb(1),f.vc("data",t.allUnits.items)("recordsTotal",t.allUnits.totalCount)("actionsColumnWidth",38)("actionsTemplate",n)("list",t.list)}},directives:[b.h,ee.c,ee.q,ee.t],encapsulation:2}),Qt),wi=[{path:"",redirectTo:"roles",pathMatch:"full"},{path:"",component:l.r,canActivate:[l.g,l.N,Ti],children:[{path:"roles",component:l.R,data:{requiredPolicy:"AbpIdentity.Roles",replaceableComponent:{key:"Identity.RolesComponent",defaultComponent:Rn}}},{path:"users",component:l.R,data:{requiredPolicy:"AbpIdentity.Users",replaceableComponent:{key:"Identity.UsersComponent",defaultComponent:qn}}},{path:"claim-types",component:l.R,data:{requiredPolicy:"AbpIdentity.ClaimTypes",replaceableComponent:{key:"Identity.ClaimsComponent",defaultComponent:On}}},{path:"organization-units",component:l.R,data:{requiredPolicy:"AbpIdentity.OrganizationUnits",replaceableComponent:{key:"Identity.OrganizationUnitsComponent",defaultComponent:jn}}},{path:"security-logs",component:l.R,data:{requiredPolicy:"AbpIdentity.SecurityLogs",replaceableComponent:{key:"Identity.SecurityLogs",defaultComponent:Pn}}}]}],Ui=(($t=function e(){p(this,e)}).\u0275fac=function(e){return new(e||$t)},$t.\u0275mod=f.Sb({type:$t}),$t.\u0275inj=f.Rb({imports:[[re.n.forChild(wi)],re.n]}),$t),xi=((Wt=function(){function e(){p(this,e)}return d(e,null,[{key:"forChild",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[{provide:vi,useValue:t.entityActionContributors},{provide:gi,useValue:t.toolbarActionContributors},{provide:ki,useValue:t.entityPropContributors},{provide:Ii,useValue:t.createFormPropContributors},{provide:Ci,useValue:t.editFormPropContributors},Ti]}}},{key:"forLazy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new l.E(e.forChild(t))}}]),e}()).\u0275fac=function(e){return new(e||Wt)},Wt.\u0275mod=f.Sb({type:Wt}),Wt.\u0275inj=f.Rb({imports:[[m.c.forFeature([Tn]),l.o,ne.a,Ui,T.o,u.n,T.h,T.d,ie.b,ae.a,W]]}),Wt),Ai=((Yt=function(){function t(e){p(this,t),this.store=e}return d(t,[{key:"getRoles",value:function(){return this.store.selectSnapshot(Tn.getRoles)}},{key:"getRolesTotalCount",value:function(){return this.store.selectSnapshot(Tn.getRolesTotalCount)}},{key:"getUsers",value:function(){return this.store.selectSnapshot(Tn.getUsers)}},{key:"getUsersTotalCount",value:function(){return this.store.selectSnapshot(Tn.getUsersTotalCount)}},{key:"getClaimTypes",value:function(){return this.store.selectSnapshot(Tn.getClaimTypes)}},{key:"getClaimTypesTotalCount",value:function(){return this.store.selectSnapshot(Tn.getClaimTypesTotalCount)}},{key:"dispatchGetRoles",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.store.dispatch(e(en,n))}},{key:"dispatchGetRoleById",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.store.dispatch(e(tn,n))}},{key:"dispatchDeleteRole",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.store.dispatch(e(nn,n))}},{key:"dispatchCreateRole",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.store.dispatch(e(an,n))}},{key:"dispatchUpdateRole",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.store.dispatch(e(rn,n))}},{key:"dispatchGetClaimTypes",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.store.dispatch(e(on,n))}},{key:"dispatchGetClaimTypeById",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.store.dispatch(e(cn,n))}},{key:"dispatchDeleteClaimType",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.store.dispatch(e(sn,n))}},{key:"dispatchCreateClaimType",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.store.dispatch(e(ln,n))}},{key:"dispatchUpdateClaimType",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.store.dispatch(e(un,n))}},{key:"dispatchGetUsers",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.store.dispatch(e(dn,n))}},{key:"dispatchGetUserById",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.store.dispatch(e(pn,n))}},{key:"dispatchDeleteUser",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.store.dispatch(e(bn,n))}},{key:"dispatchCreateUser",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.store.dispatch(e(fn,n))}},{key:"dispatchUpdateUser",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.store.dispatch(e(mn,n))}},{key:"dispatchGetUserRoles",value:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.store.dispatch(e(hn,n))}}]),t}()).\u0275fac=function(e){return new(e||Yt)(f.hc(m.g))},Yt.\u0275prov=Object(f.Qb)({factory:function(){return new Yt(Object(f.hc)(m.g))},token:Yt,providedIn:"root"}),Yt),zi=function(e){return e[e.String=0]="String",e[e.Int=1]="Int",e[e.Boolean=2]="Boolean",e[e.DateTime=3]="DateTime",e}({}),ji=Object(l.qb)(zi),Ri=((Jt=function e(t){var n=this;p(this,e),this.restService=t,this.apiName="AbpIdentity",this.get=function(){return n.restService.request({method:"GET",url:"/api/identity/settings"},{apiName:n.apiName})},this.update=function(e){return n.restService.request({method:"PUT",url:"/api/identity/settings",body:e},{apiName:n.apiName})}}).\u0275fac=function(e){return new(e||Jt)(f.hc(l.U))},Jt.\u0275prov=Object(f.Qb)({factory:function(){return new Jt(Object(f.hc)(l.U))},token:Jt,providedIn:"root"}),Jt),Zi=((Xt=function e(t){var n=this;p(this,e),this.restService=t,this.apiName="AbpIdentity",this.findById=function(e){return n.restService.request({method:"GET",url:"/api/identity/users/lookup/"+e},{apiName:n.apiName})},this.findByUserName=function(e){return n.restService.request({method:"GET",url:"/api/identity/users/lookup/by-username/"+e},{apiName:n.apiName})},this.getCount=function(e){return n.restService.request({method:"GET",url:"/api/identity/users/lookup/count",params:{filter:e.filter}},{apiName:n.apiName})},this.search=function(e){return n.restService.request({method:"GET",url:"/api/identity/users/lookup/search",params:{sorting:e.sorting,filter:e.filter,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:n.apiName})}}).\u0275fac=function(e){return new(e||Xt)(f.hc(l.U))},Xt.\u0275prov=Object(f.Qb)({factory:function(){return new Xt(Object(f.hc)(l.U))},token:Xt,providedIn:"root"}),Xt),Gi=((Ht=function e(t){var n=this;p(this,e),this.restService=t,this.apiName="AbpIdentity",this.changePassword=function(e){return n.restService.request({method:"POST",url:"/api/identity/my-profile/change-password",body:e},{apiName:n.apiName})},this.get=function(){return n.restService.request({method:"GET",url:"/api/identity/my-profile"},{apiName:n.apiName})},this.getTwoFactorEnabled=function(){return n.restService.request({method:"GET",url:"/api/identity/my-profile/two-factor-enabled"},{apiName:n.apiName})},this.setTwoFactorEnabled=function(e){return n.restService.request({method:"POST",url:"/api/identity/my-profile/set-two-factor-enabled",params:{enabled:e}},{apiName:n.apiName})},this.update=function(e){return n.restService.request({method:"PUT",url:"/api/identity/my-profile",body:e},{apiName:n.apiName})}}).\u0275fac=function(e){return new(e||Ht)(f.hc(l.U))},Ht.\u0275prov=Object(f.Qb)({factory:function(){return new Ht(Object(f.hc)(l.U))},token:Ht,providedIn:"root"}),Ht)}}])}();