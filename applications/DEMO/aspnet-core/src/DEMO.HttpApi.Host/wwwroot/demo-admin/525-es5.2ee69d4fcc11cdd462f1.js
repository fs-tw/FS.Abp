!function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[525],{HDgC:function(e,i,o){"use strict";o.r(i),o.d(i,"FormManagementAdminModule",function(){return we});var r={};o.r(r);var s={};o.r(s),o.d(s,"Dtos",function(){return r});var a={};o.r(a),o.d(a,"Application",function(){return s});var c={};o.r(c);var u={};o.r(u),o.d(u,"FormsApiService",function(){return z}),o.d(u,"Dtos",function(){return c});var l={};o.r(l);var f={};o.r(f),o.d(f,"RecordsApiService",function(){return T}),o.d(f,"Dtos",function(){return l});var d={};o.r(d);var b={};o.r(b),o.d(b,"VersionsApiService",function(){return F}),o.d(b,"Dtos",function(){return d});var p={};o.r(p),o.d(p,"Forms",function(){return u}),o.d(p,"Records",function(){return f}),o.d(p,"Versions",function(){return b});var v={};o.r(v),o.d(v,"Abp",function(){return a}),o.d(v,"FormManagement",function(){return p});var m,h,y,g,k=o("HmNo"),S=o("tyNb"),C=o("ofXK"),V=o("1REP"),G=o("J7bl"),R=o("fXoL"),w=o("B+r4"),I=o("lFa4"),z=((g=function e(t){var i=this;n(this,e),this.restService=t,this.apiName="Default",this.getListByFormalGetList=function(e){return i.restService.request({method:"GET",url:"/api/form-management/forms/formal",params:{fields:e.fields,value:e.value,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:i.apiName})},this.getListByGroupGetList=function(e){return i.restService.request({method:"GET",url:"/api/form-management/forms/group",params:{fields:e.fields,value:e.value,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:i.apiName})},this.getListByItemGetList=function(e){return i.restService.request({method:"GET",url:"/api/form-management/forms/item",params:{fields:e.fields,value:e.value,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:i.apiName})},this.options=function(){return i.restService.request({method:"OPTIONS",url:"/api/form-management/forms"},{apiName:i.apiName})}}).\u0275fac=function(e){return new(e||g)(R.hc(k.U))},g.\u0275prov=R.Qb({token:g,factory:g.\u0275fac,providedIn:"root"}),g),T=((y=function e(t){var i=this;n(this,e),this.restService=t,this.apiName="Default",this.getListByRecordGetList=function(e){return i.restService.request({method:"GET",url:"/api/form-management/records/record",params:{fields:e.fields,value:e.value,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:i.apiName})},this.getListByRecordItemGetList=function(e){return i.restService.request({method:"GET",url:"/api/form-management/records/record-item",params:{fields:e.fields,value:e.value,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:i.apiName})},this.options=function(){return i.restService.request({method:"OPTIONS",url:"/api/form-management/records"},{apiName:i.apiName})}}).\u0275fac=function(e){return new(e||y)(R.hc(k.U))},y.\u0275prov=R.Qb({token:y,factory:y.\u0275fac,providedIn:"root"}),y),F=((h=function e(t){var i=this;n(this,e),this.restService=t,this.apiName="Default",this.getListByVersionDefinitionGetList=function(e){return i.restService.request({method:"GET",url:"/api/form-management/versions/version-definition",params:{fields:e.fields,value:e.value,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:i.apiName})},this.getListByVersionGetList=function(e){return i.restService.request({method:"GET",url:"/api/form-management/versions/version",params:{fields:e.fields,value:e.value,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:i.apiName})},this.options=function(){return i.restService.request({method:"OPTIONS",url:"/api/form-management/versions"},{apiName:i.apiName})}}).\u0275fac=function(e){return new(e||h)(R.hc(k.U))},h.\u0275prov=R.Qb({token:h,factory:h.\u0275fac,providedIn:"root"}),h),N=((m=function(){function e(t){n(this,e),this.injector=t,this.VersionsApiService=t.get(v.FormManagement.Versions.VersionsApiService)}return t(e,[{key:"getVersionDefinition",value:function(e){return this.VersionsApiService.getListByVersionDefinitionGetList(e)}},{key:"getVersion",value:function(e){return this.VersionsApiService.getListByVersionGetList(e)}}]),e}()).\u0275fac=function(e){return new(e||m)(R.hc(R.w))},m.\u0275prov=R.Qb({token:m,factory:m.\u0275fac,providedIn:"root"}),m),x=o("OzZK"),L=o("RwU8"),Z=o("C2AL"),D=o("xGp+"),A=o("3Pt+"),U=o("iWZL");function q(e,t){if(1&e&&(R.ac(0,"h3"),R.Sc(1),R.Zb()),2&e){var n=R.oc();R.Gb(1),R.Tc(null!=n.selected&&n.selected.id?"\u7de8\u8f2f\u55ae\u4f4d":"\u65b0\u589e\u55ae\u4f4d")}}function M(e,t){if(1&e){var n=R.bc();R.ac(0,"form",9),R.kc("ngSubmit",function(){return R.Ic(n),R.oc().save()}),R.Vb(1,"abp-extensible-form",10),R.Zb()}if(2&e){var i=R.oc();R.vc("formGroup",i.form),R.Gb(1),R.vc("selectedRecord",i.selected)}}function Q(e,t){if(1&e){var n=R.bc();R.ac(0,"button",11,12),R.Sc(2),R.pc(3,"abpLocalization"),R.Zb(),R.ac(4,"abp-button",13),R.kc("click",function(){return R.Ic(n),R.oc().save()}),R.Sc(5),R.pc(6,"abpLocalization"),R.Zb()}if(2&e){var i=R.oc();R.Gb(2),R.Uc(" ",R.qc(3,3,"AbpIdentity::Cancel")," "),R.Gb(2),R.vc("disabled",null==i.form?null:i.form.invalid),R.Gb(1),R.Tc(R.qc(6,5,"AbpIdentity::Save"))}}var O,E,B=((E=function(){function e(t,i,o,r,s,a,c,u){n(this,e),this.router=t,this.route=i,this.extensionsService=o,this.pageService=r,this.confirmationService=s,this.toasterService=a,this.injector=c,this.list=u,this.isModalVisible=!1,this.modalBusy=!1,this.selected={},this.keyword="",this.datas=[],this.count=0}return t(e,[{key:"ngOnInit",value:function(){var e=this;this.extensionsService.Actions$["FormManagement::FS.VersionDefinition"].subscribe(function(t){switch(t.name){case"Edit":e.edit(t.record.id);break;case"Delete":e.deleteItem(t.record.id);break;case"Add":e.add()}}),this.list.maxResultCount=10,this.hookToQuery()}},{key:"hookToQuery",value:function(){var e=this;this.list.hookToQuery(function(t){return e.pageService.getVersionDefinition(t)}).subscribe(function(t){e.datas=t.items,e.count=t.totalCount})}},{key:"deleteItem",value:function(e){}},{key:"add",value:function(){}},{key:"edit",value:function(e){}},{key:"openModal",value:function(){}},{key:"buildForm",value:function(){}},{key:"save",value:function(){}},{key:"selectGovernment",value:function(e){}},{key:"deselectGovernment",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||E)(R.Ub(S.j),R.Ub(S.a),R.Ub(I.b),R.Ub(N),R.Ub(V.e),R.Ub(V.o),R.Ub(R.w),R.Ub(k.F))},E.\u0275cmp=R.Ob({type:E,selectors:[["versiondefinition"]],features:[R.Fb([k.F,{provide:G.d,useValue:"FormManagement::FS.VersionDefinition"}])],decls:19,vars:16,consts:[[1,"mb-md"],[1,"h3"],[2,"float","right"],["nz-button","",2,"margin-right","10px",3,"nzType","click"],[3,"data","defaultSelectId","recordsTotal","list","haveSelect","select"],["size","md",3,"visible","busy","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],["validateOnSubmit","",3,"formGroup","ngSubmit"],[3,"selectedRecord"],["type","button",1,"btn","btn-secondary"],["abpClose",""],["iconClass","fa fa-check",3,"disabled","click"]],template:function(e,t){var n;(1&e&&(R.ac(0,"div",0),R.ac(1,"span",1),R.Sc(2),R.pc(3,"abpLocalization"),R.Zb(),R.ac(4,"div",2),R.ac(5,"button",3),R.kc("click",function(){return t.add()}),R.ac(6,"span"),R.Sc(7),R.pc(8,"abpLocalization"),R.Zb(),R.Zb(),R.Zb(),R.Vb(9,"hr"),R.Zb(),R.ac(10,"nz-extensible-table",4),R.kc("select",function(e){return t.selectGovernment(e)}),R.pc(11,"async"),R.Zb(),R.ac(12,"abp-modal",5),R.kc("visibleChange",function(e){return t.isModalVisible=e}),R.Qc(13,q,2,1,"ng-template",null,6,R.Rc),R.Qc(15,M,2,2,"ng-template",null,7,R.Rc),R.Qc(17,Q,7,7,"ng-template",null,8,R.Rc),R.Zb()),2&e)&&(R.Gb(2),R.Uc(" ",R.qc(3,10,"FormManagement::FS.VersionDefinition")," "),R.Gb(3),R.vc("nzType","primary"),R.Gb(2),R.Uc("+ ",R.qc(8,12,"AbpIdentityServer::Add"),""),R.Gb(3),R.vc("data",t.datas)("defaultSelectId",null==(n=R.qc(11,14,t.selectedGovernment$))?null:n.id)("recordsTotal",t.count)("list",t.list)("haveSelect",!0),R.Gb(2),R.vc("visible",t.isModalVisible)("busy",t.modalBusy))},directives:[x.a,L.a,Z.a,D.a,V.h,A.B,A.r,k.w,A.k,U.j,G.g,V.b],pipes:[k.H,C.b],styles:[""]}),E),j=((O=function(){function e(t,i){var o=this;n(this,e),this.pageService=t,this.activatedRoute=i,this.store=new k.B({}),this.activatedRoute.queryParamMap.subscribe(function(e){null!=e.get("versionsListId")||(o.VersionDefinition=null)})}return t(e,[{key:"VersionDefinition$",get:function(){return this.store.sliceState(function(e){return e.VersionDefinition})}},{key:"VersionDefinition",get:function(){return this.store.state.VersionDefinition},set:function(e){this.store.patch({VersionDefinition:e})}}]),e}()).\u0275fac=function(e){return new(e||O)(R.hc(N),R.hc(S.a))},O.\u0275prov=R.Qb({token:O,factory:O.\u0275fac,providedIn:"root"}),O),P=o("JA5x"),$=o("QlLE");function H(e,t){if(1&e){var n=R.bc();R.ac(0,"div",7),R.ac(1,"span",8),R.Sc(2),R.pc(3,"async"),R.pc(4,"async"),R.Zb(),R.ac(5,"button",9),R.kc("click",function(){return R.Ic(n),R.oc().add()}),R.ac(6,"span"),R.Sc(7),R.pc(8,"abpLocalization"),R.Zb(),R.Zb(),R.Vb(9,"hr"),R.Zb()}if(2&e){var i=R.oc();R.Gb(2),R.Uc(" ",null==R.qc(3,3,i.Version$)?"\u5168\u90e8":R.qc(4,5,i.Version$).displayName," "),R.Gb(3),R.vc("nzType","primary"),R.Gb(2),R.Uc("+ ",R.qc(8,7,"AbpIdentityServer::Add"),"")}}function J(e,t){if(1&e&&R.Vb(0,"nz-extensible-table",10),2&e){var n=R.oc();R.vc("data",n.datas)("recordsTotal",n.count)("list",n.list)}}function K(e,t){1&e&&(R.ac(0,"h4",13),R.Sc(1,"\u8acb\u9078\u64c7\u653f\u5e9c\u55ae\u4f4d"),R.Zb())}function X(e,t){if(1&e&&(R.ac(0,"nz-card"),R.Vb(1,"nz-empty",11),R.Qc(2,K,2,0,"ng-template",null,12,R.Rc),R.Zb()),2&e){var n=R.Fc(3);R.Gb(1),R.vc("nzNotFoundContent",null)("nzNotFoundContent",n)}}function _(e,t){if(1&e&&(R.ac(0,"h3"),R.Sc(1),R.Zb()),2&e){var n=R.oc();R.Gb(1),R.Tc(null!=n.selected&&n.selected.id?"\u7de8\u8f2f\u653f\u5e9c\u8cc7\u6e90":"\u65b0\u589e\u653f\u5e9c\u8cc7\u6e90")}}function W(e,t){if(1&e){var n=R.bc();R.ac(0,"form",14),R.kc("ngSubmit",function(){return R.Ic(n),R.oc().save()}),R.Vb(1,"abp-extensible-form",15),R.Zb()}if(2&e){var i=R.oc();R.vc("formGroup",i.form),R.Gb(1),R.vc("selectedRecord",i.selected)}}function Y(e,t){if(1&e){var n=R.bc();R.ac(0,"button",16,17),R.Sc(2),R.pc(3,"abpLocalization"),R.Zb(),R.ac(4,"abp-button",18),R.kc("click",function(){return R.Ic(n),R.oc().save()}),R.Sc(5),R.pc(6,"abpLocalization"),R.Zb()}if(2&e){var i=R.oc();R.Gb(2),R.Uc(" ",R.qc(3,3,"AbpIdentity::Cancel")," "),R.Gb(2),R.vc("disabled",null==i.form?null:i.form.invalid),R.Gb(1),R.Tc(R.qc(6,5,"AbpIdentity::Save"))}}var ee,te,ne,ie,oe,re,se=((ee=function(){function e(t,i,o,r,s,a,c,u){n(this,e),this.router=t,this.extensionsService=i,this.pageService=o,this.confirmationService=r,this.toasterService=s,this.injector=a,this.list=c,this.postStateService=u,this.subs=[],this.VersionParams={versionDefinitionId:null},this.isModalVisible=!1,this.modalBusy=!1,this.selected={},this.keyword="",this.datas=[],this.count=0}return t(e,[{key:"ngOnInit",value:function(){var e=this;this.Version$=this.postStateService.VersionDefinition$,this.subs.push(this.extensionsService.Actions$["FormManagement::FS.Version"].subscribe(function(t){switch(t.name){case"Edit":e.edit(t.record.id);break;case"Delete":e.deleteItem(t.record.id);break;case"Add":e.add()}})),this.list.maxResultCount=10,this.subs.push(this.Version$.subscribe(function(t){e.VersionParams.versionDefinitionId=null==t?void 0:t.id,e.hookToQuery()}))}},{key:"hookToQuery",value:function(){var e=this;this.hookToQueryScribe&&this.hookToQueryScribe.unsubscribe(),this.hookToQueryScribe=this.list.hookToQuery(function(t){return e.pageService.getVersion(Object.assign(Object.assign({},t),e.VersionParams))}).subscribe(function(t){e.datas=t.items,e.count=t.totalCount})}},{key:"deleteItem",value:function(e){}},{key:"add",value:function(){}},{key:"edit",value:function(e){}},{key:"openModal",value:function(){this.buildForm(),this.isModalVisible=!0}},{key:"buildForm",value:function(){var e=new G.k(this.injector,this.selected);this.form=Object(G.p)(e)}},{key:"save",value:function(){}},{key:"search",value:function(){this.list.get()}}]),e}()).\u0275fac=function(e){return new(e||ee)(R.Ub(S.j),R.Ub(I.b),R.Ub(N),R.Ub(V.e),R.Ub(V.o),R.Ub(R.w),R.Ub(k.F),R.Ub(j))},ee.\u0275cmp=R.Ob({type:ee,selectors:[["version"]],features:[R.Fb([k.F,{provide:G.d,useValue:"FormManagement::FS.Version"}])],decls:13,vars:9,consts:[["class","mb-md",4,"ngIf"],[3,"data","recordsTotal","list",4,"ngIf","ngIfElse"],["noData",""],["size","md",3,"visible","busy","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],[1,"mb-md"],[1,"h3"],["nz-button","",2,"float","right",3,"nzType","click"],[3,"data","recordsTotal","list"],[3,"nzNotFoundContent"],["contentTpl",""],[1,"text-secondary"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[3,"selectedRecord"],["type","button",1,"btn","btn-secondary"],["abpClose",""],["iconClass","fa fa-check",3,"disabled","click"]],template:function(e,t){if(1&e&&(R.Qc(0,H,10,9,"div",0),R.pc(1,"async"),R.Qc(2,J,1,3,"nz-extensible-table",1),R.pc(3,"async"),R.Qc(4,X,4,2,"ng-template",null,2,R.Rc),R.ac(6,"abp-modal",3),R.kc("visibleChange",function(e){return t.isModalVisible=e}),R.Qc(7,_,2,1,"ng-template",null,4,R.Rc),R.Qc(9,W,2,2,"ng-template",null,5,R.Rc),R.Qc(11,Y,7,7,"ng-template",null,6,R.Rc),R.Zb()),2&e){var n=R.Fc(5);R.vc("ngIf",R.qc(1,5,t.Version$)),R.Gb(2),R.vc("ngIf",R.qc(3,7,t.Version$))("ngIfElse",n),R.Gb(4),R.vc("visible",t.isModalVisible)("busy",t.modalBusy)}},directives:[C.q,V.h,x.a,L.a,Z.a,D.a,P.a,$.b,A.B,A.r,k.w,A.k,U.j,G.g,V.b],pipes:[C.b,k.H],styles:[""]}),ee),ae=[{path:"",component:(te=function(){function e(){n(this,e)}return t(e,[{key:"ngOnInit",value:function(){}}]),e}(),te.\u0275fac=function(e){return new(e||te)},te.\u0275cmp=R.Ob({type:te,selectors:[["ng-component"]],decls:6,vars:0,consts:[["nzGutter","16"],["nzSpan","8"],["nzSpan","16"]],template:function(e,t){1&e&&(R.ac(0,"nz-row",0),R.ac(1,"nz-col",1),R.Vb(2,"versiondefinition"),R.Zb(),R.ac(3,"nz-col",2),R.ac(4,"div"),R.Vb(5,"version"),R.Zb(),R.Zb(),R.Zb())},directives:[w.c,w.a,B,se],styles:["nz-select[_ngcontent-%COMP%]{margin-right:8px;width:220px}.bg-white[_ngcontent-%COMP%]{background-color:#fff}"]}),te)}],ce=((ne=function e(){n(this,e)}).\u0275fac=function(e){return new(e||ne)},ne.\u0275mod=R.Sb({type:ne}),ne.\u0275inj=R.Rb({imports:[[S.n.forChild(ae)],S.n]}),ne),ue=o("CzEO"),le=o("PTRe"),fe=o("rMZv"),de=o("Nqz0"),be=o("FwiY"),pe=o("dEAy"),ve=o("bE2y"),me=o("D9mS"),he=o("qAZ0"),ye=o("zAKX"),ge=o("0lU3"),ke=o("oyxB"),Se=o("O3k0"),Ce=o("7Vzv"),Ve=[w.b,le.d,fe.f,de.d,x.c,be.b,pe.b,ve.c,me.b,he.b,P.b,ye.c,ge.b,ke.c,Se.c,$.c],Ge=[{path:"",pathMatch:"full",redirectTo:"versions"},{path:"",children:[{path:"versions",loadChildren:(ie=function(){function e(){n(this,e)}return t(e,null,[{key:"forChild",value:function(){return{ngModule:e,providers:[]}}},{key:"forLazy",value:function(){return new k.E(e.forChild())}},{key:"forEarly",value:function(){return new k.E(e.forChild())}}]),e}(),ie.\u0275fac=function(e){return new(e||ie)},ie.\u0275mod=R.Sb({type:ie}),ie.\u0275inj=R.Rb({providers:[N],imports:[[C.c,ce,G.o,V.n,k.o,Ce.c].concat(Ve,[ue.b.forRoot()])]}),ie).forEarly}]}],Re=((re=function e(){n(this,e)}).\u0275fac=function(e){return new(e||re)},re.\u0275mod=R.Sb({type:re}),re.\u0275inj=R.Rb({imports:[[S.n.forChild(Ge)],S.n]}),re),we=((oe=function(){function e(){n(this,e)}return t(e,null,[{key:"forChild",value:function(){return{ngModule:e,providers:[]}}},{key:"forLazy",value:function(){return new k.E(e.forChild())}}]),e}()).\u0275fac=function(e){return new(e||oe)},oe.\u0275mod=R.Sb({type:oe}),oe.\u0275inj=R.Rb({imports:[[Ce.c,k.o,Re],Ce.c]}),oe)}}])}();