(window.webpackJsonp=window.webpackJsonp||[]).push([[525],{HDgC:function(e,t,i){"use strict";i.r(t),i.d(t,"FormManagementAdminModule",function(){return be});var n={};i.r(n);var s={};i.r(s),i.d(s,"Dtos",function(){return n});var o={};i.r(o),i.d(o,"Application",function(){return s});var r={};i.r(r);var c={};i.r(c),i.d(c,"FormsApiService",function(){return C}),i.d(c,"Dtos",function(){return r});var a={};i.r(a);var u={};i.r(u),i.d(u,"RecordsApiService",function(){return V}),i.d(u,"Dtos",function(){return a});var l={};i.r(l);var d={};i.r(d),i.d(d,"VersionsApiService",function(){return G}),i.d(d,"Dtos",function(){return l});var b={};i.r(b),i.d(b,"Forms",function(){return c}),i.d(b,"Records",function(){return u}),i.d(b,"Versions",function(){return d});var m={};i.r(m),i.d(m,"Abp",function(){return o}),i.d(m,"FormManagement",function(){return b});var p=i("HmNo"),f=i("tyNb"),h=i("ofXK"),v=i("1REP"),g=i("J7bl"),S=i("fXoL"),y=i("B+r4"),k=i("lFa4");let C=(()=>{class e{constructor(e){this.restService=e,this.apiName="Default",this.getListByFormalGetList=e=>this.restService.request({method:"GET",url:"/api/form-management/forms/formal",params:{fields:e.fields,value:e.value,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:this.apiName}),this.getListByGroupGetList=e=>this.restService.request({method:"GET",url:"/api/form-management/forms/group",params:{fields:e.fields,value:e.value,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:this.apiName}),this.getListByItemGetList=e=>this.restService.request({method:"GET",url:"/api/form-management/forms/item",params:{fields:e.fields,value:e.value,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:this.apiName}),this.options=()=>this.restService.request({method:"OPTIONS",url:"/api/form-management/forms"},{apiName:this.apiName})}}return e.\u0275fac=function(t){return new(t||e)(S.hc(p.U))},e.\u0275prov=S.Qb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),V=(()=>{class e{constructor(e){this.restService=e,this.apiName="Default",this.getListByRecordGetList=e=>this.restService.request({method:"GET",url:"/api/form-management/records/record",params:{fields:e.fields,value:e.value,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:this.apiName}),this.getListByRecordItemGetList=e=>this.restService.request({method:"GET",url:"/api/form-management/records/record-item",params:{fields:e.fields,value:e.value,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:this.apiName}),this.options=()=>this.restService.request({method:"OPTIONS",url:"/api/form-management/records"},{apiName:this.apiName})}}return e.\u0275fac=function(t){return new(t||e)(S.hc(p.U))},e.\u0275prov=S.Qb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),G=(()=>{class e{constructor(e){this.restService=e,this.apiName="Default",this.getListByVersionDefinitionGetList=e=>this.restService.request({method:"GET",url:"/api/form-management/versions/version-definition",params:{fields:e.fields,value:e.value,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:this.apiName}),this.getListByVersionGetList=e=>this.restService.request({method:"GET",url:"/api/form-management/versions/version",params:{fields:e.fields,value:e.value,sorting:e.sorting,skipCount:e.skipCount,maxResultCount:e.maxResultCount}},{apiName:this.apiName}),this.options=()=>this.restService.request({method:"OPTIONS",url:"/api/form-management/versions"},{apiName:this.apiName})}}return e.\u0275fac=function(t){return new(t||e)(S.hc(p.U))},e.\u0275prov=S.Qb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),R=(()=>{class e{constructor(e){this.injector=e,this.VersionsApiService=e.get(m.FormManagement.Versions.VersionsApiService)}getVersionDefinition(e){return this.VersionsApiService.getListByVersionDefinitionGetList(e)}getVersion(e){return this.VersionsApiService.getListByVersionGetList(e)}}return e.\u0275fac=function(t){return new(t||e)(S.hc(S.w))},e.\u0275prov=S.Qb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var I=i("OzZK"),w=i("RwU8"),z=i("C2AL"),T=i("xGp+"),F=i("3Pt+"),N=i("iWZL");function x(e,t){if(1&e&&(S.ac(0,"h3"),S.Sc(1),S.Zb()),2&e){const e=S.oc();S.Gb(1),S.Tc(null!=e.selected&&e.selected.id?"\u7de8\u8f2f\u55ae\u4f4d":"\u65b0\u589e\u55ae\u4f4d")}}function L(e,t){if(1&e){const e=S.bc();S.ac(0,"form",9),S.kc("ngSubmit",function(){return S.Ic(e),S.oc().save()}),S.Vb(1,"abp-extensible-form",10),S.Zb()}if(2&e){const e=S.oc();S.vc("formGroup",e.form),S.Gb(1),S.vc("selectedRecord",e.selected)}}function Z(e,t){if(1&e){const e=S.bc();S.ac(0,"button",11,12),S.Sc(2),S.pc(3,"abpLocalization"),S.Zb(),S.ac(4,"abp-button",13),S.kc("click",function(){return S.Ic(e),S.oc().save()}),S.Sc(5),S.pc(6,"abpLocalization"),S.Zb()}if(2&e){const e=S.oc();S.Gb(2),S.Uc(" ",S.qc(3,3,"AbpIdentity::Cancel")," "),S.Gb(2),S.vc("disabled",null==e.form?null:e.form.invalid),S.Gb(1),S.Tc(S.qc(6,5,"AbpIdentity::Save"))}}let D=(()=>{class e{constructor(e,t,i,n,s,o,r,c){this.router=e,this.route=t,this.extensionsService=i,this.pageService=n,this.confirmationService=s,this.toasterService=o,this.injector=r,this.list=c,this.isModalVisible=!1,this.modalBusy=!1,this.selected={},this.keyword="",this.datas=[],this.count=0}ngOnInit(){this.extensionsService.Actions$["FormManagement::FS.VersionDefinition"].subscribe(e=>{switch(e.name){case"Edit":this.edit(e.record.id);break;case"Delete":this.deleteItem(e.record.id);break;case"Add":this.add()}}),this.list.maxResultCount=10,this.hookToQuery()}hookToQuery(){this.list.hookToQuery(e=>this.pageService.getVersionDefinition(e)).subscribe(e=>{this.datas=e.items,this.count=e.totalCount})}deleteItem(e){}add(){}edit(e){}openModal(){}buildForm(){}save(){}selectGovernment(e){}deselectGovernment(){}}return e.\u0275fac=function(t){return new(t||e)(S.Ub(f.j),S.Ub(f.a),S.Ub(k.b),S.Ub(R),S.Ub(v.e),S.Ub(v.o),S.Ub(S.w),S.Ub(p.F))},e.\u0275cmp=S.Ob({type:e,selectors:[["versiondefinition"]],features:[S.Fb([p.F,{provide:g.d,useValue:"FormManagement::FS.VersionDefinition"}])],decls:19,vars:16,consts:[[1,"mb-md"],[1,"h3"],[2,"float","right"],["nz-button","",2,"margin-right","10px",3,"nzType","click"],[3,"data","defaultSelectId","recordsTotal","list","haveSelect","select"],["size","md",3,"visible","busy","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],["validateOnSubmit","",3,"formGroup","ngSubmit"],[3,"selectedRecord"],["type","button",1,"btn","btn-secondary"],["abpClose",""],["iconClass","fa fa-check",3,"disabled","click"]],template:function(e,t){if(1&e&&(S.ac(0,"div",0),S.ac(1,"span",1),S.Sc(2),S.pc(3,"abpLocalization"),S.Zb(),S.ac(4,"div",2),S.ac(5,"button",3),S.kc("click",function(){return t.add()}),S.ac(6,"span"),S.Sc(7),S.pc(8,"abpLocalization"),S.Zb(),S.Zb(),S.Zb(),S.Vb(9,"hr"),S.Zb(),S.ac(10,"nz-extensible-table",4),S.kc("select",function(e){return t.selectGovernment(e)}),S.pc(11,"async"),S.Zb(),S.ac(12,"abp-modal",5),S.kc("visibleChange",function(e){return t.isModalVisible=e}),S.Qc(13,x,2,1,"ng-template",null,6,S.Rc),S.Qc(15,L,2,2,"ng-template",null,7,S.Rc),S.Qc(17,Z,7,7,"ng-template",null,8,S.Rc),S.Zb()),2&e){let e=null;S.Gb(2),S.Uc(" ",S.qc(3,10,"FormManagement::FS.VersionDefinition")," "),S.Gb(3),S.vc("nzType","primary"),S.Gb(2),S.Uc("+ ",S.qc(8,12,"AbpIdentityServer::Add"),""),S.Gb(3),S.vc("data",t.datas)("defaultSelectId",null==(e=S.qc(11,14,t.selectedGovernment$))?null:e.id)("recordsTotal",t.count)("list",t.list)("haveSelect",!0),S.Gb(2),S.vc("visible",t.isModalVisible)("busy",t.modalBusy)}},directives:[I.a,w.a,z.a,T.a,v.h,F.B,F.r,p.w,F.k,N.j,g.g,v.b],pipes:[p.H,h.b],styles:[""]}),e})(),A=(()=>{class e{constructor(e,t){this.pageService=e,this.activatedRoute=t,this.store=new p.B({}),this.activatedRoute.queryParamMap.subscribe(e=>{null!=e.get("versionsListId")||(this.VersionDefinition=null)})}get VersionDefinition$(){return this.store.sliceState(e=>e.VersionDefinition)}get VersionDefinition(){return this.store.state.VersionDefinition}set VersionDefinition(e){this.store.patch({VersionDefinition:e})}}return e.\u0275fac=function(t){return new(t||e)(S.hc(R),S.hc(f.a))},e.\u0275prov=S.Qb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var U=i("JA5x"),q=i("QlLE");function M(e,t){if(1&e){const e=S.bc();S.ac(0,"div",7),S.ac(1,"span",8),S.Sc(2),S.pc(3,"async"),S.pc(4,"async"),S.Zb(),S.ac(5,"button",9),S.kc("click",function(){return S.Ic(e),S.oc().add()}),S.ac(6,"span"),S.Sc(7),S.pc(8,"abpLocalization"),S.Zb(),S.Zb(),S.Vb(9,"hr"),S.Zb()}if(2&e){const e=S.oc();S.Gb(2),S.Uc(" ",null==S.qc(3,3,e.Version$)?"\u5168\u90e8":S.qc(4,5,e.Version$).displayName," "),S.Gb(3),S.vc("nzType","primary"),S.Gb(2),S.Uc("+ ",S.qc(8,7,"AbpIdentityServer::Add"),"")}}function Q(e,t){if(1&e&&S.Vb(0,"nz-extensible-table",10),2&e){const e=S.oc();S.vc("data",e.datas)("recordsTotal",e.count)("list",e.list)}}function O(e,t){1&e&&(S.ac(0,"h4",13),S.Sc(1,"\u8acb\u9078\u64c7\u653f\u5e9c\u55ae\u4f4d"),S.Zb())}function E(e,t){if(1&e&&(S.ac(0,"nz-card"),S.Vb(1,"nz-empty",11),S.Qc(2,O,2,0,"ng-template",null,12,S.Rc),S.Zb()),2&e){const e=S.Fc(3);S.Gb(1),S.vc("nzNotFoundContent",null)("nzNotFoundContent",e)}}function B(e,t){if(1&e&&(S.ac(0,"h3"),S.Sc(1),S.Zb()),2&e){const e=S.oc();S.Gb(1),S.Tc(null!=e.selected&&e.selected.id?"\u7de8\u8f2f\u653f\u5e9c\u8cc7\u6e90":"\u65b0\u589e\u653f\u5e9c\u8cc7\u6e90")}}function j(e,t){if(1&e){const e=S.bc();S.ac(0,"form",14),S.kc("ngSubmit",function(){return S.Ic(e),S.oc().save()}),S.Vb(1,"abp-extensible-form",15),S.Zb()}if(2&e){const e=S.oc();S.vc("formGroup",e.form),S.Gb(1),S.vc("selectedRecord",e.selected)}}function P(e,t){if(1&e){const e=S.bc();S.ac(0,"button",16,17),S.Sc(2),S.pc(3,"abpLocalization"),S.Zb(),S.ac(4,"abp-button",18),S.kc("click",function(){return S.Ic(e),S.oc().save()}),S.Sc(5),S.pc(6,"abpLocalization"),S.Zb()}if(2&e){const e=S.oc();S.Gb(2),S.Uc(" ",S.qc(3,3,"AbpIdentity::Cancel")," "),S.Gb(2),S.vc("disabled",null==e.form?null:e.form.invalid),S.Gb(1),S.Tc(S.qc(6,5,"AbpIdentity::Save"))}}let $=(()=>{class e{constructor(e,t,i,n,s,o,r,c){this.router=e,this.extensionsService=t,this.pageService=i,this.confirmationService=n,this.toasterService=s,this.injector=o,this.list=r,this.postStateService=c,this.subs=[],this.VersionParams={versionDefinitionId:null},this.isModalVisible=!1,this.modalBusy=!1,this.selected={},this.keyword="",this.datas=[],this.count=0}ngOnInit(){this.Version$=this.postStateService.VersionDefinition$,this.subs.push(this.extensionsService.Actions$["FormManagement::FS.Version"].subscribe(e=>{switch(e.name){case"Edit":this.edit(e.record.id);break;case"Delete":this.deleteItem(e.record.id);break;case"Add":this.add()}})),this.list.maxResultCount=10,this.subs.push(this.Version$.subscribe(e=>{this.VersionParams.versionDefinitionId=null==e?void 0:e.id,this.hookToQuery()}))}hookToQuery(){this.hookToQueryScribe&&this.hookToQueryScribe.unsubscribe(),this.hookToQueryScribe=this.list.hookToQuery(e=>this.pageService.getVersion(Object.assign(Object.assign({},e),this.VersionParams))).subscribe(e=>{this.datas=e.items,this.count=e.totalCount})}deleteItem(e){}add(){}edit(e){}openModal(){this.buildForm(),this.isModalVisible=!0}buildForm(){const e=new g.k(this.injector,this.selected);this.form=Object(g.p)(e)}save(){}search(){this.list.get()}}return e.\u0275fac=function(t){return new(t||e)(S.Ub(f.j),S.Ub(k.b),S.Ub(R),S.Ub(v.e),S.Ub(v.o),S.Ub(S.w),S.Ub(p.F),S.Ub(A))},e.\u0275cmp=S.Ob({type:e,selectors:[["version"]],features:[S.Fb([p.F,{provide:g.d,useValue:"FormManagement::FS.Version"}])],decls:13,vars:9,consts:[["class","mb-md",4,"ngIf"],[3,"data","recordsTotal","list",4,"ngIf","ngIfElse"],["noData",""],["size","md",3,"visible","busy","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],[1,"mb-md"],[1,"h3"],["nz-button","",2,"float","right",3,"nzType","click"],[3,"data","recordsTotal","list"],[3,"nzNotFoundContent"],["contentTpl",""],[1,"text-secondary"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[3,"selectedRecord"],["type","button",1,"btn","btn-secondary"],["abpClose",""],["iconClass","fa fa-check",3,"disabled","click"]],template:function(e,t){if(1&e&&(S.Qc(0,M,10,9,"div",0),S.pc(1,"async"),S.Qc(2,Q,1,3,"nz-extensible-table",1),S.pc(3,"async"),S.Qc(4,E,4,2,"ng-template",null,2,S.Rc),S.ac(6,"abp-modal",3),S.kc("visibleChange",function(e){return t.isModalVisible=e}),S.Qc(7,B,2,1,"ng-template",null,4,S.Rc),S.Qc(9,j,2,2,"ng-template",null,5,S.Rc),S.Qc(11,P,7,7,"ng-template",null,6,S.Rc),S.Zb()),2&e){const e=S.Fc(5);S.vc("ngIf",S.qc(1,5,t.Version$)),S.Gb(2),S.vc("ngIf",S.qc(3,7,t.Version$))("ngIfElse",e),S.Gb(4),S.vc("visible",t.isModalVisible)("busy",t.modalBusy)}},directives:[h.q,v.h,I.a,w.a,z.a,T.a,U.a,q.b,F.B,F.r,p.w,F.k,N.j,g.g,v.b],pipes:[h.b,p.H],styles:[""]}),e})();const H=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=S.Ob({type:e,selectors:[["ng-component"]],decls:6,vars:0,consts:[["nzGutter","16"],["nzSpan","8"],["nzSpan","16"]],template:function(e,t){1&e&&(S.ac(0,"nz-row",0),S.ac(1,"nz-col",1),S.Vb(2,"versiondefinition"),S.Zb(),S.ac(3,"nz-col",2),S.ac(4,"div"),S.Vb(5,"version"),S.Zb(),S.Zb(),S.Zb())},directives:[y.c,y.a,D,$],styles:["nz-select[_ngcontent-%COMP%]{margin-right:8px;width:220px}.bg-white[_ngcontent-%COMP%]{background-color:#fff}"]}),e})()}];let J=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=S.Sb({type:e}),e.\u0275inj=S.Rb({imports:[[f.n.forChild(H)],f.n]}),e})();var K=i("CzEO"),X=i("PTRe"),_=i("rMZv"),W=i("Nqz0"),Y=i("FwiY"),ee=i("dEAy"),te=i("bE2y"),ie=i("D9mS"),ne=i("qAZ0"),se=i("zAKX"),oe=i("0lU3"),re=i("oyxB"),ce=i("O3k0"),ae=i("7Vzv");const ue=[y.b,X.d,_.f,W.d,I.c,Y.b,ee.b,te.c,ie.b,ne.b,U.b,se.c,oe.b,re.c,ce.c,q.c],le=[{path:"",pathMatch:"full",redirectTo:"versions"},{path:"",children:[{path:"versions",loadChildren:(()=>{class e{static forChild(){return{ngModule:e,providers:[]}}static forLazy(){return new p.E(e.forChild())}static forEarly(){return new p.E(e.forChild())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=S.Sb({type:e}),e.\u0275inj=S.Rb({providers:[R],imports:[[h.c,J,g.o,v.n,p.o,ae.c,...ue,K.b.forRoot()]]}),e})().forEarly}]}];let de=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=S.Sb({type:e}),e.\u0275inj=S.Rb({imports:[[f.n.forChild(le)],f.n]}),e})(),be=(()=>{class e{static forChild(){return{ngModule:e,providers:[]}}static forLazy(){return new p.E(e.forChild())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=S.Sb({type:e}),e.\u0275inj=S.Rb({imports:[[ae.c,p.o,de],ae.c]}),e})()}}]);