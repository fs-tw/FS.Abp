<nz-card>

  <div nz-row>
    <div nz-col nzSpan="5">
      <button nz-button [routerLink]="['/cms/post']" [queryParams]="{blog: i.blogCodeId}" [nzType]="'default'" [nzSize]="'large'">
        <i class="anticon anticon-left"></i>
        <span>返回</span>
      </button>

    </div>
    <div nz-col nzSpan="10">

      <form nz-form #f="ngForm" se-container="1" labelWidth="150">

        <se label="公告類型">
          <nz-select [(ngModel)]="i.blogCodeId" name="blogCodeId">
            <nz-option *ngFor="let newItem of news" [nzValue]="newItem.id" [nzLabel]="newItem.displayName"></nz-option>
          </nz-select>
        </se>

        <se label="標題" error="必填" required>
          <input type="text" nz-input [(ngModel)]="i.title" name="title" required>
        </se>

        <se label="副標題">
          <input type="text" nz-input [(ngModel)]="i.subtitle" name="Subtitle">
        </se>

        <se label="顯示類型" required>
          <nz-select [(ngModel)]="i.displayMode" name="type">
            <nz-option [nzValue]="0" nzLabel="內文"></nz-option>
            <nz-option [nzValue]="1" nzLabel="連結"></nz-option>
          </nz-select>
        </se>

        <se label="內文" *ngIf="i.displayMode == 0">
          <textarea  nz-input name="content" [(ngModel)]="i.content"
            [nzAutosize]="{ minRows: 2, maxRows: 6 }"></textarea>           
        </se>

        <se label="連結"   *ngIf="i.displayMode == 1">         
            <input type="text" nz-input [(ngModel)]="i.url" name="url">
        </se>


        <se label="發佈時間" required>
          <nz-date-picker [(ngModel)]="i.published_At" name="published_At"></nz-date-picker>
        </se>


        <se label="上傳封面圖">
          <nz-upload [nzBeforeUpload]="beforeUpload" nzType="drag" [nzMultiple]="true">
            <p class="ant-upload-drag-icon">
              <i nz-icon type="inbox"></i>
            </p>
            <p class="ant-upload-text">請將檔案拖移至此，或按下此圖示上傳檔案</p>
          </nz-upload>

          <nz-table [(nzData)]="fileList" *ngIf="fileList.length > 0" nzSimple="false">
            <thead>
              <tr>
                <th>名稱</th>
                <th>設定</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let data of fileList">
                <td>{{data.name}}</td>
                <td><a (click)="removeFile(data)">刪除</a></td>
              </tr>
            </tbody>
          </nz-table>
        </se>



        <se>
          <button nz-button nzType="primary" (click)="save()" [disabled]="f.invalid">            
            <span *ngIf="!isUpdate" >建立</span>
            <span *ngIf="isUpdate" >更新</span>
          </button>
          <!-- <button nz-button nzType="default" (click)="initData()">繼續建立</button> -->
        </se>
      </form>

    </div>
    <!-- <div nz-col nzSpan="7"></div> -->
  </div>

</nz-card>