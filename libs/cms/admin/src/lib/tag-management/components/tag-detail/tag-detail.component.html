<!-- <nz-card>
  <form nz-form #f="ngForm" se-container="1" *ngIf="(data && isCreate) || (editData && !isCreate)">
    <se label="名稱">
      <input nz-input *ngIf="!isCreate" 
            [(ngModel)]="editParent.codeSetting.codes.displayName" name="editName" required />
      <input type="text" nz-input *ngIf="isCreate"
            [(ngModel)]="data.codes[0].displayName " name="name" required />
    </se>

    <se [label]="addItem" col="1">
      <ng-template #addItem>
        <button nz-button (click)="addTag()">新增項目</button>
      </ng-template>
      <div
        style="
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        "
      >
        <ng-container *ngIf="isCreate; else EditInputGroup">
          <nz-input-group *ngFor="let tag of data.codes[0].children; let i = index"
            [nzPrefix]="prefixIconSearch">
            <input
              type="text"
              nz-input
              [(ngModel)]="tag.displayName"
              [name]="'tag' + i"
              required
            />
            <ng-template #prefixIconSearch>
              <i nz-icon nzType="close" class="text-red pointer" (click)="removeTag(i)"></i>
            </ng-template>
          </nz-input-group>
        </ng-container>

        <ng-template #EditInputGroup>
          <nz-input-group *ngFor="let tag of editItems; let i = index"
          [nzPrefix]="prefixIconSearch">
          <input
            type="text"
            nz-input
            [(ngModel)]="tag.displayName"
            [name]="'tag' + i"
            required
          />
          <ng-template #prefixIconSearch>
            <i nz-icon nzType="close" class="text-red pointer" (click)="removeTag(i)"></i>
          </ng-template>
        </nz-input-group>
        </ng-template>
        
      </div>
    </se>

    <se>
      <button nz-button nzType="primary" (click)="save()">存檔</button>
    </se>
  </form>
</nz-card> -->

<nz-card>
  <form nz-form #f="ngForm" se-container="1">
    <se label="名稱">
      <input type="text" nz-input name="name" required [ngModel]="data.name" />
    </se>

    <se [label]="addItem">
      <ng-template #addItem>
        <button nz-button (click)="addOption()">新增項目</button>
      </ng-template>
      <div style="display: grid;grid-template-columns: repeat(auto-fill,200px);gap:8px">
        <div *ngFor="let inputItem of inputList;let i = index">
          <nz-input-group [nzAddOnBefore]="addOnBeforeTemplate">
            <input nz-input [(ngModel)]="inputItem.name" />
          </nz-input-group>
          <ng-template #addOnBeforeTemplate>
            <i nz-icon nzType="close" class="pointer text-red" (click)="removeOption(i)"></i>
          </ng-template>
        </div>
      </div>

      <div *ngFor="let i of data.children">
      <nz-input-group [nzAddOnBefore]="addOnBeforeTemplate">
        <input nz-input value={{i.tag}} />
      </nz-input-group>

      <ng-template #addOnBeforeTemplate>
        <i nz-icon nzType="close" class="pointer text-red" (click)="removeOption(i)"></i>
      </ng-template>
    </div>

    </se>

    
    <se>
      <button nz-button nzType="primary">存檔</button>
    </se>
  </form>
</nz-card>