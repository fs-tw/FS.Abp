<ng-container *ngIf="form">
  <ng-container *abpPropData="let data; fromList: propList; withRecord: record">
    <ng-container *ngFor="let prop of propList; let first = first; trackBy: track.by('name')">
      <ng-container *ngIf="prop.visible(data)">
        <ng-container
          [formGroupName]="extraPropertiesKey"
          *ngIf="extraProperties.controls[prop.name]; else tempDefault"
        >
          <nz-extensible-form-prop [prop]="prop" [data]="data"></nz-extensible-form-prop>
        </ng-container>

        <ng-template #tempDefault>
          <nz-extensible-form-prop
            *ngIf="form.get(prop.name)"
            [prop]="prop"
            [data]="data"
            [first]="first"
          ></nz-extensible-form-prop>
        </ng-template>
      </ng-container>
    </ng-container>
  </ng-container>
</ng-container>
