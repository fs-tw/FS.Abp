<ng-container *ngIf="store$ | async as store">
  <div class="alain-ms__sidebar-wrap">
    <div
      *ngIf="store.sidebarConfig.hasProductNav"
      class="alain-ms__sidebar-product-all"
      (click)="showProduct = !showProduct"
    >
      <div class="alain-ms__sidebar-product alain-ms__sidebar-product-all-wrap">
        <i class="alain-ms__sidebar-product-icon" nz-icon nzType="appstore"></i>
        <span class="alain-ms__sidebar-product-name">{{ l.text }}</span>
        <span class="alain-ms__sidebar-product-toolbar">
          <i nz-icon nzType="right"></i>
        </span>
      </div>
    </div>
    <ul class="alain-ms__sidebar-product-quick">
      <li
        class="alain-ms__sidebar-product"
        *ngFor="let i of shortcuts$ | async; let idx = index"
      >
        <i
          class="alain-ms__sidebar-product-icon {{ i.icon }} "
          [link-to]="i"
          (linkToChanged)="showProduct = false"
        ></i>
        <a
          class="alain-ms__sidebar-product-name"
          [link-to]="i"
          (linkToChanged)="showProduct = false"
        >
          {{ i.name }}
        </a>
      </li>
    </ul>
  </div>
  <div class="alain-ms__sidebar-products">
    <div class="alain-ms__products">
      <div class="alain-ms__products-close" (click)="showProduct = false">
        <i nz-icon nzType="close"></i>
      </div>
      <div class="alain-ms__products-left">
        <div class="alain-ms__products-category-wrap" #categoryEl>
          <div class="d-flex">
            <div
              *ngFor="let c of searchList"
              class="alain-ms__products-category-column"
            >
              <div *ngFor="let p of c" class="alain-ms__products-category">
                <h3
                  class="alain-ms__products-category-title"
                  id="product-cat-{{ p._id }}"
                >
                  {{ p.name }}
                </h3>
                <ul class="list-unstyled">
                  <li
                    *ngFor="let i of p.products"
                    class="alain-ms__products-category-item"
                    [ngClass]="{
                      'alain-ms__products-category-item-active': i.shortcut
                    }"
                  >
                    <a
                      [link-to]="i"
                      (linkToChanged)="showProduct = false"
                      class="alain-ms__products-category-item-link"
                      >{{ i.name }}</a
                    >
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="alain-ms__products-right">
        <nz-anchor
          nzAffix="false"
          nzContainer=".alain-ms__products-category-wrap"
          nzOffsetTop="150"
          nzShowInkInFixed="false"
        >
          <nz-link
            *ngFor="let i of searchCategories"
            nzHref="#product-cat-{{ i._id }}"
            [nzTitle]="i.name"
          ></nz-link>
        </nz-anchor>
      </div>
    </div>
  </div>
</ng-container>
