{"version":3,"file":"fs-tw-theme-alain-ms-layout.js","sources":["../../../../libs/theme-alain-ms/layout/src/lib/models/layout.ts","../../../../libs/theme-alain-ms/layout/src/lib/ms/ms.service.ts","../../../../libs/theme-alain-ms/layout/src/lib/ms/_widgets/all-nav/all-nav.service.ts","../../../../libs/theme-alain-ms/layout/src/lib/ms/shared/link-to/link-to.directive.ts","../../../../libs/theme-alain-ms/layout/src/lib/ms/_widgets/all-nav/all-nav.component.html","../../../../libs/theme-alain-ms/layout/src/lib/ms/_widgets/all-nav/all-nav.component.ts","../../../../libs/theme-alain-ms/layout/src/lib/ms/_widgets/langs/langs.component.html","../../../../libs/theme-alain-ms/layout/src/lib/ms/_widgets/langs/langs.component.ts","../../../../libs/theme-alain-ms/layout/src/lib/ms/services/topbar.service.ts","../../../../libs/theme-alain-ms/layout/src/lib/ms/_widgets/notice/notice.component.html","../../../../libs/theme-alain-ms/layout/src/lib/ms/_widgets/notice/notice.component.ts","../../../../libs/theme-alain-ms/layout/src/lib/ms/_widgets/region/region.service.ts","../../../../libs/theme-alain-ms/layout/src/lib/ms/_widgets/region/region.component.html","../../../../libs/theme-alain-ms/layout/src/lib/ms/_widgets/region/region.component.ts","../../../../libs/theme-alain-ms/layout/src/lib/ms/_widgets/search/search.component.html","../../../../libs/theme-alain-ms/layout/src/lib/ms/_widgets/search/search.component.ts","../../../../libs/theme-alain-ms/layout/src/lib/ms/_widgets/user/user.component.html","../../../../libs/theme-alain-ms/layout/src/lib/ms/_widgets/user/user.component.ts","../../../../libs/theme-alain-ms/layout/src/lib/services/routes.processor.ts","../../../../libs/theme-alain-ms/layout/src/lib/services/layout-state.service.ts","../../../../libs/theme-alain-ms/layout/src/lib/ms/services/product.service.ts","../../../../libs/theme-alain-ms/layout/src/lib/ms/components/sidebar/sidebar.component.html","../../../../libs/theme-alain-ms/layout/src/lib/ms/components/sidebar/sidebar.component.ts","../../../../libs/theme-alain-ms/layout/src/lib/ms/components/topbar/topbar.component.html","../../../../libs/theme-alain-ms/layout/src/lib/ms/components/topbar/topbar.component.ts","../../../../libs/theme-alain-ms/layout/src/lib/ms/shared/help/help.component.html","../../../../libs/theme-alain-ms/layout/src/lib/ms/shared/help/help.component.ts","../../../../libs/theme-alain-ms/layout/src/lib/ms/shared/page-bar/page-bar.component.html","../../../../libs/theme-alain-ms/layout/src/lib/ms/shared/page-bar/page-bar.component.ts","../../../../libs/theme-alain-ms/layout/src/lib/ms/shared/page-nav/page-nav.component.html","../../../../libs/theme-alain-ms/layout/src/lib/ms/shared/page-nav/page-nav.component.ts","../../../../libs/theme-alain-ms/layout/src/lib/ms/shared/page-single/page-single.component.html","../../../../libs/theme-alain-ms/layout/src/lib/ms/shared/page-single/page-single.component.ts","../../../../libs/theme-alain-ms/layout/src/lib/ms/shared/panel/panel.component.html","../../../../libs/theme-alain-ms/layout/src/lib/ms/shared/panel/panel.component.ts","../../../../libs/theme-alain-ms/layout/src/lib/ms/shared/service-layout/service-layout.component.html","../../../../libs/theme-alain-ms/layout/src/lib/ms/shared/service-layout/service-layout.component.ts","../../../../libs/theme-alain-ms/layout/src/lib/ms/shared/shared.module.ts","../../../../libs/theme-alain-ms/layout/src/lib/ms/ms.component.html","../../../../libs/theme-alain-ms/layout/src/lib/ms/ms.component.ts","../../../../libs/theme-alain-ms/layout/src/lib/providers/init.provider.ts","../../../../libs/theme-alain-ms/layout/src/lib/layout.module.ts","../../../../libs/theme-alain-ms/layout/src/fs-tw-theme-alain-ms-layout.ts"],"sourcesContent":["import { TemplateRef } from '@angular/core';\r\nimport { TreeNode } from '@abp/ng.core';\r\nimport { RouterStateSnapshot } from '@angular/router';\r\nimport { MenuIcon } from '@delon/theme';\r\nimport { Layout as DelonLayout, Menu as DelonMenu } from '@delon/theme';\r\n\r\nexport namespace Layout {\r\n  export const defaultNavConfig:MSServiceNavConfig = {\r\n    title: '系統管理',\r\n    doc: '系統管理',\r\n  };\r\n\r\n  export const defaultSidebarConfig:SidebarConfig = {\r\n    hasSidebar: true,\r\n    hasAllNav: false,\r\n    hasPageNav: true,\r\n    hasProductNav: false,\r\n  };\r\n  export interface State {\r\n    isFetching: boolean;\r\n\r\n    //hasAllNav: boolean;\r\n    //hasSidebar: boolean;\r\n    categories: MSProductCategory[];\r\n\r\n    navConfig: MSServiceNavConfig;\r\n    sidebarConfig: SidebarConfig;\r\n    //hasPageNav: boolean;\r\n    pageNavs: MSMenu[];\r\n\r\n    //processor?: Processor;\r\n  }\r\n}\r\n\r\nexport interface MSLayout extends DelonLayout {\r\n  /**\r\n   * 是否有顶部\r\n   */\r\n  hasTopbar: boolean;\r\n  /**\r\n   * 是否有侧边栏\r\n   */\r\n  hasSidebar: boolean;\r\n}\r\nexport interface MSProductCategory {\r\n  [key: string]: any;\r\n\r\n  name: string;\r\n\r\n  id?: string;\r\n\r\n  products?: MSProduct[];\r\n}\r\nexport interface MSProduct extends MSLink {\r\n  [key: string]: any;\r\n\r\n  id: string;\r\n\r\n  name: string;\r\n\r\n  icon?: string | MenuIcon;\r\n\r\n  description?: string;\r\n\r\n  shortcut?: boolean;\r\n\r\n  /** Link for current product */\r\n  link?: string;\r\n}\r\nexport interface MSProductI18n {\r\n  [key: string]: any;\r\n  keywords?: string;\r\n  allProduct?: string;\r\n  hasResult?: string;\r\n  noResult?: string;\r\n  text?: string;\r\n  recent?: string;\r\n}\r\n\r\nexport interface MSLink {\r\n  /** 路由或外链地址，若外链务必指定 `target` 值 */\r\n  link?: string;\r\n  /** 指定目标打开方式，都视为外链 */\r\n  target?: '_blank' | '_self' | '_parent' | '_top';\r\n\r\n  text?: string;\r\n}\r\nexport interface SidebarConfig {\r\n  hasAllNav?: boolean;\r\n\r\n  hasSidebar?: boolean;\r\n\r\n  hasPageNav?: boolean;\r\n\r\n  hasProductNav?: boolean;\r\n}\r\nexport interface MSServiceNavConfig {\r\n  /** 服务导航标题 */\r\n  title?: string;\r\n  /** 服务导航标题（i18n） */\r\n  titleI18n?: string;\r\n  /** 次级导航上一级路径，若存在时，导航标题将被忽略为后退图标 */\r\n  backHref?: string;\r\n  /** 文档页面标题 */\r\n  doc?: string;\r\n  /** 文档页面标题（i18n） */\r\n  docI18n?: string;\r\n\r\n  /** PageNav node name set route name then display children node  */\r\n  name?: string;\r\n}\r\n\r\nexport interface MSMenu extends DelonMenu {\r\n  [key: string]: any;\r\n}\r\n\r\n\r\n","import { BreakpointObserver } from '@angular/cdk/layout';\r\nimport { Injectable, OnDestroy } from '@angular/core';\r\nimport { Layout, SettingsService, _HttpClient } from '@delon/theme';\r\n//import { environment } from '@env/environment';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { MSLayout } from '../models/layout';\r\n\r\n/**\r\n * 用于维护布局数据\r\n */\r\n@Injectable({ providedIn: 'root' })\r\nexport class BrandService implements OnDestroy {\r\n  private notify$ = new BehaviorSubject<string | null>(null);\r\n  private _isMobile = false;\r\n\r\n  /** 顶部高度，若变更需要同时重新指定 LESS 变量：`@alain-ms-topbar-height` 值 */\r\n  readonly topHeight = 50;\r\n\r\n  // #region fields\r\n\r\n  get notify(): Observable<string | null> {\r\n    return this.notify$.asObservable();\r\n  }\r\n\r\n  get isMobile(): boolean {\r\n    return this._isMobile;\r\n  }\r\n\r\n  get layout(): MSLayout {\r\n    return this.settings.layout as MSLayout;\r\n  }\r\n\r\n  hideNav = false;\r\n\r\n  // #endregion\r\n\r\n  constructor(bm: BreakpointObserver, private settings: SettingsService) {\r\n    // fix layout data\r\n    settings.setLayout({\r\n      //...(environment as any).ay,\r\n      ...settings.layout,\r\n      hasTopbar: true,\r\n      hasSidebar: false,\r\n      hasFixed: false,\r\n    });\r\n\r\n    const mobileMedia = 'only screen and (max-width: 767.99px)';\r\n    bm.observe(mobileMedia).subscribe((state) => this.checkMedia(state.matches));\r\n    this.checkMedia(bm.isMatched(mobileMedia));\r\n  }\r\n\r\n  private checkMedia(value: boolean): void {\r\n    this._isMobile = value;\r\n    this.layout.collapsed = this._isMobile;\r\n    this.notify$.next('mobile');\r\n  }\r\n\r\n  setLayout(name: string | Layout, value?: any): void {\r\n    this.settings.setLayout(name, value);\r\n    this.notify$.next('layout');\r\n  }\r\n\r\n  setTopbar(status: boolean): void {\r\n    this.setLayout('hasTopbar', status);\r\n  }\r\n\r\n  setSidebar(status: boolean): void {\r\n    this.setLayout('hasSidebar', status);\r\n  }\r\n\r\n  setFixed(status: boolean): void {\r\n    this.setLayout('hasFixed', status);\r\n  }\r\n\r\n  triggerNotify(type: string = 'custom'): void {\r\n    this.notify$.next(type);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.notify$.unsubscribe();\r\n  }\r\n}\r\n","import { Inject, Injectable } from '@angular/core';\r\n// import { I18NService } from '@core';\r\nimport { ALAIN_I18N_TOKEN, _HttpClient } from '@delon/theme';\r\nimport { Observable, of } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { ArrayService } from '@delon/util';\r\nimport { MSLink } from '../../../models/layout';\r\nimport { LayoutStateService } from '../../../services/layout-state.service';\r\nimport { RoutesService, LocalizationPipe } from '@abp/ng.core';\r\n\r\nexport interface MSAllNavData {\r\n  nav?: MSAllNav[];\r\n  navBottom?: MSAllNavItem[];\r\n  bottomText?: string;\r\n}\r\n\r\n// tslint:disable-next-line: no-use-before-declare\r\nexport interface MSAllNav extends MSAllNavItem {\r\n  /**\r\n   * 二级菜单\r\n   * - 若指定则 `left`、`right` 失效\r\n   * - 最多只支持一层\r\n   */\r\n  children?: MSAllNav[];\r\n  /**\r\n   * 左边分类\r\n   */\r\n  left?: MSAllNavCategory[];\r\n  /**\r\n   * 左边分类栏数，默认：`4`\r\n   */\r\n  leftColumn?: number;\r\n  /**\r\n   * 分栏后的左边分类，用于渲染\r\n   */\r\n  _left?: MSAllNavCategoryColumn[];\r\n  /**\r\n   * 右边分类\r\n   */\r\n  right?: MSAllNavCategory[];\r\n\r\n  level?: number;\r\n  parent?: MSAllNav;\r\n  active?: boolean;\r\n}\r\n\r\nexport interface MSAllNavCategory {\r\n  text: string;\r\n  list?: MSAllNavItem[];\r\n}\r\n\r\nexport interface MSAllNavCategoryColumn {\r\n  list: MSAllNavCategory[];\r\n  count: number;\r\n  idx: number;\r\n}\r\n\r\nexport interface MSAllNavItem extends MSLink {\r\n  /** 提醒标识，红色字眼，例如：HOT,NEW */\r\n  tip?: string;\r\n}\r\n\r\n/**\r\n * 顶部菜单所有菜单数据，几个注意点：\r\n * - 当前处理的数据源格式为 `./assets/tmp/all-nav-en-US.json`\r\n * - 最终处理数据以 `all-nav.interface.ts` 系列接口为准\r\n */\r\n@Injectable({ providedIn: 'root' })\r\nexport class MSAllNavService {\r\n  private _data!: MSAllNavData;\r\n\r\n  get allL2(): MSAllNav[] {\r\n    return this._data.nav!.filter((w) => w.children && w.children.length > 0);\r\n  }\r\n\r\n  get allPanel(): MSAllNav[] {\r\n    return this._data.nav!.reduce(\r\n      (p: MSAllNav[], c: MSAllNav) =>\r\n        (p = p.concat(c.children ? c.children : c)),\r\n      []\r\n    );\r\n  }\r\n\r\n  getData(): Observable<MSAllNavData> {\r\n    return this._data ? of(this._data) : this.getByHttp();\r\n  }\r\n\r\n  constructor(\r\n    private routesService: RoutesService,\r\n    private localizationPipe: LocalizationPipe,\r\n    private http: _HttpClient,\r\n    private arrSrv: ArrayService //  @Inject(ALAIN_I18N_TOKEN) private i18nSrv: I18NService\r\n  ) {}\r\n\r\n  private fixData(data: MSAllNavData): MSAllNavData {\r\n    const splitColumn = (item: MSAllNav) => {\r\n      if (!item.left) {\r\n        return;\r\n      }\r\n      item.leftColumn = item.leftColumn || 2;\r\n      const columns: MSAllNavCategoryColumn[] = new Array(item.leftColumn)\r\n        .fill({})\r\n        .map((_, idx) => ({\r\n          list: [],\r\n          count: 0,\r\n          idx,\r\n        }));\r\n      item.left\r\n        .filter((w) => w.list)\r\n        .forEach((category) => {\r\n          const idx = [...columns].sort((a, b) => a.count - b.count)[0].idx;\r\n          columns[idx].list.push(category);\r\n          columns[idx].count += category.list!.length;\r\n        });\r\n      item._left = columns;\r\n    };\r\n    data.nav!.forEach((p1) => {\r\n      p1.level = 1;\r\n      if (p1.children) {\r\n        p1.children.forEach((p2) => {\r\n          p2.parent = p1;\r\n          p2.level = 2;\r\n          splitColumn(p2);\r\n        });\r\n      } else {\r\n        splitColumn(p1);\r\n      }\r\n    });\r\n    return data;\r\n  }\r\n\r\n  private getByHttp(): Observable<MSAllNavData> {\r\n    return this.routesService.tree$.pipe(\r\n      map((r) => {\r\n        let result: MSAllNavData = {\r\n          navBottom: [],\r\n          bottomText: 'Further.',\r\n          nav: [],\r\n        };\r\n        result.nav = r\r\n          .filter((x) => !this.routesService.hide(x))\r\n          .map((x) => {\r\n            let allNav = {\r\n              text: this.localizationPipe.transform(x.name),\r\n              left: [],\r\n            };\r\n            x.children\r\n              .filter((y) => !this.routesService.hide(y))\r\n              .forEach((y) => {\r\n                if (y?.children?.length > 0) {\r\n                  allNav.left.push({\r\n                    text: this.localizationPipe.transform(y.name),\r\n                    list: y.children.map((z) => {\r\n                      return {\r\n                        text: this.localizationPipe.transform(z.name),\r\n                        link: z.path,\r\n                      };\r\n                    }),\r\n                  });\r\n                } else {\r\n                  result.navBottom.push({\r\n                    text: this.localizationPipe.transform(y.name),\r\n                    link: y.path,\r\n                  });\r\n                }\r\n              });\r\n            return allNav;\r\n          });\r\n        this._data = this.fixData(result);\r\n        return this._data;\r\n      })\r\n    );\r\n  }\r\n\r\n  refreshActive(i: MSAllNav): void {\r\n    this.arrSrv.visitTree(this._data.nav!, (item: MSAllNav) => {\r\n      item.active = false;\r\n    });\r\n    while (i) {\r\n      i.active = true;\r\n      i = i.parent!;\r\n    }\r\n  }\r\n}\r\n","import { Directive, EventEmitter, HostListener, Input, Output } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { MSLink } from '../../../models/layout';\r\n\r\n@Directive({ selector: '[link-to]' })\r\nexport class MSLinkToDirective {\r\n  constructor(private router: Router) {}\r\n\r\n  @Input('link-to') i!: MSLink;\r\n\r\n  @Output() linkToChanged = new EventEmitter<MouseEvent>();\r\n\r\n  @HostListener('click', ['$event'])\r\n  _click(e: MouseEvent): void {\r\n    const { link, target } = this.i;\r\n    if (target != null) {\r\n      if (target === '_blank') {\r\n        window.open(link);\r\n      } else {\r\n        window.location.href = link!;\r\n      }\r\n      this.linkToChanged.emit(e);\r\n      return;\r\n    }\r\n    setTimeout(() => {\r\n      this.router.navigateByUrl(link!).then(() => this.linkToChanged.emit(e));\r\n    });\r\n  }\r\n}\r\n","<div class=\"alain-ms__an-trigger\">\r\n  <i nz-icon nzType=\"bars\"></i>\r\n  <nz-spin *ngIf=\"open && !data\"></nz-spin>\r\n</div>\r\n<ng-template #menuTpl let-ls>\r\n  <ul class=\"alain-ms__an-menu\">\r\n    <li\r\n      *ngFor=\"let i of ls\"\r\n      class=\"alain-ms__an-menu-item\"\r\n      [ngClass]=\"{ 'alain-ms__an-menu-item--active': i.active }\"\r\n      (mouseenter)=\"mouseHandle(i, true)\"\r\n    >\r\n      {{ i.text }}\r\n      <i nz-icon nzType=\"right\"></i>\r\n    </li>\r\n  </ul>\r\n</ng-template>\r\n<ng-template #categoryTpl let-ls>\r\n  <div *ngFor=\"let p of ls\" class=\"alain-ms__an-category\">\r\n    <h3 class=\"alain-ms__an-category-title\">{{ p.text }}</h3>\r\n    <div class=\"alain-ms__an-category-list\">\r\n      <a *ngFor=\"let i of p.list\" [link-to]=\"i\" (linkToChanged)=\"_leave()\" class=\"alain-ms__an-category-link\">\r\n        {{ i.text }}\r\n        <span *ngIf=\"i.tip\" class=\"alain-ms__an-category-tip\">{{ i.tip }}</span>\r\n      </a>\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n<div #dropdown class=\"alain-ms__an-dropdown\">\r\n  <div *ngIf=\"data\" class=\"alain-ms__an\">\r\n    <div class=\"alain-ms__an-panel alain-ms__an-panel-active alain-ms__an-level1\">\r\n      <div class=\"alain-ms__an-panel-inner\">\r\n        <ng-template [ngTemplateOutlet]=\"menuTpl\" [ngTemplateOutletContext]=\"{ $implicit: data.nav }\"></ng-template>\r\n        <div *ngIf=\"data.navBottom\" class=\"alain-ms__an-menu-bottom\">\r\n          <a *ngFor=\"let i of data.navBottom\" [link-to]=\"i\" (linkToChanged)=\"_leave()\">\r\n            {{ i.text }}\r\n            <i nz-icon nzType=\"share-alt\"></i>\r\n          </a>\r\n        </div>\r\n        <div *ngIf=\"data.bottomText\" class=\"alain-ms__an-bottom\">{{ data.bottomText }}</div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      *ngFor=\"let p of allL2\"\r\n      class=\"alain-ms__an-panel alain-ms__an-level2\"\r\n      [ngClass]=\"{ 'alain-ms__an-level2-active': p.active }\"\r\n    >\r\n      <div class=\"alain-ms__an-panel-inner\">\r\n        <ng-template [ngTemplateOutlet]=\"menuTpl\" [ngTemplateOutletContext]=\"{ $implicit: p.children }\"></ng-template>\r\n      </div>\r\n    </div>\r\n    <div\r\n      *ngFor=\"let i of allPanel\"\r\n      class=\"alain-ms__an-content alain-ms__an-level{{ i.level }}-content alain-ms__an-left-col-{{ i.leftColumn }}\"\r\n      [ngClass]=\"{ 'alain-ms__an-content-active': i.active }\"\r\n    >\r\n      <div *ngIf=\"i._left && i._left.length > 0\" class=\"alain-ms__an-left\">\r\n        <div *ngFor=\"let col of i._left\" class=\"alain-ms__an-left-col\">\r\n          <ng-template\r\n            [ngTemplateOutlet]=\"categoryTpl\"\r\n            [ngTemplateOutletContext]=\"{ $implicit: col.list }\"\r\n          ></ng-template>\r\n        </div>\r\n      </div>\r\n      <div *ngIf=\"i.right && i.right.length > 0\" class=\"alain-ms__an-right\">\r\n        <ng-template [ngTemplateOutlet]=\"categoryTpl\" [ngTemplateOutletContext]=\"{ $implicit: i.right }\"></ng-template>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { DOCUMENT } from '@angular/common';\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  HostListener,\r\n  Inject,\r\n  OnDestroy,\r\n  OnInit,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { auditTime, takeUntil } from 'rxjs/operators';\r\n\r\nimport { BrandService } from '../../ms.service';\r\nimport { MSAllNav, MSAllNavData, MSAllNavService } from './all-nav.service';\r\n\r\nconst ANT_TIMEOUT = 150;\r\n\r\n/**\r\n * 顶部所有菜单组件，当单页布局模式时渲染\r\n */\r\n@Component({\r\n  selector: 'ms-all-nav',\r\n  templateUrl: './all-nav.component.html',\r\n  host: {\r\n    '[class.alain-ms__an-active]': 'validOpen',\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MSAllNavComponent implements OnInit, OnDestroy {\r\n  private unsubscribe$ = new Subject<void>();\r\n\r\n  @ViewChild('dropdown', { static: true })\r\n  private dropdownEl!: ElementRef;\r\n  private loading = false;\r\n\r\n  $mouse = new Subject<{ i: MSAllNav; status: boolean }>();\r\n  open = false;\r\n  data!: MSAllNavData;\r\n\r\n  get allL2(): MSAllNav[] {\r\n    return this.srv.allL2;\r\n  }\r\n\r\n  get allPanel(): MSAllNav[] {\r\n    return this.srv.allPanel;\r\n  }\r\n\r\n  get validOpen(): boolean {\r\n    return this.data && this.open;\r\n  }\r\n\r\n  constructor(\r\n    private srv: MSAllNavService,\r\n    private brandSrv: BrandService,\r\n    private cdr: ChangeDetectorRef,\r\n    @Inject(DOCUMENT) private doc?: any,\r\n  ) {}\r\n\r\n  private handleOpen(status: boolean): void {\r\n    this.doc.body.classList[status ? 'add' : 'remove']('alain-ms__an-body');\r\n    this.open = status;\r\n    this.cdr.markForCheck();\r\n    this.updateHeight().load();\r\n  }\r\n\r\n  private load(): void {\r\n    if (this.loading || this.data) {\r\n      return;\r\n    }\r\n    this.loading = true;\r\n    this.srv.getData().subscribe((res) => {\r\n      this.data = res;\r\n      this.cdr.markForCheck();\r\n    });\r\n  }\r\n\r\n  private updateHeight(): this {\r\n    const height = window.innerHeight - this.brandSrv.topHeight;\r\n    (this.dropdownEl.nativeElement as HTMLElement).style.height = `${height}px`;\r\n    return this;\r\n  }\r\n\r\n  @HostListener('mouseenter')\r\n  _enter(): void {\r\n    if (!this.validOpen) {\r\n      this.handleOpen(true);\r\n    }\r\n  }\r\n\r\n  @HostListener('mouseleave')\r\n  _leave(): void {\r\n    this.handleOpen(false);\r\n  }\r\n\r\n  mouseHandle(i: MSAllNav, status: boolean): void {\r\n    this.$mouse.next({ i, status });\r\n  }\r\n\r\n  private handleMouse(i: MSAllNav): void {\r\n    this.srv.refreshActive(i);\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // this._enter();\r\n    const { $mouse, unsubscribe$ } = this;\r\n    $mouse\r\n      .asObservable()\r\n      .pipe(takeUntil(unsubscribe$), auditTime(ANT_TIMEOUT))\r\n      .subscribe((res) => this.handleMouse(res.i));\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    const { unsubscribe$ } = this;\r\n    unsubscribe$.next();\r\n    unsubscribe$.complete();\r\n  }\r\n}\r\n","<ng-container *ngIf=\"defaultLanguage$ | async as defaultLang\">\r\n  <span class=\"alain-ms__topbar-item-btn\" >\r\n    <span >{{ defaultLang.displayName }}</span>\r\n  </span>\r\n  <ul class=\"alain-ms__topbar-dd-menu\">\r\n    <li *ngFor=\"let lang of (dropdownLanguages$ | async)\" (click)=\"change(lang.cultureName)\">\r\n      <a class=\"alain-ms__topbar-dd-item\">{{ lang?.displayName }}</a>\r\n    </li>\r\n  </ul>\r\n</ng-container>\r\n\r\n","import { ConfigStateService, SessionStateService, ApplicationConfiguration } from '@abp/ng.core';\r\nimport { ChangeDetectionStrategy, Component } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport snq from 'snq';\r\n\r\n@Component({\r\n  selector: 'ms-langs',\r\n  templateUrl: './langs.component.html',\r\n  host: {\r\n    '[class.alain-ms__topbar-item]': 'true',\r\n    '[class.alain-ms__topbar-dd]': 'true',\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MSLangsComponent {\r\n\r\n  languages$ = this.configState.getDeep$('localization.languages');\r\n\r\n  get defaultLanguage$(): Observable<{ displayName: string; flagIcon: string }> {\r\n    return this.languages$.pipe(\r\n      map(languages => {\r\n        const lang: Partial<ApplicationConfiguration.Language> = snq(\r\n          () => languages.find(language => language.cultureName === this.selectedLangCulture),\r\n          {} as Partial<ApplicationConfiguration.Language>,\r\n        );\r\n        return {\r\n          displayName: lang.displayName || '',\r\n          flagIcon: lang.flagIcon,\r\n        };\r\n      }),\r\n    );\r\n  }\r\n\r\n  get dropdownLanguages$(): Observable<ApplicationConfiguration.Language[]> {\r\n    return this.languages$.pipe(\r\n      map(\r\n        languages =>\r\n          snq(() => languages.filter(lang => lang.cultureName !== this.selectedLangCulture)),\r\n        [],\r\n      ),\r\n    );\r\n  }\r\n\r\n  get selectedLangCulture(): string {\r\n    return this.sessionState.getLanguage();\r\n  }\r\n\r\n  constructor(\r\n    private configState: ConfigStateService,\r\n    private sessionState: SessionStateService\r\n  ) {\r\n  }\r\n\r\n\r\n  change(cultureName: string): void {\r\n    this.sessionState.setLanguage(cultureName);\r\n  }\r\n}\r\n","import { Inject, Injectable } from '@angular/core';\r\n// import { I18NService } from '@core';\r\nimport { ALAIN_I18N_TOKEN, _HttpClient } from '@delon/theme';\r\nimport { Observable, of } from 'rxjs';\r\nimport { tap } from 'rxjs/operators';\r\nimport { MSLink } from '../../models/layout';\r\n\r\nexport interface MSTopbar {\r\n  [key: string]: any;\r\n\r\n  messagess?: MSTopbarMessage[];\r\n\r\n  navLinks?: { [key: string]: MSTopbarNavLink };\r\n}\r\n\r\nexport interface MSTopbarMessage extends MSLink {\r\n  [key: string]: any;\r\n\r\n  className?: string;\r\n\r\n  title?: string;\r\n\r\n  createdTime?: string;\r\n}\r\n\r\nexport interface MSTopbarNavLink extends MSLink {\r\n  [key: string]: any;\r\n\r\n  id?: string;\r\n\r\n  text?: string;\r\n\r\n  className?: string;\r\n  /** 二级菜单，只支持一层 */\r\n  links?: MSTopbarNavLink[];\r\n}\r\n\r\n/**\r\n * 顶部菜单所有数据，几个注意点：\r\n * - 当前处理的数据源格式为 `./assets/tmp/topbar-en-US.json`\r\n * - 最终处理数据以 `topbar.interface.ts` 系列接口为准\r\n */\r\n@Injectable({ providedIn: 'root' })\r\nexport class MSTopbarService {\r\n  private _data!: MSTopbar;\r\n\r\n  get data(): MSTopbar {\r\n    return this._data;\r\n  }\r\n\r\n  get messages(): MSTopbarMessage[] {\r\n    return this._data.messagess!;\r\n  }\r\n\r\n  getData(): Observable<MSTopbar> {\r\n    return this._data ? of(this._data) : this.getByHttp();\r\n  }\r\n\r\n  getNav(key: string): MSTopbarNavLink {\r\n    return this._data.navLinks![key] || {};\r\n  }\r\n\r\n  constructor(\r\n    private http: _HttpClient,\r\n    //  @Inject(ALAIN_I18N_TOKEN) private i18nSrv: I18NService\r\n     ) {}\r\n\r\n  private getByHttp(): Observable<any> {\r\n    return this.http.get(`./assets/tmp/topbar-zh-TW.json`).pipe(\r\n      tap((res: any) => {\r\n        this._data = res;\r\n      }),\r\n    );\r\n  }\r\n}\r\n","<span class=\"alain-ms__topbar-item-btn\">\r\n  <span class=\"position-relative\">\r\n    {{ l.titleText }}<em *ngIf=\"list.length > 0\" class=\"alain-ms__topbar-item-num\">{{ list.length }}</em>\r\n  </span>\r\n</span>\r\n<div class=\"alain-ms__topbar-dd-menu\">\r\n  <div class=\"alain-ms__notice-hd\">\r\n    {{ l.title }}\r\n    <a class=\"brand-color\" [link-to]=\"l.subscribe\">{{ l.subscribe.title }}</a>\r\n  </div>\r\n  <a class=\"alain-ms__notice-item\" *ngFor=\"let i of list\" [link-to]=\"i\">\r\n    <div class=\"alain-ms__notice-item--title\">{{ i.title }}</div>\r\n    <span class=\"alain-ms__notice-item--time\">{{ i.time }}</span>\r\n  </a>\r\n  <div class=\"alain-ms__notice-fd\">\r\n    <a class=\"d-block pt-sm pb-xs text-center\" [link-to]=\"l\">{{ l.text }}</a>\r\n  </div>\r\n</div>\r\n","import { ChangeDetectionStrategy, Component, Inject } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { DA_SERVICE_TOKEN, ITokenService } from '@delon/auth';\r\nimport { SettingsService } from '@delon/theme';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\nimport { MSTopbarMessage, MSTopbarNavLink, MSTopbarService } from '../../services/topbar.service';\r\n\r\n@Component({\r\n  selector: 'ms-notice',\r\n  templateUrl: './notice.component.html',\r\n  host: {\r\n    '[class.alain-ms__topbar-item]': 'true',\r\n    '[class.alain-ms__topbar-dd]': 'true',\r\n    '[class.alain-ms__notice]': 'true',\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MSNoticeComponent {\r\n  get list(): MSTopbarMessage[] {\r\n    return this.srv.messages.map((i) => {\r\n      i.link = this.l.messageUrl + i.id;\r\n      return i;\r\n    });\r\n  }\r\n\r\n  get l(): MSTopbarNavLink {\r\n    return this.srv.getNav('message');\r\n  }\r\n\r\n  constructor(\r\n    private srv: MSTopbarService,\r\n    private router: Router,\r\n    @Inject(DA_SERVICE_TOKEN) private tokenService: ITokenService,\r\n    public settings: SettingsService,\r\n    public msg: NzMessageService,\r\n  ) {}\r\n\r\n  logout(): void {\r\n    this.tokenService.clear();\r\n    this.router.navigateByUrl(this.tokenService.login_url!);\r\n  }\r\n}\r\n","import { Inject, Injectable } from '@angular/core';\r\n// import { I18NService } from '@core';\r\nimport { ALAIN_I18N_TOKEN, _HttpClient } from '@delon/theme';\r\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\r\nimport { Observable, of } from 'rxjs';\r\nimport { tap } from 'rxjs/operators';\r\n\r\nexport interface MSRegionDistrict {\r\n  name?: string;\r\n  list?: MSRegionItem[];\r\n}\r\n\r\nexport interface MSRegionItem {\r\n  id?: string;\r\n  country?: string;\r\n  name?: string;\r\n  selected?: boolean;\r\n}\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class MSRegionService {\r\n  private _data!: MSRegionDistrict[];\r\n\r\n  private get platList(): MSRegionItem[] {\r\n    return this._data.reduce((p, c) => p.concat(c.list!), [] as MSRegionItem[]);\r\n  }\r\n\r\n  get item(): MSRegionItem {\r\n    return this.platList.find((w) => w.selected)!;\r\n  }\r\n\r\n  get list(): MSRegionDistrict[] {\r\n    return this._data;\r\n  }\r\n\r\n  constructor(\r\n    private http: _HttpClient,\r\n    //  @Inject(ALAIN_I18N_TOKEN) private i18nSrv: I18NService\r\n     ) {}\r\n\r\n  private getByHttp(): Observable<NzSafeAny[]> {\r\n    return this.http.get(`/region`).pipe(\r\n      tap((list: any[]) => {\r\n        //const zone = this.i18nSrv.zone;\r\n        //const key = `${list[0][`${zone}Name`] ? zone : 'cn'}Name`;\r\n        // const res = list.reduce((p: MSRegionDistrict[], c) => {\r\n        //   const districtName = `district_${key}`;\r\n        //   let item = p.find((w) => w.name === c[districtName]);\r\n        //   if (!item) {\r\n        //     item = { name: c[districtName], list: [] };\r\n        //     p.push(item);\r\n        //   }\r\n        //   item.list?.push({ id: c.id, country: c.country, name: c[key], selected: c.id === 'cn-shanghai' });\r\n        //   return p;\r\n        // }, []);\r\n        // this._data = res;\r\n      }),\r\n    );\r\n  }\r\n\r\n  getData(): Observable<NzSafeAny[] | null> {\r\n    return this._data ? of(null) : this.getByHttp();\r\n  }\r\n\r\n  setSelected(item: MSRegionItem): void {\r\n    this.platList.find((w) => w.selected)!.selected = false;\r\n    item.selected = true;\r\n  }\r\n}\r\n","<ng-container *ngIf=\"inited\">\r\n  <span class=\"alain-ms__topbar-item-btn\">\r\n    <i class=\"icon icon-{{ srv.item.country }}\"></i>\r\n    <span class=\"text-xs px-xs\">{{ srv.item.name }}</span>\r\n    <i nz-icon nzType=\"caret-up\" class=\"alain-ms__topbar-item-btn-arrow\"></i>\r\n  </span>\r\n  <div class=\"alain-ms__topbar-dd-menu alain-ms__topbar-dd-left alain-ms__region--wrap clearfix\">\r\n    <dl *ngFor=\"let p of srv.list\" class=\"alain-ms__region--list\">\r\n      <dt class=\"mb-sm\">{{ p.name }}</dt>\r\n      <dd *ngFor=\"let i of p.list\" (click)=\"selected(i)\">\r\n        <a class=\"d-block\" [ngClass]=\"{ 'brand-color': i.selected }\">\r\n          <i class=\"icon icon-{{ i.country }}\"></i>{{ i.name }}\r\n        </a>\r\n      </dd>\r\n    </dl>\r\n  </div>\r\n</ng-container>\r\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit } from '@angular/core';\r\nimport { MSRegionItem, MSRegionService } from './region.service';\r\n\r\n@Component({\r\n  selector: 'ms-region',\r\n  templateUrl: './region.component.html',\r\n  host: {\r\n    '[class.alain-ms__topbar-item]': 'true',\r\n    '[class.alain-ms__topbar-dd]': 'true',\r\n    '[class.alain-ms__region]': 'true',\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MSRegionComponent implements OnInit {\r\n  inited = false;\r\n\r\n  constructor(public srv: MSRegionService, private cdr: ChangeDetectorRef) {}\r\n\r\n  ngOnInit(): void {\r\n    this.srv.getData().subscribe(() => {\r\n      this.inited = true;\r\n      this.cdr.detectChanges();\r\n    });\r\n  }\r\n\r\n  selected(item: MSRegionItem): void {\r\n    this.srv.setSelected(item);\r\n    this.cdr.detectChanges();\r\n  }\r\n}\r\n","<div class=\"alain-ms__search\" [ngClass]=\"{ 'alain-ms__search-active': show }\">\r\n  <input\r\n    class=\"alain-ms__search-ipt\"\r\n    #ipt\r\n    placeholder=\"{{ l.placeholder }}\"\r\n    nz-input\r\n    [(ngModel)]=\"q\"\r\n    (input)=\"search$.next($event.target?.value)\"\r\n    [nzAutocomplete]=\"searchAuto\"\r\n    (blur)=\"show = false\"\r\n  />\r\n  <i class=\"alain-ms__search-icon\" nz-icon nzType=\"search\"></i>\r\n  <i class=\"alain-ms__search-outline\"></i>\r\n  <nz-autocomplete #searchAuto class=\"asdlfkjlj\">\r\n    <nz-auto-option *ngFor=\"let item of list\" [nzValue]=\"item\">\r\n      {{ item }}\r\n    </nz-auto-option>\r\n  </nz-autocomplete>\r\n</div>\r\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, HostListener, OnDestroy, ViewChild } from '@angular/core';\r\nimport { _HttpClient } from '@delon/theme';\r\nimport { Subject } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, switchMap } from 'rxjs/operators';\r\nimport { MSTopbarNavLink, MSTopbarService } from '../../services/topbar.service';\r\n\r\n@Component({\r\n  selector: 'ms-search',\r\n  templateUrl: './search.component.html',\r\n  host: {\r\n    '[class.alain-ms__topbar-item]': 'true',\r\n    '[class.mr-md]': 'true',\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MSSearchComponent implements OnDestroy {\r\n  @ViewChild('ipt', { static: true }) private ipt!: ElementRef<any>;\r\n  show = false;\r\n  q = '';\r\n  search$ = new Subject<string>();\r\n  list: any[] = [];\r\n\r\n  get l(): MSTopbarNavLink {\r\n    return this.srv.getNav('search');\r\n  }\r\n\r\n  constructor(http: _HttpClient, private srv: MSTopbarService, private cdr: ChangeDetectorRef) {\r\n    this.search$\r\n      .pipe(\r\n        debounceTime(300),\r\n        distinctUntilChanged(),\r\n        switchMap((q: string) => http.get('/user', { no: q, pi: 1, ps: 5 })),\r\n      )\r\n      .subscribe((res: any) => {\r\n        this.list = res.list;\r\n        this.cdr.detectChanges();\r\n      });\r\n  }\r\n\r\n  @HostListener('click')\r\n  _click(): void {\r\n    this.ipt.nativeElement.focus();\r\n    this.show = true;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.search$.unsubscribe();\r\n  }\r\n}\r\n","<ng-template #loginBtnTpl>\r\n  <a (click)=\"initLogin()\"  class=\"alain-ms__topbar-item-btn\">{{'AbpAccount::Login' | abpLocalization}}</a>\r\n</ng-template>\r\n\r\n<div *ngIf=\"(currentUser$ | async) as currentUser\">\r\n  <div *ngIf=\"currentUser.isAuthenticated; else loginBtnTpl\">\r\n\r\n\r\n    <span class=\"alain-ms__topbar-item-btn\">\r\n      <!-- <nz-avatar [nzSrc]=\"settings.user.avatar\" nzSize=\"small\"></nz-avatar> -->\r\n      {{ currentUser.userName }}\r\n    </span>\r\n    <div class=\"alain-ms__topbar-dd-menu width-md\">\r\n      <div class=\"alain-ms__user-hd\">\r\n        <div class=\"d-flex\">\r\n          <!-- <nz-avatar [nzSrc]=\"settings.user.avatar\" nzSize=\"small\"></nz-avatar> -->\r\n          <span class=\"ml-md\">{{ currentUser.userName }}</span>\r\n        </div>\r\n        <!-- <div class=\"mt-sm\">\r\n          <ng-container *ngFor=\"let i of mainLinks; let last = last\">\r\n            <a [link-to]=\"i\">{{ i.text }}</a>\r\n            <nz-divider *ngIf=\"!last\" nzType=\"vertical\"></nz-divider>\r\n          </ng-container>\r\n        </div> -->\r\n      </div>\r\n      <div class=\"alain-ms__user-bd\">\r\n        <!-- <a *ngFor=\"let i of subLinks\" [link-to]=\"i\" class=\"alain-ms__user-bd-item\">\r\n          <i nz-icon nzType=\"safety\"></i>{{ i.text }}\r\n        </a> -->\r\n        <a routerLink=\"/account/manage-profile\" class=\"alain-ms__user-bd-item\">\r\n          <i nz-icon nzType=\"safety\"></i>{{ 'AbpAccount::ManageYourProfile' | abpLocalization }}\r\n        </a>\r\n      </div>\r\n      <div class=\"alain-ms__user-fd\">\r\n        <a (click)=\"logout()\" class=\"d-block pt-sm pb-xs text-center\">{{ 'AbpUi::Logout' | abpLocalization }}</a>\r\n      </div>\r\n    </div>\r\n\r\n\r\n  </div>\r\n</div>\r\n\r\n","import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n// import { UserService } from '@core';\r\nimport { SettingsService } from '@delon/theme';\r\nimport { MSTopbarService } from '../../services/topbar.service';\r\nimport { AuthService } from '@fs-tw/account';\r\nimport { ConfigStateService,CurrentUserDto } from '@abp/ng.core';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'ms-user',\r\n  templateUrl: './user.component.html',\r\n  host: {\r\n    '[class.alain-ms__topbar-item]': 'true',\r\n    '[class.alain-ms__topbar-dd]': 'true',\r\n    '[class.alain-ms__user]': 'true',\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MSUserComponent {\r\n  currentUser$: Observable<CurrentUserDto> = this.configStateService.getOne$('currentUser');\r\n  \r\n  constructor(\r\n    private authService: AuthService,\r\n    private router: Router,\r\n    private configStateService: ConfigStateService,\r\n    srv: MSTopbarService,\r\n    public settings: SettingsService\r\n  ) {\r\n  }\r\n\r\n  initLogin() {\r\n    this.authService.initLogin();\r\n  }\r\n\r\n  logout() {\r\n    this.authService.logout().subscribe(() => {\r\n      this.router.navigate(['/'], { state: { redirectUrl: this.router.url } });\r\n    });\r\n  }\r\n}\r\n","import {\r\n  RoutesService as AbpRoutesService,\r\n  LocalizationPipe,\r\n  ABP,\r\n  TreeNode,\r\n} from '@abp/ng.core';\r\n\r\nimport { Injectable, Injector } from '@angular/core';\r\nimport { filter, map } from 'rxjs/operators';\r\nimport {\r\n  MSMenu,\r\n  MSProduct,\r\n  MSProductCategory,\r\n  MSServiceNavConfig,\r\n} from '../models';\r\nimport { Observable } from 'rxjs';\r\nimport { ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\r\nimport { eThemeSharedRouteNames } from '@abp/ng.theme.shared';\r\n\r\nexport class RoutesProcessor {\r\n  private get routesService(): AbpRoutesService {\r\n    return this.injector.get(AbpRoutesService);\r\n  }\r\n\r\n  private get localizationPipe(): LocalizationPipe {\r\n    return this.injector.get(LocalizationPipe);\r\n  }\r\n\r\n  public RouterState: RouterStateSnapshot;\r\n\r\n  get CurrentUrl(): string {\r\n    var current_url = this.RouterState.url.split('?')[0];\r\n    return decodeURI(current_url);\r\n  }\r\n\r\n  get CurrentRoute(): TreeNode<ABP.Route> {\r\n    const result = this.routesService.find(\r\n      (x) => this.formatParams(x.path) === this.CurrentUrl\r\n    );\r\n    return result;\r\n  }\r\n\r\n  MergeRouteData(prop: string, defaultValue: any) {\r\n    let result = defaultValue;\r\n\r\n    let targetRoutes = [];\r\n    let route = this.CurrentRoute;\r\n    if (!route) return [];\r\n    pushNode(route);\r\n    while (!!route.parent) {\r\n      route = route.parent;\r\n      pushNode(route);\r\n    }\r\n\r\n    let stack = targetRoutes;\r\n    while (stack.length !== 0) {\r\n      let node = stack.pop();\r\n      result = { ...result, ...node[prop] };\r\n    }\r\n    return result;\r\n\r\n    function pushNode(node) {\r\n      if (!!node && node.hasOwnProperty(prop)) {\r\n        targetRoutes.push(node);\r\n      }\r\n    }\r\n  }\r\n\r\n  constructor(private injector: Injector) {}\r\n\r\n  public get Category$(): Observable<MSProductCategory[]> {\r\n    return this.routesService.visible$.pipe(\r\n      map((x) => {\r\n        if (x.length === 0) return;\r\n        return x\r\n          .filter(\r\n            (y) =>\r\n              y.name === eThemeSharedRouteNames.Administration &&\r\n              !this.routesService.hide(y)\r\n          )\r\n          .map((r) => r.children)\r\n          .reduce((a, b) => a.concat(b))\r\n          .map((r) => {\r\n            let category: MSProductCategory = {\r\n              id: r.name,\r\n              name: this.localizationPipe.transform(r.name),\r\n              icon: r.iconClass,\r\n              products: [],\r\n              link: r.path,\r\n            };\r\n\r\n            category.products = r.children\r\n              .filter((c) => !this.routesService.hide(c))\r\n              .map((c) => {\r\n                let product: MSProduct = {\r\n                  productId: c.name,\r\n                  name: this.localizationPipe.transform(c.name),\r\n                  link: c.path,\r\n                  icon: c.iconClass,\r\n                  id: c.name,\r\n                };\r\n                return product;\r\n              });\r\n            return category;\r\n          });\r\n      })\r\n    );\r\n  }\r\n\r\n  public GetPageNavs(\r\n    routerState: RouterStateSnapshot,\r\n    nav: MSServiceNavConfig\r\n  ) {\r\n    if (!this.CurrentRoute) return [];\r\n    let pageNavs: MSMenu[] = [];\r\n    this.RouterState = routerState;\r\n    let target: ABP.Route;\r\n\r\n    target = this.routesService.find((x) => x.name == nav.name);\r\n\r\n    if (!!target) {\r\n      pageNavs.push(...this.transMenu(target));\r\n    }\r\n\r\n    return pageNavs;\r\n  }\r\n\r\n  private transMenu(first: any,recursive:boolean=true) {\r\n    let result = [];\r\n    first.children\r\n      .filter((r) => !this.routesService.hide(r))\r\n      .forEach((second) => {\r\n        let left: MSMenu = {\r\n          text:\r\n            second.displayName || this.localizationPipe.transform(second.name),\r\n          link: this.formatParams(second.path), //(third.url || third.path),\r\n          icon: second.iconClass,\r\n          children: [],\r\n        };\r\n        if (second?.children?.length > 0 && recursive) {\r\n          left.children = this.transMenu(second,false);\r\n        }\r\n        result.push(left);\r\n      });\r\n    return result;\r\n  }\r\n\r\n  public formatParams(\r\n    text: string,\r\n    router: ActivatedRouteSnapshot = this.RouterState.root\r\n  ): string {\r\n    if (!text) return '';\r\n    let regexp = /:([^(:\\/\\-\\ )]+)/g;\r\n    let result = text;\r\n    let match = text.match(regexp);\r\n    if (!!match) {\r\n      text.match(regexp).forEach((i) => {\r\n        let parameter = i.substr(1);\r\n        let itemId = this.findRouter((x) => parameter in x.params, [router])\r\n          ?.params[parameter];\r\n        result = result.replace(':' + parameter, itemId);\r\n      });\r\n    }\r\n    return result;\r\n  }\r\n\r\n  private findRouter(\r\n    predicate: (item: ActivatedRouteSnapshot) => boolean,\r\n    routers: ActivatedRouteSnapshot[]\r\n  ): ActivatedRouteSnapshot {\r\n    return routers.reduce(\r\n      (acc, node) =>\r\n        acc\r\n          ? acc\r\n          : predicate(node)\r\n          ? node\r\n          : this.findRouter(predicate, node.children),\r\n      null\r\n    );\r\n  }\r\n}\r\n","import { Injectable, Injector } from '@angular/core';\r\nimport { InternalStore, LocalizationPipe } from '@abp/ng.core';\r\nimport {\r\n  Layout,\r\n  MSProduct,\r\n  MSServiceNavConfig,\r\n  SidebarConfig,\r\n} from '../models';\r\nimport { map } from 'rxjs/operators';\r\nimport { Router, RouterStateSnapshot } from '@angular/router';\r\nimport { RoutesProcessor } from './routes.processor';\r\nimport { eThemeSharedRouteNames } from '@abp/ng.theme.shared';\r\nimport { findRoute, getRoutePath, RoutesService } from '@abp/ng.core';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class LayoutStateService {\r\n  private store = new InternalStore({\r\n    isFetching: false,\r\n\r\n    categories: [],\r\n\r\n    navConfig: Layout.defaultNavConfig,\r\n    sidebarConfig: Layout.defaultSidebarConfig,\r\n\r\n    pageNavs: [],\r\n  } as Layout.State);\r\n  //private routerState: RouterStateSnapshot;\r\n  ///必須等待Rouer完成後才能使用，需要當前路徑\r\n  public routesProcessor: RoutesProcessor;\r\n\r\n  getStore$() {\r\n    return this.store.sliceState((state) => state);\r\n  }\r\n\r\n  getFetching$() {\r\n    return this.store.sliceState(({ isFetching }) => isFetching);\r\n  }\r\n\r\n  getCategories() {\r\n    return this.store.state.categories;\r\n  }\r\n\r\n  getCategories$() {\r\n    return this.store.sliceState((state) => state.categories);\r\n  }\r\n  getShortcuts() {\r\n    const categories = this.getCategories();\r\n    const result: MSProduct[] = [];\r\n    categories.forEach((p) => {\r\n      result.push(p as any);\r\n    });\r\n    return result;\r\n  }\r\n\r\n  getShortcuts$() {\r\n    return this.getCategories$().pipe(\r\n      map((x) => {\r\n        const result: MSProduct[] = [];\r\n        x.forEach((p) => {\r\n          result.push(p as any);\r\n        });\r\n        return result;\r\n      })\r\n    );\r\n  }\r\n\r\n  getNavConfig() {\r\n    return this.store.state.navConfig;\r\n  }\r\n\r\n  getNavConfig$() {\r\n    return this.store.sliceState((state) => state.navConfig);\r\n  }\r\n\r\n  getPageNavs$() {\r\n    return this.store.sliceState((state) => state.pageNavs);\r\n  }\r\n  getPageNavs() {\r\n    return this.store.state.pageNavs;\r\n  }\r\n\r\n  constructor(\r\n    private injector: Injector,\r\n    public localizationPipe: LocalizationPipe\r\n  ) {\r\n    this.routesProcessor = new RoutesProcessor(this.injector);\r\n    this.listenRoutes();\r\n  }\r\n\r\n  setStore(state: Partial<Layout.State>) {\r\n    this.store.patch({ ...state });\r\n  }\r\n\r\n  setFetching(isFetching: boolean) {\r\n    this.store.patch({ isFetching });\r\n  }\r\n\r\n  setNavConfig(navConfig: MSServiceNavConfig) {\r\n    this.store.patch({ navConfig });\r\n    let pageNavs: any;\r\n    if (navConfig.name !== eThemeSharedRouteNames.Administration) {\r\n      pageNavs = this.routesProcessor.GetPageNavs(\r\n        this.routesProcessor.RouterState,\r\n        navConfig\r\n      );\r\n      this.store.state.sidebarConfig.hasPageNav = true;\r\n    } else {\r\n      this.store.state.sidebarConfig.hasPageNav = false;\r\n    }\r\n    this.store.patch({\r\n      pageNavs,\r\n      sidebarConfig: this.store.state.sidebarConfig,\r\n    });\r\n  }\r\n\r\n  fetchPageNavs(routerState: RouterStateSnapshot) {\r\n    this.routesProcessor.RouterState = routerState;\r\n\r\n\r\n    let navConfig: MSServiceNavConfig = this.routesProcessor.MergeRouteData(\r\n      'navConfig',\r\n      {\r\n        ...Layout.defaultNavConfig,\r\n        name: this.routesProcessor.CurrentRoute?.parentName ?? \"\"//eTicketRouteNames.Ticket//\r\n      }\r\n    );\r\n\r\n    let sidebarConfig: SidebarConfig = this.routesProcessor.MergeRouteData(\r\n      'sidebarConfig',\r\n      Layout.defaultSidebarConfig\r\n    );\r\n\r\n    this.setStore({\r\n      sidebarConfig,\r\n    });\r\n\r\n    this.setNavConfig(navConfig);\r\n  }\r\n\r\n  private listenRoutes() {\r\n    this.routesProcessor.Category$.subscribe((categories) => {\r\n      if (!!this.routesProcessor.RouterState) {\r\n        this.fetchPageNavs(this.routesProcessor.RouterState);\r\n      }\r\n\r\n      this.store.patch({\r\n        categories,\r\n      });\r\n    });\r\n  }\r\n}\r\n","import { Inject, Injectable } from '@angular/core';\r\n// import { I18NService } from '@core';\r\nimport { ALAIN_I18N_TOKEN, MenuIcon, _HttpClient } from '@delon/theme';\r\nimport { deepCopy } from '@delon/util';\r\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\r\nimport { from, Observable, of } from 'rxjs';\r\nimport { map, tap } from 'rxjs/operators';\r\n\r\nimport { MSLink } from '../../models/layout';\r\n\r\nimport {\r\n  RoutesService,\r\n  PermissionService,\r\n  LocalizationPipe,\r\n} from '@abp/ng.core';\r\nimport { MSProduct, MSProductCategory, MSProductI18n } from '../../models';\r\nimport { LayoutStateService } from '../../services/layout-state.service';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class MSProductService {\r\n  private _data!: MSProductCategory[];\r\n\r\n  get data(): MSProductCategory[] {\r\n    return this._data;\r\n  }\r\n\r\n  get i18n(): MSProductI18n {\r\n    return {\r\n      showAll: true,\r\n      keywords: '請輸入關鍵詞',\r\n      allProduct: '查詢全部産品',\r\n      show: true,\r\n      hasResult: '以下是與“<strong>{filterTxt}</strong>”相關的産品：',\r\n      noResult: '未找到與“<strong>{filterTxt}</strong>”相關的産品。',\r\n      text: '産品與服務',\r\n      recent: '最近訪問',\r\n    };\r\n  }\r\n\r\n  getData(): Observable<MSProductCategory[]> {\r\n    return this.layoutSateService.getCategories$().pipe(\r\n      tap((x) => {\r\n        this._data = x;\r\n      })\r\n    );\r\n  }\r\n\r\n  constructor(\r\n    private layoutSateService: LayoutStateService\r\n  ) {}\r\n\r\n  search(\r\n    q: string\r\n  ): { list: MSProductCategory[][]; categories: MSProductCategory[] } {\r\n    const column = 3;\r\n    const list: MSProductCategory[][] = [[], [], []];\r\n\r\n    // Process search key\r\n    let oldList: MSProductCategory[] = deepCopy(this._data);\r\n    if (q) {\r\n      oldList = oldList.map((p) => {\r\n        p.products = p.products?.filter((w) => {\r\n          return w.name.includes(q) || w.id.includes(q);\r\n        });\r\n        return p;\r\n      });\r\n    }\r\n\r\n    // Clean empty children category\r\n    const categories: MSProductCategory[] = [];\r\n    let MockID = 0;\r\n    oldList\r\n      .filter((w) => w.products!.length > 0)\r\n      .forEach((i, idx) => {\r\n        i._id = ++MockID;\r\n        list[idx % column].push(i);\r\n        // Collecting category data\r\n        if (categories.findIndex((w) => w.name === i.name) === -1) {\r\n          categories.push({ _id: i._id, name: i.name });\r\n        }\r\n      });\r\n\r\n    return { list, categories };\r\n  }\r\n}\r\n","<ng-container *ngIf=\"store$ | async as store\">\r\n  <div class=\"alain-ms__sidebar-wrap\">\r\n    <div\r\n      *ngIf=\"store.sidebarConfig.hasProductNav\"\r\n      class=\"alain-ms__sidebar-product-all\"\r\n      (click)=\"showProduct = !showProduct\"\r\n    >\r\n      <div class=\"alain-ms__sidebar-product alain-ms__sidebar-product-all-wrap\">\r\n        <i class=\"alain-ms__sidebar-product-icon\" nz-icon nzType=\"appstore\"></i>\r\n        <span class=\"alain-ms__sidebar-product-name\">{{ l.text }}</span>\r\n        <span class=\"alain-ms__sidebar-product-toolbar\">\r\n          <i nz-icon nzType=\"right\"></i>\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <ul class=\"alain-ms__sidebar-product-quick\">\r\n      <li\r\n        class=\"alain-ms__sidebar-product\"\r\n        *ngFor=\"let i of shortcuts$ | async; let idx = index\"\r\n      >\r\n        <i\r\n          class=\"alain-ms__sidebar-product-icon {{ i.icon }} \"\r\n          [link-to]=\"i\"\r\n          (linkToChanged)=\"showProduct = false\"\r\n        ></i>\r\n        <a\r\n          class=\"alain-ms__sidebar-product-name\"\r\n          [link-to]=\"i\"\r\n          (linkToChanged)=\"showProduct = false\"\r\n        >\r\n          {{ i.name }}\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n  <div class=\"alain-ms__sidebar-products\">\r\n    <div class=\"alain-ms__products\">\r\n      <div class=\"alain-ms__products-close\" (click)=\"showProduct = false\">\r\n        <i nz-icon nzType=\"close\"></i>\r\n      </div>\r\n      <div class=\"alain-ms__products-left\">\r\n        <div class=\"alain-ms__products-category-wrap\" #categoryEl>\r\n          <div class=\"d-flex\">\r\n            <div\r\n              *ngFor=\"let c of searchList\"\r\n              class=\"alain-ms__products-category-column\"\r\n            >\r\n              <div *ngFor=\"let p of c\" class=\"alain-ms__products-category\">\r\n                <h3\r\n                  class=\"alain-ms__products-category-title\"\r\n                  id=\"product-cat-{{ p._id }}\"\r\n                >\r\n                  {{ p.name }}\r\n                </h3>\r\n                <ul class=\"list-unstyled\">\r\n                  <li\r\n                    *ngFor=\"let i of p.products\"\r\n                    class=\"alain-ms__products-category-item\"\r\n                    [ngClass]=\"{\r\n                      'alain-ms__products-category-item-active': i.shortcut\r\n                    }\"\r\n                  >\r\n                    <a\r\n                      [link-to]=\"i\"\r\n                      (linkToChanged)=\"showProduct = false\"\r\n                      class=\"alain-ms__products-category-item-link\"\r\n                      >{{ i.name }}</a\r\n                    >\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"alain-ms__products-right\">\r\n        <nz-anchor\r\n          nzAffix=\"false\"\r\n          nzContainer=\".alain-ms__products-category-wrap\"\r\n          nzOffsetTop=\"150\"\r\n          nzShowInkInFixed=\"false\"\r\n        >\r\n          <nz-link\r\n            *ngFor=\"let i of searchCategories\"\r\n            nzHref=\"#product-cat-{{ i._id }}\"\r\n            [nzTitle]=\"i.name\"\r\n          ></nz-link>\r\n        </nz-anchor>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</ng-container>\r\n","import { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  OnDestroy,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { _HttpClient } from '@delon/theme';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\nimport { Observable } from 'rxjs';\r\nimport { Layout, MSProduct, MSProductCategory, MSProductI18n } from '../../../models';\r\nimport { LayoutStateService } from '../../../services/layout-state.service';\r\nimport { BrandService } from '../../ms.service';\r\nimport { MSProductService } from '../../services/product.service';\r\n\r\n@Component({\r\n  selector: 'ms-sidebar',\r\n  templateUrl: './sidebar.component.html',\r\n  host: {\r\n    '[class.alain-ms__sidebar]': 'true',\r\n    '[class.alain-ms__sidebar-showproduct]': 'showProduct',\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MSSidebarComponent implements AfterViewInit, OnDestroy {\r\n  @ViewChild('categoryEl', { static: false })\r\n  private categoryEl!: ElementRef;\r\n\r\n  showProduct = false;\r\n  inited = false;\r\n\r\n  get store$(): Observable<Layout.State> {\r\n    return this.layoutStateService.getStore$();\r\n  }\r\n\r\n  get shortcuts$(): Observable<MSProduct[]> {\r\n    return this.layoutStateService.getShortcuts$();\r\n  }\r\n\r\n  get l(): MSProductI18n {\r\n    return this.srv.i18n;\r\n  }\r\n\r\n  q = '';\r\n  searchList?: MSProductCategory[][];\r\n  searchCategories: MSProductCategory[] = [];\r\n\r\n  constructor(\r\n    private layoutStateService:LayoutStateService,\r\n    private brand: BrandService,\r\n    private srv: MSProductService,\r\n    private cdr: ChangeDetectorRef\r\n  ) {\r\n    brand.setSidebar(true);\r\n  }\r\n\r\n  search(scroll: boolean = true): void {\r\n    const res = this.srv.search(this.q);\r\n    this.searchList = res.list;\r\n    this.searchCategories = res.categories;\r\n\r\n    this.cdr.detectChanges();\r\n\r\n    if (scroll) {\r\n      // wait angular render\r\n      setTimeout(() => {\r\n        // 滚动至顶部\r\n        this.categoryEl.nativeElement.scrollTop = 0;\r\n      });\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.srv.getData().subscribe((x) => {\r\n      this.inited = true;\r\n      this.search();\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.brand.setSidebar(false);\r\n  }\r\n}\r\n","<ng-template #defaultLogo>\r\n  <img src=\"./assets/logo-color.svg\" />\r\n</ng-template>\r\n<div class=\"alain-ms__topbar-main\">\r\n  <ms-all-nav *ngIf=\"allNav\"></ms-all-nav>\r\n  <div class=\"alain-ms__topbar-logo\">\r\n    <a routerLink=\"/\" class=\"alain-ms__topbar-logo-img\">\r\n      <img *ngIf=\"appInfo.logoUrl; else defaultLogo\" [src]=\"appInfo.logoUrl\"/>\r\n    </a>\r\n    <a routerLink=\"/\" class=\"alain-ms__topbar-logo-link\">\r\n      {{ appInfo.name }}\r\n    </a>\r\n  </div>\r\n  <!-- <ms-region *ngIf=\"userSrv?.isLogin\" class=\"hidden-md\"></ms-region> -->\r\n</div>\r\n<div class=\"alain-ms__topbar-widget\" *ngIf=\"inited\">\r\n  <!-- 搜索 -->\r\n  <!-- <ms-search class=\"hidden-xs\"></ms-search> -->\r\n  <!-- 消息 -->\r\n  <!-- <ms-notice></ms-notice> -->\r\n  <!-- 菜单 -->\r\n  <!-- <div *ngFor=\"let p of links\" class=\"alain-ms__topbar-item\" [ngClass]=\"p.className\">\r\n    <a class=\"alain-ms__topbar-item-btn\" [link-to]=\"p\">{{ p.text }}</a>\r\n    <ul class=\"alain-ms__topbar-dd-menu\" *ngIf=\"p.links\">\r\n      <li *ngFor=\"let i of p.links\">\r\n        <a class=\"alain-ms__topbar-dd-item\" [link-to]=\"i\">{{ i.text }}</a>\r\n      </li>\r\n    </ul>\r\n  </div> -->\r\n  <!-- 购物车 -->\r\n  <!-- <div class=\"alain-ms__topbar-item hidden-mobile\" class=\"hidden-xs\">\r\n    <a class=\"alain-ms__topbar-item-btn alain-ms__topbar-item-icon\" routerLink=\"/\">\r\n      <i nz-icon nzType=\"shopping-cart\"></i>\r\n    </a>\r\n  </div> -->\r\n  <!-- 语言 -->\r\n  <ms-langs></ms-langs>\r\n  <!-- 用户 -->\r\n  <ms-user></ms-user>\r\n</div>\r\n","import {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  Input,\r\n  OnInit,\r\n} from '@angular/core';\r\n// import { UserService } from '@core';\r\nimport { _HttpClient } from '@delon/theme';\r\n\r\nimport {\r\n  MSTopbarNavLink,\r\n  MSTopbarService,\r\n} from '../../services/topbar.service';\r\nimport { ApplicationInfo, EnvironmentService } from '@abp/ng.core';\r\n\r\n@Component({\r\n  selector: 'ms-topbar',\r\n  templateUrl: './topbar.component.html',\r\n  host: {\r\n    '[class.alain-ms__topbar]': 'true',\r\n    '[class.alain-ms__topbar-single]': 'allNav',\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MSTopbarComponent implements OnInit {\r\n  get appInfo(): ApplicationInfo {\r\n    return this.environment.getEnvironment().application;\r\n  }\r\n  inited = false;\r\n\r\n  links!: MSTopbarNavLink[];\r\n\r\n  @Input() allNav = false;\r\n  userSrv: any;\r\n  constructor(\r\n    private srv: MSTopbarService,\r\n    //  public userSrv: UserService,\r\n    private cdr: ChangeDetectorRef,\r\n    private environment: EnvironmentService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.srv.getData().subscribe(() => {\r\n      this.inited = true;\r\n      this.mergeLinks();\r\n      this.cdr.detectChanges();\r\n    });\r\n  }\r\n\r\n  private mergeLinks(): void {\r\n    const res = this.srv.data.navLinks!;\r\n    this.links = [res.finance, res.workorder, res.support].map((i) => {\r\n      if (i.className == null) {\r\n        i.className = '';\r\n      }\r\n      if (!i.links || i.links.length === 0) {\r\n        i.links = undefined;\r\n      } else {\r\n        i.className += ' alain-ms__topbar-dd';\r\n      }\r\n      return i;\r\n    });\r\n  }\r\n}\r\n","<div class=\"ms-help__wrap\" nz-popover nzPopoverTrigger=\"click\" [nzPopoverContent]=\"helpTpl\">\r\n  <span class=\"ms-help__text\">\r\n    咨询·建议\r\n  </span>\r\n</div>\r\n<ng-template #helpTpl>\r\n  <div class=\"d-flex align-items-center mb-sm\">\r\n    <i nz-icon nzType=\"phone\" class=\"mr-sm text-xl\"></i>\r\n    <a routerLink=\"/\">\r\n      售前咨询电话\r\n      <div class=\"text-orange text-xs\">xxxx 转 1</div>\r\n    </a>\r\n  </div>\r\n  <div class=\"d-flex align-items-center mb-sm\">\r\n    <i nz-icon nzType=\"customer-service\" class=\"mr-sm text-xl\"></i>\r\n    <a routerLink=\"/smart\">\r\n      智能顾问\r\n      <div class=\"text-grey text-xs\">智能诊断，秒级解答</div>\r\n    </a>\r\n  </div>\r\n  <div class=\"d-flex align-items-center\">\r\n    <i nz-icon nzType=\"edit\" class=\"mr-sm text-xl\"></i>\r\n    <a routerLink=\"/\">\r\n      建议反馈\r\n      <div class=\"text-grey text-xs\">XXX不是完美的，我们渴望您的建议</div>\r\n    </a>\r\n  </div>\r\n</ng-template>\r\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'help',\r\n  templateUrl: './help.component.html',\r\n  host: {\r\n    '[class.ms-help]': 'true',\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MSHelpComponent {}\r\n","<div class=\"ms-page-bar__title\">\r\n  <h2 *ngIf=\"title\" class=\"ms-page-bar__title-main\">\r\n    <ng-container *nzStringTemplateOutlet=\"title\">{{ title | abpLocalization }}</ng-container>\r\n  </h2>\r\n  <div *ngIf=\"subTitle\" class=\"ms-page-bar__title-sub\">\r\n    <ng-container *nzStringTemplateOutlet=\"subTitle\">{{ subTitle | abpLocalization }}</ng-container>\r\n  </div>\r\n</div>\r\n<div class=\"ms-page-bar__action\">\r\n  <ng-content></ng-content>\r\n</div>\r\n","import { AfterViewInit, ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, OnDestroy, TemplateRef } from '@angular/core';\r\nimport { NavigationEnd, Router } from '@angular/router';\r\nimport { merge, Subscription } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\n\r\nimport { Menu, MenuService } from '@delon/theme';\r\nimport { InputBoolean } from '@delon/util';\r\n\r\nimport { BrandService } from '../../ms.service';\r\n\r\n@Component({\r\n  selector: 'page-bar',\r\n  templateUrl: './page-bar.component.html',\r\n  host: {\r\n    '[class.ms-page-bar]': 'true',\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MSPageBarComponent implements AfterViewInit, OnDestroy {\r\n  private router$!: Subscription;\r\n  private _menus: Menu[] | null = null;\r\n  private get menus(): Menu[] {\r\n    if (this._menus) {\r\n      return this._menus;\r\n    }\r\n    this._menus = this.menuSrv.getPathByUrl(this.router.url.split('?')[0], this.recursiveBreadcrumb);\r\n\r\n    return this._menus;\r\n  }\r\n\r\n  // #region fields\r\n\r\n  /**\r\n   * 自动生成标题，以当前路由从主菜单中定位\r\n   */\r\n  @Input() @InputBoolean() autoTitle = true;\r\n  @Input() @InputBoolean() recursiveBreadcrumb = true;\r\n  @Input() title?: string; //| TemplateRef<any>;\r\n  @Input() subTitle?: string; //| TemplateRef<any>;\r\n\r\n  // #endregion\r\n\r\n  constructor(private router: Router, private srv: BrandService, private menuSrv: MenuService, private cdr: ChangeDetectorRef) {}\r\n\r\n  private setTitle(): void {\r\n    if (typeof this.title === 'undefined' && this.autoTitle && this.menus.length > 0) {\r\n      const item = this.menus[this.menus.length - 1];\r\n      this.title = item.text;\r\n    }\r\n\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.router$ = merge(\r\n      this.router.events.pipe(filter((e) => e instanceof NavigationEnd)),\r\n      this.srv.notify,\r\n      this.menuSrv.change,\r\n    ).subscribe(() => {\r\n      this._menus = null;\r\n      this.setTitle();\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.router$.unsubscribe();\r\n  }\r\n}\r\n","<div class=\"ms-page-nav__body\">\r\n  <div class=\"ms-page-nav__stage\">\r\n    <div class=\"ms-page-nav__scene ms-page-nav__scene-main\">\r\n      <div\r\n        class=\"ms-page-nav__title\"\r\n        [ngClass]=\"{ 'ms-page-nav__back': config.backHref }\"\r\n        (click)=\"to(config.backHref!, $event)\"\r\n        [title]=\"config.backHref ? ('ms.page-nav.back' | i18n) : ''\"\r\n      >\r\n        <i *ngIf=\"config.backHref\" nz-icon nzType=\"left\"></i>\r\n        {{ config.title | abpLocalization }}\r\n      </div>\r\n      <div class=\"ms-page-nav__list scrollbar\">\r\n        <ng-template #treeTpl let-ls let-level=\"level\">\r\n          <li *ngFor=\"let i of ls\">\r\n            <ng-container *ngIf=\"i.children.length == 0\">\r\n              <div\r\n                *ngIf=\"i.link\"\r\n                class=\"ms-page-nav__item\"\r\n                role=\"treeitem\"\r\n                routerLink=\"{{ i.link }}\"\r\n                routerLinkActive=\"ms-page-nav__item-active\"\r\n              >\r\n                <span class=\"ms-page-nav__item-icon\"></span>\r\n                <span class=\"ms-page-nav__item-tit\">{{ i.text }}</span>\r\n                <span *ngIf=\"i.badge\" class=\"ms-page-nav__item-badge\">{{ i.badge }}</span>\r\n              </div>\r\n              <a *ngIf=\"!i.link\" [href]=\"i.externalLink\" [target]=\"i.target\" class=\"ms-page-nav__item\" role=\"treeitem\">\r\n                <span class=\"ms-page-nav__item-icon\"></span>\r\n                <span class=\"ms-page-nav__item-tit\">{{ i.text }}</span>\r\n                <span *ngIf=\"i.badge\" class=\"ms-page-nav__item-badge\">{{ i.badge }}</span>\r\n              </a>\r\n            </ng-container>\r\n            <ng-container *ngIf=\"i.children.length > 0\">\r\n              <div class=\"ms-page-nav__item\" role=\"treeitem\" (click)=\"i.active = !i.active\">\r\n                <span class=\"ms-page-nav__item-icon\">\r\n                  <i nz-icon [nzType]=\"i.active ? 'caret-down' : 'caret-right'\"></i>\r\n                </span>\r\n                <span class=\"ms-page-nav__item-tit\">{{ i.text }}</span>\r\n              </div>\r\n              <ul role=\"tree\" class=\"list-unstyled\" [ngClass]=\"{ 'd-none': !i.active }\">\r\n                <ng-container *ngTemplateOutlet=\"treeTpl; context: { $implicit: i.children, level: level + 1 }\"></ng-container>\r\n              </ul>\r\n            </ng-container>\r\n          </li>\r\n        </ng-template>\r\n        <ul role=\"tree\" class=\"list-unstyled\">\r\n          <ng-container *ngTemplateOutlet=\"treeTpl; context: { $implicit: list, level: 1 }\"></ng-container>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"ms-page-nav__control\" (click)=\"toggle()\">\r\n  <div class=\"ms-page-nav__control-wrap\">\r\n    <div class=\"ms-page-nav__control-bg\"></div>\r\n    <div class=\"ms-page-nav__control-btn\">\r\n      <i nz-icon nzType=\"menu-fold\"></i>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Inject, Input, OnChanges } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { ALAIN_I18N_TOKEN, MenuService, TitleService } from '@delon/theme';\r\n\r\n// import { I18NService } from '@core';\r\n\r\nimport { MSMenu, MSServiceNavConfig } from '../../../models/layout';\r\nimport { BrandService } from '../../ms.service';\r\n\r\n@Component({\r\n  selector: 'page-nav',\r\n  templateUrl: './page-nav.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MSPageNavComponent implements OnChanges {\r\n  private _config: MSServiceNavConfig = {};\r\n  @Input()\r\n  set config(val: MSServiceNavConfig) {\r\n    const { title, titleI18n, backHref, doc, docI18n } = val;\r\n    // this.titSrv.setTitle(docI18n ? this.i18n.fanyi(docI18n) : doc);\r\n    // this._config.title = titleI18n ? this.i18n.fanyi(titleI18n) : title;\r\n    this._config.title=title;\r\n    this._config.backHref = backHref || '';\r\n  }\r\n  get config(): MSServiceNavConfig {\r\n    return this._config;\r\n  }\r\n\r\n  private _menus: MSMenu[] = [];\r\n  @Input()\r\n  set list(list: MSMenu[]) {\r\n    this.menuSrv.add(list);\r\n    this.menuSrv.visit(list, (i) => (i.active = true));\r\n    this._menus = this.menuSrv.menus;\r\n  }\r\n  get list(): MSMenu[] {\r\n    return this._menus;\r\n  }\r\n\r\n  constructor(\r\n    private srv: BrandService,\r\n    private router: Router,\r\n    private titSrv: TitleService,\r\n    private menuSrv: MenuService,\r\n    //@Inject(ALAIN_I18N_TOKEN) private i18n: I18NService,\r\n    private cdr: ChangeDetectorRef,\r\n  ) {}\r\n\r\n  to(url: string, e: MouseEvent): void {\r\n    e.preventDefault();\r\n    if (!url) {\r\n      return;\r\n    }\r\n    this.router.navigateByUrl(url);\r\n  }\r\n\r\n  toggle(): void {\r\n    this.srv.hideNav = !this.srv.hideNav;\r\n    this.srv.triggerNotify('page-nav');\r\n  }\r\n\r\n  ngOnChanges(): void {\r\n    this.cdr.detectChanges();\r\n  }\r\n}\r\n","<div class=\"ms-page-single__bar\">\r\n  <div class=\"ms-page-single__wrap\" [ngClass]=\"{ 'ms-page-single__wide': wide }\">\r\n    <div class=\"ms-page-single__bar-desc\">\r\n      <div *ngIf=\"title\" class=\"ms-page-single__bar-title\">\r\n        <ng-container *nzStringTemplateOutlet=\"title\">{{ title }}</ng-container>\r\n      </div>\r\n      <div *ngIf=\"subTitle\" class=\"ms-page-single__bar-sub-title\">\r\n        <ng-container *nzStringTemplateOutlet=\"subTitle\">{{ subTitle }}</ng-container>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"extra\" class=\"ms-page-single__bar-extra\">\r\n      <ng-container *nzStringTemplateOutlet=\"extra\">{{ extra }}</ng-container>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"ms-page-single__wrap ms-page-single__body\" [ngClass]=\"{ 'ms-page-single__wide': wide }\">\r\n  <ng-content></ng-content>\r\n</div>\r\n","import { ChangeDetectionStrategy, Component, Input, OnChanges, OnDestroy, OnInit, TemplateRef } from '@angular/core';\r\nimport { InputBoolean } from '@delon/util';\r\nimport { BrandService } from '../../ms.service';\r\n\r\n@Component({\r\n  selector: 'page-single',\r\n  templateUrl: './page-single.component.html',\r\n  host: {\r\n    '[class.ms-page-single]': 'true',\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MSPageSingleComponent implements OnInit, OnChanges, OnDestroy {\r\n  // #region fileds\r\n\r\n  @Input() @InputBoolean() wide = true;\r\n  @Input() @InputBoolean() fixed = false;\r\n  @Input() title?: string | TemplateRef<void>;\r\n  @Input() subTitle?: string | TemplateRef<void>;\r\n  @Input() extra?: string | TemplateRef<void>;\r\n\r\n  // #endregion\r\n\r\n  constructor(private brand: BrandService) {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  ngOnChanges(): void {\r\n    this.brand.setFixed(this.fixed);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.brand.setFixed(false);\r\n  }\r\n}\r\n","<div class=\"ms-panel__hd\">\r\n  <div *ngIf=\"title\" class=\"ms-panel__hd-title\">\r\n    <ng-container *nzStringTemplateOutlet=\"title\">{{ title }}</ng-container>\r\n  </div>\r\n  <div *ngIf=\"extra\" class=\"ms-panel__hd-extra\">\r\n    <ng-container *nzStringTemplateOutlet=\"extra\">{{ extra }}</ng-container>\r\n  </div>\r\n</div>\r\n<div class=\"ms-panel__bd\">\r\n  <ng-content></ng-content>\r\n</div>\r\n","import { ChangeDetectionStrategy, Component, Input, TemplateRef } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'panel',\r\n  templateUrl: './panel.component.html',\r\n  host: {\r\n    '[class.ms-panel]': 'true',\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MSPanelComponent {\r\n  // #region fields\r\n\r\n  @Input() title?: string | TemplateRef<any>;\r\n  @Input() extra?: string | TemplateRef<any>;\r\n\r\n  // #endregion\r\n}\r\n","<div class=\"alain-ms__product\" [ngClass]=\"{ 'alain-ms__product-col-1': nav && !hideNav }\">\r\n  <page-nav *ngIf=\"nav\" [config]=\"navConfig\" [list]=\"navList\"></page-nav>\r\n  <div class=\"alain-ms__product-body scrollbar\">\r\n    <div [ngClass]=\"{'alain-ms__console':hasConsoleCss}\">\r\n      <ng-content></ng-content>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input } from '@angular/core';\r\nimport { InputBoolean } from '@delon/util';\r\n\r\nimport { MSMenu, MSServiceNavConfig } from './../../../models/layout';\r\nimport { BrandService } from '../../ms.service';\r\n\r\n@Component({\r\n  selector: 'service-layout',\r\n  templateUrl: './service-layout.component.html',\r\n})\r\nexport class MSServiceLayoutComponent {\r\n  @Input() @InputBoolean() nav = false;\r\n  @Input() navConfig: MSServiceNavConfig = {};\r\n  @Input() navList: MSMenu[] = [];\r\n  @Input() hasConsoleCss:boolean = true;\r\n\r\n  get hideNav(): boolean {\r\n    return this.srv.hideNav;\r\n  }\r\n\r\n  constructor(private srv: BrandService) {}\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\nimport { AlainThemeModule } from '@delon/theme';\r\nimport { NzOutletModule } from 'ng-zorro-antd/core/outlet';\r\nimport { NzIconModule } from 'ng-zorro-antd/icon';\r\nimport { NzPopoverModule } from 'ng-zorro-antd/popover';\r\nimport { MSHelpComponent } from './help/help.component';\r\nimport { MSLinkToDirective } from './link-to/link-to.directive';\r\nimport { MSPageBarComponent } from './page-bar/page-bar.component';\r\nimport { MSPageNavComponent } from './page-nav/page-nav.component';\r\nimport { MSPageSingleComponent } from './page-single/page-single.component';\r\nimport { MSPanelComponent } from './panel/panel.component';\r\nimport { MSServiceLayoutComponent } from './service-layout/service-layout.component';\r\nimport { LocalizationModule } from '@abp/ng.core';\r\n\r\nconst COMPONENTS = [\r\n  MSHelpComponent,\r\n  MSLinkToDirective,\r\n  MSPageBarComponent,\r\n  MSPageNavComponent,\r\n  MSPageSingleComponent,\r\n  MSPanelComponent,\r\n  MSServiceLayoutComponent,\r\n];\r\n\r\n@NgModule({\r\n  imports: [CommonModule, RouterModule, FormsModule, AlainThemeModule.forChild(), NzPopoverModule, NzIconModule, NzOutletModule, LocalizationModule],\r\n  declarations: COMPONENTS,\r\n  exports: COMPONENTS,\r\n})\r\nexport class MSSharedModule {}\r\n","<ms-topbar [allNav]=\"hasAllNav\"></ms-topbar>\r\n<ms-sidebar *ngIf=\"hasSidebar\"></ms-sidebar>\r\n<div class=\"brand-page-loading\" [hidden]=\"!isFetching\">\r\n  <nz-spin nzSpinning></nz-spin>\r\n</div>\r\n<div class=\"alain-ms__body\" [hidden]=\"isFetching\">\r\n  <router-outlet></router-outlet>\r\n</div>\r\n<!-- <help></help>\r\n<theme-btn></theme-btn> -->\r\n","import { BreakpointObserver, MediaMatcher } from '@angular/cdk/layout';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { Component, ElementRef, Inject, OnDestroy, OnInit, Renderer2 } from '@angular/core';\r\nimport { ActivatedRoute, NavigationEnd, NavigationError, RouteConfigLoadStart, Router } from '@angular/router';\r\nimport { ReuseTabService } from '@delon/abc/reuse-tab';\r\nimport { updateHostClass } from '@delon/util';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { BrandService } from './ms.service';\r\n\r\n@Component({\r\n  selector: 'layout-ms',\r\n  templateUrl: './ms.component.html',\r\n})\r\nexport class MSLayoutComponent implements OnInit, OnDestroy {\r\n  private notify$!: Subscription;\r\n  private queryCls?: string;\r\n  isFetching = false;\r\n  // 是否单页，单页不显示侧边栏\r\n  hasAllNav = false;\r\n  hasSidebar = true;\r\n\r\n  get isMobile(): boolean {\r\n    return this.srv.isMobile;\r\n  }\r\n\r\n  private get body(): HTMLElement {\r\n    return this.doc.body;\r\n  }\r\n\r\n  constructor(\r\n    bm: BreakpointObserver,\r\n    mediaMatcher: MediaMatcher,\r\n    router: Router,\r\n    route: ActivatedRoute,\r\n    msg: NzMessageService,\r\n    reuseTabSrv: ReuseTabService,\r\n    private el: ElementRef,\r\n    private renderer: Renderer2,\r\n    private srv: BrandService,\r\n    @Inject(DOCUMENT) private doc: any,\r\n  ) {\r\n    const routerData = {\r\n      hasAllNav: false,\r\n      hasSidebar: true,\r\n      ...route.snapshot.data,\r\n    };\r\n    this.hasAllNav = routerData.hasAllNav === true;\r\n    this.hasSidebar = routerData.hasSidebar === true;\r\n\r\n    // scroll to top in change page\r\n    router.events.subscribe((evt) => {\r\n      if (!this.isFetching && evt instanceof RouteConfigLoadStart) {\r\n        this.isFetching = true;\r\n        this.scrollToTop();\r\n      }\r\n      if (evt instanceof NavigationError) {\r\n        this.isFetching = false;\r\n        msg.error(`无法加载${evt.url}路由`, { nzDuration: 1000 * 3 });\r\n        return;\r\n      }\r\n      if (!(evt instanceof NavigationEnd)) {\r\n        return;\r\n      }\r\n\r\n      this.isFetching = false;\r\n      // If have already cached router, should be don't need scroll to top\r\n      if (reuseTabSrv.exists(evt.url)) {\r\n        return;\r\n      }\r\n\r\n      this.scrollToTop();\r\n    });\r\n\r\n    // media\r\n    const query: { [key: string]: string } = {\r\n      'screen-xs': '(max-width: 575px)',\r\n      'screen-sm': '(min-width: 576px) and (max-width: 767px)',\r\n      'screen-md': '(min-width: 768px) and (max-width: 991px)',\r\n      'screen-lg': '(min-width: 992px) and (max-width: 1199px)',\r\n      'screen-xl': '(min-width: 1200px)',\r\n    };\r\n    bm.observe([\r\n      '(min-width: 1200px)',\r\n      '(min-width: 992px) and (max-width: 1199px)',\r\n      '(min-width: 768px) and (max-width: 991px)',\r\n      '(min-width: 576px) and (max-width: 767px)',\r\n      '(max-width: 575px)',\r\n    ]).subscribe(() => {\r\n      this.queryCls = Object.keys(query).find((key) => mediaMatcher.matchMedia(query[key]).matches);\r\n      this.setClass();\r\n    });\r\n  }\r\n\r\n  private scrollToTop(): void {\r\n    const el: HTMLElement = this.doc.querySelector('.alain-ms__product-body');\r\n    if (!el) {\r\n      return;\r\n    }\r\n    el.scrollTop = 0;\r\n  }\r\n\r\n  private setClass(): void {\r\n    const { el, renderer, queryCls } = this;\r\n    updateHostClass(\r\n      el.nativeElement,\r\n      renderer,\r\n      {\r\n        ['alain-ms']: true,\r\n        [queryCls!]: true,\r\n      },\r\n      true,\r\n    );\r\n  }\r\n\r\n  private setBodyClass(): void {\r\n    const { hasTopbar, hasSidebar, hasFixed, colorWeak } = this.srv.layout;\r\n    updateHostClass(this.body, this.renderer, {\r\n      'color-weak': colorWeak,\r\n      ['alain-ms__has-topbar']: hasTopbar,\r\n      ['alain-ms__has-sidebar']: hasSidebar,\r\n      ['alain-ms__has-fixed']: hasFixed,\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.notify$ = this.srv.notify.subscribe(() => {\r\n      this.setClass();\r\n      this.setBodyClass();\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.notify$.unsubscribe();\r\n    this.body.classList.remove('alain-ms__has-topbar', 'alain-ms__has-sidebar', 'alain-ms__has-fixed');\r\n  }\r\n}\r\n","import {\r\n  RoutesService,\r\n  LocalizationPipe,\r\n  PermissionService,\r\n} from '@abp/ng.core';\r\nimport { APP_INITIALIZER, inject, Injector } from '@angular/core';\r\nimport {\r\n  ResolveEnd,\r\n  Router\r\n} from '@angular/router';\r\nimport { filter } from 'rxjs/operators';\r\nimport { LayoutStateService } from '../services/layout-state.service';\r\n\r\nexport const LAYOUT_INIT_PROVIDERS = [\r\n  {\r\n    provide: APP_INITIALIZER,\r\n    useFactory: init,\r\n    deps: [Injector],\r\n    multi: true,\r\n  },\r\n];\r\n\r\nexport function init(injector: Injector) {\r\n  return () => {\r\n    listenRouter(injector);\r\n  };\r\n}\r\n\r\nexport function listenRouter(injector: Injector) {\r\n  const router = injector.get(Router);\r\n  const layoutStateService = injector.get(LayoutStateService);\r\n\r\n  router.events\r\n    .pipe(filter((event): event is ResolveEnd => event instanceof ResolveEnd))\r\n    .subscribe((event) => {\r\n      //const currentUrl = decodeURI(event.state.url.split('?')[0]);\r\n      //layoutStateService.setStore({ currentUrl });\r\n      layoutStateService.fetchPageNavs(event.state);\r\n\r\n    });\r\n}\r\n","import { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { CoreModule } from '@abp/ng.core';\r\nimport { Inject, ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\n// import { I18NService } from '@core';\r\nimport { AlainThemeModule, ALAIN_I18N_TOKEN } from '@delon/theme';\r\nimport { ThemeBtnModule } from '@delon/theme/theme-btn';\r\nimport { NzAnchorModule } from 'ng-zorro-antd/anchor';\r\nimport { NzAutocompleteModule } from 'ng-zorro-antd/auto-complete';\r\nimport { NzAvatarModule } from 'ng-zorro-antd/avatar';\r\nimport { NzDividerModule } from 'ng-zorro-antd/divider';\r\nimport { NzIconModule } from 'ng-zorro-antd/icon';\r\nimport { NzInputModule } from 'ng-zorro-antd/input';\r\nimport { NzSpinModule } from 'ng-zorro-antd/spin';\r\n//import { MS_COMPONENTS, MS_SHARED_COMPONENTS } from './ms/index';\r\nimport { MSSharedModule } from './ms/shared/shared.module';\r\nimport { LAYOUT_INIT_PROVIDERS } from './providers/init.provider';\r\nimport { MSAllNavComponent } from './ms/_widgets/all-nav/all-nav.component';\r\nimport { MSSearchComponent } from './ms/_widgets/search/search.component';\r\nimport { MSLangsComponent } from './ms/_widgets/langs/langs.component';\r\nimport { MSUserComponent } from './ms/_widgets/user/user.component';\r\nimport { MSNoticeComponent } from './ms/_widgets/notice/notice.component';\r\nimport { MSRegionComponent } from './ms/_widgets/region/region.component';\r\nimport { MSLayoutComponent } from './ms/ms.component';\r\nimport { MSSidebarComponent } from './ms/components/sidebar/sidebar.component';\r\nimport { MSTopbarComponent } from './ms/components/topbar/topbar.component';\r\nimport { MSHelpComponent } from './ms/shared/help/help.component';\r\nimport { MSPageNavComponent } from './ms/shared/page-nav/page-nav.component';\r\nimport { MSPageBarComponent } from './ms/shared/page-bar/page-bar.component';\r\nimport { MSPageSingleComponent } from './ms/shared/page-single/page-single.component';\r\nimport { MSPanelComponent } from './ms/shared/panel/panel.component';\r\nimport { MSServiceLayoutComponent } from './ms/shared/service-layout/service-layout.component';\r\nimport { MSLinkToDirective } from './ms/shared/link-to/link-to.directive';\r\n// import { default as en_US } from './ms/_i18n/en-US';\r\n// import { default as zh_CN } from './ms/_i18n/zh-CN';\r\n// import { default as zh_TW } from './ms/_i18n/zh-TW';\r\n\r\n\r\nexport const MS_WIDGETS = [MSAllNavComponent, MSSearchComponent, MSLangsComponent, MSUserComponent, MSNoticeComponent, MSRegionComponent];\r\nexport const MS_COMPONENTS = [MSLayoutComponent, MSSidebarComponent, MSTopbarComponent, ...MS_WIDGETS];\r\nexport const MS_SHARED_COMPONENTS = [\r\n  MSHelpComponent,\r\n  MSPageNavComponent,\r\n  MSPageBarComponent,\r\n  MSPageSingleComponent,\r\n  MSPanelComponent,\r\n  MSServiceLayoutComponent,\r\n  MSLinkToDirective,\r\n];\r\n//const MS_COMPONENTS=[]\r\n\r\n@NgModule({\r\n  imports: [\r\n    CoreModule,\r\n    RouterModule,\r\n    FormsModule,\r\n    DragDropModule,\r\n    MSSharedModule,\r\n    NzSpinModule,\r\n    NzAnchorModule,\r\n    NzAutocompleteModule,\r\n    NzAvatarModule,\r\n    NzDividerModule,\r\n    NzInputModule,\r\n    NzIconModule,\r\n    AlainThemeModule.forChild(),\r\n    ThemeBtnModule,\r\n  ],\r\n  declarations: [...MS_COMPONENTS],\r\n  exports: [...MS_COMPONENTS,MS_SHARED_COMPONENTS]\r\n})\r\nexport class LayoutModule {\r\n  static forRoot(): ModuleWithProviders<LayoutModule> {\r\n    return {\r\n      ngModule: LayoutModule,\r\n      providers: [\r\n        LAYOUT_INIT_PROVIDERS\r\n        //LAYOUT_MENU_PROVIDERS\r\n      ]\r\n    };\r\n  }\r\n  constructor(\r\n    //@Inject(ALAIN_I18N_TOKEN) i18n: I18NService\r\n    ) {\r\n    // i18n.load('zh-CN', zh_CN);\r\n    // i18n.load('zh-TW', zh_TW);\r\n    // i18n.load('en-US', en_US);\r\n  }\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["i0.ɵɵelement","i0.ɵɵelementStart","i0.ɵɵlistener","i0.ɵɵtext","i0.ɵɵelementEnd","i0.ɵɵproperty","i0.ɵɵadvance","i0.ɵɵtextInterpolate1","i0.ɵɵtemplate","i0.ɵɵtextInterpolate","i0.ɵɵclassMapInterpolate2","i0.ɵɵelementContainerStart","i0.ɵɵelementContainerEnd","i0.ɵɵclassMapInterpolate1","i0.ɵɵpropertyInterpolate","AbpRoutesService","i0.ɵɵpropertyInterpolate1","i0.ɵɵprojection","i0.ɵɵelementContainer"],"mappings":"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"}