{"version":3,"file":"fs-tw-crm-ng-alain.js","sources":["../libs/crm/ng-alain/src/lib/enterprise/main/main.component.ts","../libs/crm/ng-alain/src/lib/enterprise/layout/layout.component.ts","../../libs/crm/ng-alain/src/lib/enterprise/enterprise-routing.module.ts","../../libs/crm/ng-alain/src/lib/enterprise/enterprise.module.ts","../ng-alain/src/lib/crm-ng-alain-routing.module.ts","../ng-alain/src/lib/crm-ng-alain.module.ts","../../../../libs/crm/ng-alain/src/fs-tw-crm-ng-alain.ts"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ListService } from '@abp/ng.core';\r\nimport { STModule, STComponent, STColumn, STColumnTag } from '@delon/abc/st';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport * as _ from 'lodash';\r\nimport { CustomersApiService} from '@fs-tw/crm/proxy';\r\n\r\nconst TAG: STColumnTag = {\r\n  1: { text: '個人', color: 'green' },\r\n  2: { text: '企業', color: 'red' }\r\n};\r\nconst GENDER_TAG: STColumnTag = {\r\n  0: { text: '男', color: 'green' },\r\n  1: { text: '女', color: 'red' },\r\n  2: { text: '其他' }\r\n};\r\n\r\n@Component({\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.less'],\r\n  providers:[ListService]\r\n})\r\nexport class MainComponent implements OnInit {\r\n\r\n\r\n \r\n  @ViewChild('st', { static: false }) private st: STComponent;\r\n  columns: STColumn[] = [\r\n    { title: '編號', index: 'no'},\r\n    { title: '聯絡人', index: 'contactPerson' },\r\n    { title: '聯絡人職稱', index: 'jobTitle' },\r\n    { title: '性別', index: 'gender' , type: 'tag', tag: GENDER_TAG},\r\n    { title: '年齡', index: 'ageRange'},\r\n    { title: '電話', index: 'phone' },\r\n    { title: '信箱', index: 'email' },\r\n    { title: '來源管道', index: 'pipelineSource' },\r\n    { title: '企業名稱', index: 'name'},\r\n    { title: '統一編號', index: 'uniformNumber'},\r\n    { title: '公司設立日期', index: 'establishmentDate'},\r\n    { title: '資本額', index: 'money'},\r\n    { title: '縣市+地址', index: 'address' },\r\n    { title: '公司產品/服務', index: 'product' },\r\n    { title: '產業別', index: 'industry' },\r\n    { title: '類型', index: 'discriminator' , type: 'tag', tag: TAG},\r\n  ];\r\n\r\n  datas = [];\r\n  count = 0;\r\n\r\n\r\n\r\n  constructor(\r\n    public readonly list: ListService,\r\n    private customerService: CustomersApiService,\r\n  ) {\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n    const customerStreamCreator = query => this.customerService.getListByCustomerGetList(query);\r\n\r\n    this.list.hookToQuery(customerStreamCreator).subscribe(res=>{\r\n      res.items = res.items.filter(x=>x.discriminator == 2);\r\n      this.datas = res.items;\r\n      this.count = res.totalCount;\r\n    })\r\n\r\n  }\r\n  \r\n\r\n  ngOnDestroy() {\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  templateUrl: './layout.component.html',\r\n  styleUrls: ['./layout.component.scss']\r\n})\r\nexport class LayoutComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport {MainComponent} from './main/main.component';\r\nimport {LayoutComponent} from './layout/layout.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: MainComponent\r\n      }\r\n    ],\r\n  }\r\n];\r\n\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class EnterpriseRoutingModule { }\r\n","import { NgModule, ModuleWithProviders, NgModuleFactory } from '@angular/core';\r\nimport { AlainThemeModule } from '@delon/theme';\r\n\r\nimport { EnterpriseRoutingModule } from './enterprise-routing.module';\r\nimport { LazyModuleFactory } from '@abp/ng.core';\r\nimport { MainComponent } from './main/main.component';\r\nimport { LayoutComponent } from './layout/layout.component';\r\nimport { STModule } from '@delon/abc/st';\r\nimport { NzSelectModule } from 'ng-zorro-antd/select';\r\nimport { NzModalModule } from 'ng-zorro-antd/modal';\r\nimport { NzDrawerModule } from 'ng-zorro-antd/drawer';\r\nimport { CoreModule } from '@abp/ng.core';\r\nimport { ThemeSharedModule} from '@abp/ng.theme.shared'\r\n\r\n@NgModule({\r\n  declarations: [MainComponent, LayoutComponent],\r\n  imports: [\r\n    CoreModule,\r\n    ThemeSharedModule,\r\n    //NzSelectModule,\r\n\r\n    AlainThemeModule.forChild(),\r\n\r\n    NzDrawerModule,\r\n    STModule,\r\n    NzModalModule,\r\n\r\n    EnterpriseRoutingModule,\r\n  ],\r\n})\r\nexport class EnterpriseModule {\r\n  static forChild(): ModuleWithProviders<EnterpriseModule> {\r\n    return {\r\n      ngModule: EnterpriseModule,\r\n      providers: [],\r\n    };\r\n  }\r\n\r\n  static forLazy(): NgModuleFactory<EnterpriseModule> {\r\n    return new LazyModuleFactory(EnterpriseModule.forChild());\r\n  }\r\n  static forEarly(): NgModuleFactory<EnterpriseModule> {\r\n    return new LazyModuleFactory(EnterpriseModule.forChild());\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AuthGuard, PermissionGuard } from '@abp/ng.core';\r\nimport { EmployeeModule } from './employee/employee.module';\r\nimport { EnterpriseModule } from './enterprise/enterprise.module';\r\nimport { ProjectModule } from './project/project.module';\r\nimport { CustomerModule } from './customer/customer.module';\r\nimport { CounselingRecordModule } from './counseling-record/counseling-record.module';\r\nimport { SelectorOptionsManagementModule } from './selector-options-management/selector-options-management.module';\r\nimport { CpManagementModule } from './cp-management/cp-management.module';\r\n\r\nconst routes: Routes = [\r\n  { path: '', pathMatch: 'full', redirectTo: 'enterprise' },\r\n  {\r\n    path: '',\r\n    //canActivate: [AuthGuard, PermissionGuard],\r\n    children: [\r\n      {\r\n        path: 'enterprise',\r\n        loadChildren: EnterpriseModule.forEarly\r\n      },\r\n      // {\r\n      //   path: 'employee',\r\n      //   loadChildren: EmployeeModule.forEarly\r\n      // },\r\n      // {\r\n      //   path: 'projects',\r\n      //   loadChildren: ProjectModule.forEarly\r\n      // },\r\n      // {\r\n      //   path: 'customers',\r\n      //   loadChildren: CustomerModule.forEarly\r\n      // },\r\n      // {\r\n      //   path: 'counseling-recrod',\r\n      //   loadChildren: CounselingRecordModule.forEarly\r\n      // },{\r\n      //   path: 'selector-options-management',\r\n      //   loadChildren: SelectorOptionsManagementModule.forEarly\r\n      // },\r\n      // {\r\n      //   path: 'cp-management',\r\n      //   loadChildren: CpManagementModule.forEarly\r\n      // },\r\n    ]\r\n  }\r\n];\r\n// @dynamic\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CrmNgAlainRoutingModule { }\r\n","import { NgModule, ModuleWithProviders, NgModuleFactory } from '@angular/core';\r\nimport { LazyModuleFactory, CoreModule } from '@abp/ng.core';\r\nimport { CrmNgAlainRoutingModule } from './crm-ng-alain-routing.module';\r\n//import { SharedModule } from '@fs-tw/crm/ng-alain/shared';\r\n\r\n@NgModule({\r\n  imports: [\r\n    //SharedModule,\r\n    CoreModule,\r\n    CrmNgAlainRoutingModule\r\n  ]\r\n})\r\nexport class CrmNgAlainModule {\r\n  static forChild(): ModuleWithProviders<CrmNgAlainModule> {\r\n    return {\r\n      ngModule: CrmNgAlainModule,\r\n      providers: [],\r\n    };\r\n  }\r\n\r\n  static forLazy(): NgModuleFactory<CrmNgAlainModule> {\r\n    return new LazyModuleFactory(CrmNgAlainModule.forChild());\r\n  }\r\n\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {CrmNgAlainRoutingModule as ɵa} from './lib/crm-ng-alain-routing.module';\nexport {EnterpriseRoutingModule as ɵe} from './lib/enterprise/enterprise-routing.module';\nexport {EnterpriseModule as ɵb} from './lib/enterprise/enterprise.module';\nexport {LayoutComponent as ɵd} from './lib/enterprise/layout/layout.component';\nexport {MainComponent as ɵc} from './lib/enterprise/main/main.component';"],"names":["routes"],"mappings":"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"}