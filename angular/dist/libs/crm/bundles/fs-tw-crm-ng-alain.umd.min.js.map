{"version":3,"sources":["../libs/crm/ng-alain/src/lib/enterprise/main/main.component.ts","../libs/crm/ng-alain/src/lib/enterprise/layout/layout.component.ts","../../libs/crm/ng-alain/src/lib/enterprise/enterprise-routing.module.ts","../../libs/crm/ng-alain/src/lib/enterprise/enterprise.module.ts","../ng-alain/src/lib/crm-ng-alain-routing.module.ts","../ng-alain/src/lib/crm-ng-alain.module.ts"],"names":["TAG","1","text","color","2","GENDER_TAG","0","MainComponent","list","customerService","this","columns","title","index","type","tag","datas","count","prototype","ngOnInit","_this","hookToQuery","query","getListByCustomerGetList","subscribe","res","items","filter","x","discriminator","totalCount","ngOnDestroy","Component","args","template","providers","ListService","CustomersApiService","ViewChild","static","LayoutComponent","routes","path","component","children","NgModule","imports","RouterModule","forChild","exports","EnterpriseModule","ngModule","forLazy","LazyModuleFactory","forEarly","declarations","CoreModule","ThemeSharedModule","AlainThemeModule","NzDrawerModule","STModule","NzModalModule","EnterpriseRoutingModule","pathMatch","redirectTo","loadChildren","CrmNgAlainModule","CrmNgAlainRoutingModule"],"mappings":"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","sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ListService } from '@abp/ng.core';\r\nimport { STModule, STComponent, STColumn, STColumnTag } from '@delon/abc/st';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport * as _ from 'lodash';\r\nimport { CustomersApiService} from '@fs-tw/crm/proxy';\r\n\r\nconst TAG: STColumnTag = {\r\n  1: { text: '個人', color: 'green' },\r\n  2: { text: '企業', color: 'red' }\r\n};\r\nconst GENDER_TAG: STColumnTag = {\r\n  0: { text: '男', color: 'green' },\r\n  1: { text: '女', color: 'red' },\r\n  2: { text: '其他' }\r\n};\r\n\r\n@Component({\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.less'],\r\n  providers:[ListService]\r\n})\r\nexport class MainComponent implements OnInit {\r\n\r\n\r\n \r\n  @ViewChild('st', { static: false }) private st: STComponent;\r\n  columns: STColumn[] = [\r\n    { title: '編號', index: 'no'},\r\n    { title: '聯絡人', index: 'contactPerson' },\r\n    { title: '聯絡人職稱', index: 'jobTitle' },\r\n    { title: '性別', index: 'gender' , type: 'tag', tag: GENDER_TAG},\r\n    { title: '年齡', index: 'ageRange'},\r\n    { title: '電話', index: 'phone' },\r\n    { title: '信箱', index: 'email' },\r\n    { title: '來源管道', index: 'pipelineSource' },\r\n    { title: '企業名稱', index: 'name'},\r\n    { title: '統一編號', index: 'uniformNumber'},\r\n    { title: '公司設立日期', index: 'establishmentDate'},\r\n    { title: '資本額', index: 'money'},\r\n    { title: '縣市+地址', index: 'address' },\r\n    { title: '公司產品/服務', index: 'product' },\r\n    { title: '產業別', index: 'industry' },\r\n    { title: '類型', index: 'discriminator' , type: 'tag', tag: TAG},\r\n  ];\r\n\r\n  datas = [];\r\n  count = 0;\r\n\r\n\r\n\r\n  constructor(\r\n    public readonly list: ListService,\r\n    private customerService: CustomersApiService,\r\n  ) {\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n    const customerStreamCreator = query => this.customerService.getListByCustomerGetList(query);\r\n\r\n    this.list.hookToQuery(customerStreamCreator).subscribe(res=>{\r\n      res.items = res.items.filter(x=>x.discriminator == 2);\r\n      this.datas = res.items;\r\n      this.count = res.totalCount;\r\n    })\r\n\r\n  }\r\n  \r\n\r\n  ngOnDestroy() {\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  templateUrl: './layout.component.html',\r\n  styleUrls: ['./layout.component.scss']\r\n})\r\nexport class LayoutComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport {MainComponent} from './main/main.component';\r\nimport {LayoutComponent} from './layout/layout.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: MainComponent\r\n      }\r\n    ],\r\n  }\r\n];\r\n\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class EnterpriseRoutingModule { }\r\n","import { NgModule, ModuleWithProviders, NgModuleFactory } from '@angular/core';\r\nimport { AlainThemeModule } from '@delon/theme';\r\n\r\nimport { EnterpriseRoutingModule } from './enterprise-routing.module';\r\nimport { LazyModuleFactory } from '@abp/ng.core';\r\nimport { MainComponent } from './main/main.component';\r\nimport { LayoutComponent } from './layout/layout.component';\r\nimport { STModule } from '@delon/abc/st';\r\nimport { NzSelectModule } from 'ng-zorro-antd/select';\r\nimport { NzModalModule } from 'ng-zorro-antd/modal';\r\nimport { NzDrawerModule } from 'ng-zorro-antd/drawer';\r\nimport { CoreModule } from '@abp/ng.core';\r\nimport { ThemeSharedModule} from '@abp/ng.theme.shared'\r\n\r\n@NgModule({\r\n  declarations: [MainComponent, LayoutComponent],\r\n  imports: [\r\n    CoreModule,\r\n    ThemeSharedModule,\r\n    //NzSelectModule,\r\n\r\n    AlainThemeModule.forChild(),\r\n\r\n    NzDrawerModule,\r\n    STModule,\r\n    NzModalModule,\r\n\r\n    EnterpriseRoutingModule,\r\n  ],\r\n})\r\nexport class EnterpriseModule {\r\n  static forChild(): ModuleWithProviders<EnterpriseModule> {\r\n    return {\r\n      ngModule: EnterpriseModule,\r\n      providers: [],\r\n    };\r\n  }\r\n\r\n  static forLazy(): NgModuleFactory<EnterpriseModule> {\r\n    return new LazyModuleFactory(EnterpriseModule.forChild());\r\n  }\r\n  static forEarly(): NgModuleFactory<EnterpriseModule> {\r\n    return new LazyModuleFactory(EnterpriseModule.forChild());\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AuthGuard, PermissionGuard } from '@abp/ng.core';\r\nimport { EmployeeModule } from './employee/employee.module';\r\nimport { EnterpriseModule } from './enterprise/enterprise.module';\r\nimport { ProjectModule } from './project/project.module';\r\nimport { CustomerModule } from './customer/customer.module';\r\nimport { CounselingRecordModule } from './counseling-record/counseling-record.module';\r\nimport { SelectorOptionsManagementModule } from './selector-options-management/selector-options-management.module';\r\nimport { CpManagementModule } from './cp-management/cp-management.module';\r\n\r\nconst routes: Routes = [\r\n  { path: '', pathMatch: 'full', redirectTo: 'enterprise' },\r\n  {\r\n    path: '',\r\n    //canActivate: [AuthGuard, PermissionGuard],\r\n    children: [\r\n      {\r\n        path: 'enterprise',\r\n        loadChildren: EnterpriseModule.forEarly\r\n      },\r\n      // {\r\n      //   path: 'employee',\r\n      //   loadChildren: EmployeeModule.forEarly\r\n      // },\r\n      // {\r\n      //   path: 'projects',\r\n      //   loadChildren: ProjectModule.forEarly\r\n      // },\r\n      // {\r\n      //   path: 'customers',\r\n      //   loadChildren: CustomerModule.forEarly\r\n      // },\r\n      // {\r\n      //   path: 'counseling-recrod',\r\n      //   loadChildren: CounselingRecordModule.forEarly\r\n      // },{\r\n      //   path: 'selector-options-management',\r\n      //   loadChildren: SelectorOptionsManagementModule.forEarly\r\n      // },\r\n      // {\r\n      //   path: 'cp-management',\r\n      //   loadChildren: CpManagementModule.forEarly\r\n      // },\r\n    ]\r\n  }\r\n];\r\n// @dynamic\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CrmNgAlainRoutingModule { }\r\n","import { NgModule, ModuleWithProviders, NgModuleFactory } from '@angular/core';\r\nimport { LazyModuleFactory, CoreModule } from '@abp/ng.core';\r\nimport { CrmNgAlainRoutingModule } from './crm-ng-alain-routing.module';\r\n//import { SharedModule } from '@fs-tw/crm/ng-alain/shared';\r\n\r\n@NgModule({\r\n  imports: [\r\n    //SharedModule,\r\n    CoreModule,\r\n    CrmNgAlainRoutingModule\r\n  ]\r\n})\r\nexport class CrmNgAlainModule {\r\n  static forChild(): ModuleWithProviders<CrmNgAlainModule> {\r\n    return {\r\n      ngModule: CrmNgAlainModule,\r\n      providers: [],\r\n    };\r\n  }\r\n\r\n  static forLazy(): NgModuleFactory<CrmNgAlainModule> {\r\n    return new LazyModuleFactory(CrmNgAlainModule.forChild());\r\n  }\r\n\r\n}\r\n"]}