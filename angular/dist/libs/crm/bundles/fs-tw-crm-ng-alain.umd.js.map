{"version":3,"file":"fs-tw-crm-ng-alain.umd.js","sources":["../libs/crm/ng-alain/src/lib/enterprise/main/main.component.ts","../libs/crm/ng-alain/src/lib/enterprise/layout/layout.component.ts","../../libs/crm/ng-alain/src/lib/enterprise/enterprise-routing.module.ts","../../libs/crm/ng-alain/src/lib/enterprise/enterprise.module.ts","../ng-alain/src/lib/crm-ng-alain-routing.module.ts","../ng-alain/src/lib/crm-ng-alain.module.ts","../../../../libs/crm/ng-alain/src/fs-tw-crm-ng-alain.ts"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ListService } from '@abp/ng.core';\r\nimport { STModule, STComponent, STColumn, STColumnTag } from '@delon/abc/st';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport * as _ from 'lodash';\r\nimport { CustomersApiService} from '@fs-tw/crm/proxy';\r\n\r\nconst TAG: STColumnTag = {\r\n  1: { text: '個人', color: 'green' },\r\n  2: { text: '企業', color: 'red' }\r\n};\r\nconst GENDER_TAG: STColumnTag = {\r\n  0: { text: '男', color: 'green' },\r\n  1: { text: '女', color: 'red' },\r\n  2: { text: '其他' }\r\n};\r\n\r\n@Component({\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.less'],\r\n  providers:[ListService]\r\n})\r\nexport class MainComponent implements OnInit {\r\n\r\n\r\n \r\n  @ViewChild('st', { static: false }) private st: STComponent;\r\n  columns: STColumn[] = [\r\n    { title: '編號', index: 'no'},\r\n    { title: '聯絡人', index: 'contactPerson' },\r\n    { title: '聯絡人職稱', index: 'jobTitle' },\r\n    { title: '性別', index: 'gender' , type: 'tag', tag: GENDER_TAG},\r\n    { title: '年齡', index: 'ageRange'},\r\n    { title: '電話', index: 'phone' },\r\n    { title: '信箱', index: 'email' },\r\n    { title: '來源管道', index: 'pipelineSource' },\r\n    { title: '企業名稱', index: 'name'},\r\n    { title: '統一編號', index: 'uniformNumber'},\r\n    { title: '公司設立日期', index: 'establishmentDate'},\r\n    { title: '資本額', index: 'money'},\r\n    { title: '縣市+地址', index: 'address' },\r\n    { title: '公司產品/服務', index: 'product' },\r\n    { title: '產業別', index: 'industry' },\r\n    { title: '類型', index: 'discriminator' , type: 'tag', tag: TAG},\r\n  ];\r\n\r\n  datas = [];\r\n  count = 0;\r\n\r\n\r\n\r\n  constructor(\r\n    public readonly list: ListService,\r\n    private customerService: CustomersApiService,\r\n  ) {\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n    const customerStreamCreator = query => this.customerService.getListByCustomerGetList(query);\r\n\r\n    this.list.hookToQuery(customerStreamCreator).subscribe(res=>{\r\n      res.items = res.items.filter(x=>x.discriminator == 2);\r\n      this.datas = res.items;\r\n      this.count = res.totalCount;\r\n    })\r\n\r\n  }\r\n  \r\n\r\n  ngOnDestroy() {\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  templateUrl: './layout.component.html',\r\n  styleUrls: ['./layout.component.scss']\r\n})\r\nexport class LayoutComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport {MainComponent} from './main/main.component';\r\nimport {LayoutComponent} from './layout/layout.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: MainComponent\r\n      }\r\n    ],\r\n  }\r\n];\r\n\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class EnterpriseRoutingModule { }\r\n","import { NgModule, ModuleWithProviders, NgModuleFactory } from '@angular/core';\r\nimport { AlainThemeModule } from '@delon/theme';\r\n\r\nimport { EnterpriseRoutingModule } from './enterprise-routing.module';\r\nimport { LazyModuleFactory } from '@abp/ng.core';\r\nimport { MainComponent } from './main/main.component';\r\nimport { LayoutComponent } from './layout/layout.component';\r\nimport { STModule } from '@delon/abc/st';\r\nimport { NzSelectModule } from 'ng-zorro-antd/select';\r\nimport { NzModalModule } from 'ng-zorro-antd/modal';\r\nimport { NzDrawerModule } from 'ng-zorro-antd/drawer';\r\nimport { CoreModule } from '@abp/ng.core';\r\nimport { ThemeSharedModule} from '@abp/ng.theme.shared'\r\n\r\n@NgModule({\r\n  declarations: [MainComponent, LayoutComponent],\r\n  imports: [\r\n    CoreModule,\r\n    ThemeSharedModule,\r\n    //NzSelectModule,\r\n\r\n    AlainThemeModule.forChild(),\r\n\r\n    NzDrawerModule,\r\n    STModule,\r\n    NzModalModule,\r\n\r\n    EnterpriseRoutingModule,\r\n  ],\r\n})\r\nexport class EnterpriseModule {\r\n  static forChild(): ModuleWithProviders<EnterpriseModule> {\r\n    return {\r\n      ngModule: EnterpriseModule,\r\n      providers: [],\r\n    };\r\n  }\r\n\r\n  static forLazy(): NgModuleFactory<EnterpriseModule> {\r\n    return new LazyModuleFactory(EnterpriseModule.forChild());\r\n  }\r\n  static forEarly(): NgModuleFactory<EnterpriseModule> {\r\n    return new LazyModuleFactory(EnterpriseModule.forChild());\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AuthGuard, PermissionGuard } from '@abp/ng.core';\r\nimport { EmployeeModule } from './employee/employee.module';\r\nimport { EnterpriseModule } from './enterprise/enterprise.module';\r\nimport { ProjectModule } from './project/project.module';\r\nimport { CustomerModule } from './customer/customer.module';\r\nimport { CounselingRecordModule } from './counseling-record/counseling-record.module';\r\nimport { SelectorOptionsManagementModule } from './selector-options-management/selector-options-management.module';\r\nimport { CpManagementModule } from './cp-management/cp-management.module';\r\n\r\nconst routes: Routes = [\r\n  { path: '', pathMatch: 'full', redirectTo: 'enterprise' },\r\n  {\r\n    path: '',\r\n    //canActivate: [AuthGuard, PermissionGuard],\r\n    children: [\r\n      {\r\n        path: 'enterprise',\r\n        loadChildren: EnterpriseModule.forEarly\r\n      },\r\n      // {\r\n      //   path: 'employee',\r\n      //   loadChildren: EmployeeModule.forEarly\r\n      // },\r\n      // {\r\n      //   path: 'projects',\r\n      //   loadChildren: ProjectModule.forEarly\r\n      // },\r\n      // {\r\n      //   path: 'customers',\r\n      //   loadChildren: CustomerModule.forEarly\r\n      // },\r\n      // {\r\n      //   path: 'counseling-recrod',\r\n      //   loadChildren: CounselingRecordModule.forEarly\r\n      // },{\r\n      //   path: 'selector-options-management',\r\n      //   loadChildren: SelectorOptionsManagementModule.forEarly\r\n      // },\r\n      // {\r\n      //   path: 'cp-management',\r\n      //   loadChildren: CpManagementModule.forEarly\r\n      // },\r\n    ]\r\n  }\r\n];\r\n// @dynamic\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CrmNgAlainRoutingModule { }\r\n","import { NgModule, ModuleWithProviders, NgModuleFactory } from '@angular/core';\r\nimport { LazyModuleFactory, CoreModule } from '@abp/ng.core';\r\nimport { CrmNgAlainRoutingModule } from './crm-ng-alain-routing.module';\r\n//import { SharedModule } from '@fs-tw/crm/ng-alain/shared';\r\n\r\n@NgModule({\r\n  imports: [\r\n    //SharedModule,\r\n    CoreModule,\r\n    CrmNgAlainRoutingModule\r\n  ]\r\n})\r\nexport class CrmNgAlainModule {\r\n  static forChild(): ModuleWithProviders<CrmNgAlainModule> {\r\n    return {\r\n      ngModule: CrmNgAlainModule,\r\n      providers: [],\r\n    };\r\n  }\r\n\r\n  static forLazy(): NgModuleFactory<CrmNgAlainModule> {\r\n    return new LazyModuleFactory(CrmNgAlainModule.forChild());\r\n  }\r\n\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {CrmNgAlainRoutingModule as ɵa} from './lib/crm-ng-alain-routing.module';\nexport {EnterpriseRoutingModule as ɵe} from './lib/enterprise/enterprise-routing.module';\nexport {EnterpriseModule as ɵb} from './lib/enterprise/enterprise.module';\nexport {LayoutComponent as ɵd} from './lib/enterprise/layout/layout.component';\nexport {MainComponent as ɵc} from './lib/enterprise/main/main.component';"],"names":["Component","ListService","CustomersApiService","ViewChild","NgModule","RouterModule","LazyModuleFactory","CoreModule","ThemeSharedModule","AlainThemeModule","NzDrawerModule","STModule","NzModalModule","routes"],"mappings":"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"}