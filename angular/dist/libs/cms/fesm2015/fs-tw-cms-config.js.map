{"version":3,"file":"fs-tw-cms-config.js","sources":["../../../../libs/cms/config/src/providers/route.provider.ts","../../../../libs/cms/config/src/cms-config.module.ts","../../../../libs/cms/config/src/fs-tw-cms-config.ts"],"sourcesContent":["import { eLayoutType, RoutesService } from '@abp/ng.core';\r\nimport { APP_INITIALIZER } from '@angular/core';\r\nimport { eThemeSharedRouteNames } from '@abp/ng.theme.shared';\r\nimport { eCmsRouteNames } from '../enums/route-names';\r\nimport { eCmsPolicyNames } from '../enums/policy-names';\r\n\r\nexport const CMS_ROUTE_PROVIDERS = [\r\n  {\r\n    provide: APP_INITIALIZER,\r\n    useFactory: configureRoutes,\r\n    deps: [RoutesService],\r\n    multi: true,\r\n  },\r\n];\r\n\r\nexport function configureRoutes(routes: RoutesService) {\r\n  // let shortcut = {\r\n  //   path: '/cms',\r\n  //   name: eCmsRouteNames.Cms,\r\n  //   layout: eLayoutType.application,\r\n  //   parentName: eThemeSharedRouteNames.Administration,\r\n  //   iconClass: 'fa fa-folder-open',\r\n  //   order: 6,\r\n  //   //requiredPolicy: eCmsPolicyNames.DirectoryDescriptor,\r\n  // };\r\n\r\n  let cmsRoute =  [\r\n    {\r\n      parentName: eThemeSharedRouteNames.Administration,\r\n      path: '/cms',\r\n      name: eCmsRouteNames.Cms,    \r\n      iconClass: 'fa fa-bookmark',\r\n      layout: eLayoutType.application,  \r\n      order: 2,\r\n      // requiredPolicy: 'FS.Cms.Menu.前台內容管理',\r\n      navConfig:{\r\n        name: eCmsRouteNames.Cms,\r\n        title: eCmsRouteNames.Cms,\r\n        doc: eCmsRouteNames.Cms\r\n      }\r\n    }\r\n  ];\r\n\r\n  let cmsBasicRoute = [\r\n    {\r\n      path: '/cms',\r\n      name: eCmsRouteNames.Basic,\r\n      parentName: eCmsRouteNames.Cms,\r\n      iconClass: 'fa fa-id-card-o',\r\n      layout: eLayoutType.application,\r\n      order: 1    \r\n    },\r\n    {\r\n      path: '/cms/post',\r\n      name: eCmsRouteNames.Post,\r\n      parentName: eCmsRouteNames.Basic,\r\n      // requiredPolicy: 'FS.Cms.Menu.前台內容管理.最新消息管理',\r\n      iconClass: 'fa fa-university',\r\n      order: 1,\r\n    },\r\n    {\r\n      path: '/cms/post/:blogId/detail',\r\n      name: eCmsRouteNames.Post_Detail,\r\n      parentName: eCmsRouteNames.Post,\r\n      iconClass: 'fa fa-university',\r\n      order: 1,\r\n    },\r\n    {\r\n      path: '/cms/post/:blogId/detail/:postId',\r\n      name: eCmsRouteNames.Post_Detail_Id,\r\n      parentName: eCmsRouteNames.Post,\r\n      iconClass: 'fa fa-university',\r\n      order: 1,\r\n    },\r\n    {\r\n      path: '/cms/tag',\r\n      name: eCmsRouteNames.Tag,\r\n      parentName: eCmsRouteNames.Basic,\r\n      iconClass: 'fa fa-university',\r\n      order: 1,\r\n    },\r\n    {\r\n      path: '/cms/tag/:tagId',\r\n      name: eCmsRouteNames.Tag_detail,\r\n      parentName: eCmsRouteNames.Tag,\r\n      iconClass: 'fa fa-university',\r\n      order: 1\r\n    },\r\n\r\n\r\n\r\n    // {\r\n    //   path: '/cms/storage',\r\n    //   name: eCmsRouteNames.Storage,\r\n    //   parentName: eCmsRouteNames.Basic,\r\n    //   requiredPolicy: 'FS.Cms.Menu.前台內容管理.檔案管理',\r\n    //   iconClass: 'fa fa-university',\r\n    //   order: 2,\r\n    // },\r\n  \r\n  ]\r\n\r\n  \r\n  return () => {\r\n    routes.add([\r\n      ...cmsRoute,\r\n      ...cmsBasicRoute\r\n    ]);\r\n  };\r\n}\r\n","import { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { CMS_ROUTE_PROVIDERS } from './providers/route.provider';\r\n\r\n@NgModule()\r\nexport class CmsConfigModule {\r\n  static forRoot(): ModuleWithProviders<CmsConfigModule> {\r\n    return {\r\n      ngModule: CmsConfigModule,\r\n      providers: [CMS_ROUTE_PROVIDERS],\r\n    };\r\n  }\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;MAMa,mBAAmB,GAAG;IACjC;QACE,OAAO,EAAE,eAAe;QACxB,UAAU,EAAE,eAAe;QAC3B,IAAI,EAAE,CAAC,aAAa,CAAC;QACrB,KAAK,EAAE,IAAI;KACZ;EACD;SAEc,eAAe,CAAC,MAAqB;;;;;;;;;;IAWnD,IAAI,QAAQ,GAAI;QACd;YACE,UAAU;YACV,IAAI,EAAE,MAAM;YACZ,IAAI;YACJ,SAAS,EAAE,gBAAgB;YAC3B,MAAM;YACN,KAAK,EAAE,CAAC;;YAER,SAAS,EAAC;gBACR,IAAI;gBACJ,KAAK;gBACL,GAAG;aACJ;SACF;KACF,CAAC;IAEF,IAAI,aAAa,GAAG;QAClB;YACE,IAAI,EAAE,MAAM;YACZ,IAAI;YACJ,UAAU;YACV,SAAS,EAAE,iBAAiB;YAC5B,MAAM;YACN,KAAK,EAAE,CAAC;SACT;QACD;YACE,IAAI,EAAE,WAAW;YACjB,IAAI;YACJ,UAAU;;YAEV,SAAS,EAAE,kBAAkB;YAC7B,KAAK,EAAE,CAAC;SACT;QACD;YACE,IAAI,EAAE,0BAA0B;YAChC,IAAI;YACJ,UAAU;YACV,SAAS,EAAE,kBAAkB;YAC7B,KAAK,EAAE,CAAC;SACT;QACD;YACE,IAAI,EAAE,kCAAkC;YACxC,IAAI;YACJ,UAAU;YACV,SAAS,EAAE,kBAAkB;YAC7B,KAAK,EAAE,CAAC;SACT;QACD;YACE,IAAI,EAAE,UAAU;YAChB,IAAI;YACJ,UAAU;YACV,SAAS,EAAE,kBAAkB;YAC7B,KAAK,EAAE,CAAC;SACT;QACD;YACE,IAAI,EAAE,iBAAiB;YACvB,IAAI;YACJ,UAAU;YACV,SAAS,EAAE,kBAAkB;YAC7B,KAAK,EAAE,CAAC;SACT;KAaF,CAAA;IAGD,OAAO;QACL,MAAM,CAAC,GAAG,CAAC;YACT,GAAG,QAAQ;YACX,GAAG,aAAa;SACjB,CAAC,CAAC;KACJ,CAAC;AACJ;;MCzGa,eAAe;IAC1B,OAAO,OAAO;QACZ,OAAO;YACL,QAAQ,EAAE,eAAe;YACzB,SAAS,EAAE,CAAC,mBAAmB,CAAC;SACjC,CAAC;KACH;;8EANU,eAAe;gDAAf,eAAe;;oFAAf,eAAe;cAD3B,QAAQ;;;ACHT;;;;;;"}