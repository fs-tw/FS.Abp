{"version":3,"file":"route.provider.js","sourceRoot":"","sources":["../../../../../../libs/cms/config/src/providers/route.provider.ts"],"names":[],"mappings":"AAAA,OAAO,EAAe,aAAa,EAAE,MAAM,cAAc,CAAC;AAC1D,OAAO,EAAE,eAAe,EAAE,MAAM,eAAe,CAAC;AAKhD,MAAM,CAAC,MAAM,mBAAmB,GAAG;IACjC;QACE,OAAO,EAAE,eAAe;QACxB,UAAU,EAAE,eAAe;QAC3B,IAAI,EAAE,CAAC,aAAa,CAAC;QACrB,KAAK,EAAE,IAAI;KACZ;CACF,CAAC;AAEF,MAAM,UAAU,eAAe,CAAC,MAAqB;IACnD,mBAAmB;IACnB,kBAAkB;IAClB,8BAA8B;IAC9B,qCAAqC;IACrC,uDAAuD;IACvD,oCAAoC;IACpC,cAAc;IACd,2DAA2D;IAC3D,KAAK;IAEL,IAAI,QAAQ,GAAI;QACd;YACE,UAAU,6DAAuC;YACjD,IAAI,EAAE,MAAM;YACZ,IAAI,8BAAoB;YACxB,SAAS,EAAE,gBAAgB;YAC3B,MAAM,iCAAyB;YAC/B,KAAK,EAAE,CAAC;YACR,wCAAwC;YACxC,SAAS,EAAC;gBACR,IAAI,8BAAoB;gBACxB,KAAK,8BAAoB;gBACzB,GAAG,8BAAoB;aACxB;SACF;KACF,CAAC;IAEF,IAAI,aAAa,GAAG;QAClB;YACE,IAAI,EAAE,MAAM;YACZ,IAAI,iCAAsB;YAC1B,UAAU,8BAAoB;YAC9B,SAAS,EAAE,iBAAiB;YAC5B,MAAM,iCAAyB;YAC/B,KAAK,EAAE,CAAC;SACT;QACD;YACE,IAAI,EAAE,WAAW;YACjB,IAAI,yCAAqB;YACzB,UAAU,iCAAsB;YAChC,+CAA+C;YAC/C,SAAS,EAAE,kBAAkB;YAC7B,KAAK,EAAE,CAAC;SACT;QACD;YACE,IAAI,EAAE,kBAAkB;YACxB,IAAI,4CAA4B;YAChC,UAAU,yCAAqB;YAC/B,SAAS,EAAE,kBAAkB;YAC7B,KAAK,EAAE,CAAC;SACT;QACD;YACE,IAAI,EAAE,0BAA0B;YAChC,IAAI,kDAA+B;YACnC,UAAU,yCAAqB;YAC/B,SAAS,EAAE,kBAAkB;YAC7B,KAAK,EAAE,CAAC;SACT;KA2BF,CAAA;IAGD,OAAO,GAAG,EAAE;QACV,MAAM,CAAC,GAAG,CAAC;YACT,GAAG,QAAQ;YACX,GAAG,aAAa;SACjB,CAAC,CAAC;IACL,CAAC,CAAC;AACJ,CAAC","sourcesContent":["import { eLayoutType, RoutesService } from '@abp/ng.core';\r\nimport { APP_INITIALIZER } from '@angular/core';\r\nimport { eThemeSharedRouteNames } from '@abp/ng.theme.shared';\r\nimport { eCmsRouteNames } from '../enums/route-names';\r\nimport { eCmsPolicyNames } from '../enums/policy-names';\r\n\r\nexport const CMS_ROUTE_PROVIDERS = [\r\n  {\r\n    provide: APP_INITIALIZER,\r\n    useFactory: configureRoutes,\r\n    deps: [RoutesService],\r\n    multi: true,\r\n  },\r\n];\r\n\r\nexport function configureRoutes(routes: RoutesService) {\r\n  // let shortcut = {\r\n  //   path: '/cms',\r\n  //   name: eCmsRouteNames.Cms,\r\n  //   layout: eLayoutType.application,\r\n  //   parentName: eThemeSharedRouteNames.Administration,\r\n  //   iconClass: 'fa fa-folder-open',\r\n  //   order: 6,\r\n  //   //requiredPolicy: eCmsPolicyNames.DirectoryDescriptor,\r\n  // };\r\n\r\n  let cmsRoute =  [\r\n    {\r\n      parentName: eThemeSharedRouteNames.Administration,\r\n      path: '/cms',\r\n      name: eCmsRouteNames.Cms,    \r\n      iconClass: 'fa fa-bookmark',\r\n      layout: eLayoutType.application,  \r\n      order: 2,\r\n      // requiredPolicy: 'FS.Cms.Menu.前台內容管理',\r\n      navConfig:{\r\n        name: eCmsRouteNames.Cms,\r\n        title: eCmsRouteNames.Cms,\r\n        doc: eCmsRouteNames.Cms\r\n      }\r\n    }\r\n  ];\r\n\r\n  let cmsBasicRoute = [\r\n    {\r\n      path: '/cms',\r\n      name: eCmsRouteNames.Basic,\r\n      parentName: eCmsRouteNames.Cms,\r\n      iconClass: 'fa fa-id-card-o',\r\n      layout: eLayoutType.application,\r\n      order: 1    \r\n    },\r\n    {\r\n      path: '/cms/post',\r\n      name: eCmsRouteNames.Post,\r\n      parentName: eCmsRouteNames.Basic,\r\n      // requiredPolicy: 'FS.Cms.Menu.前台內容管理.最新消息管理',\r\n      iconClass: 'fa fa-university',\r\n      order: 1,\r\n    },\r\n    {\r\n      path: '/cms/post/detail',\r\n      name: eCmsRouteNames.Post_Detail,\r\n      parentName: eCmsRouteNames.Post,\r\n      iconClass: 'fa fa-university',\r\n      order: 1\r\n    },\r\n    {\r\n      path: '/cms/post/detail/:postId',\r\n      name: eCmsRouteNames.Post_Detail_Id,\r\n      parentName: eCmsRouteNames.Post,\r\n      iconClass: 'fa fa-university',\r\n      order: 1\r\n    },\r\n    // {\r\n    //   path: '/cms/tag',\r\n    //   name: eCmsRouteNames.Tag,\r\n    //   parentName: eCmsRouteNames.Basic,\r\n    //   iconClass: 'fa fa-university',\r\n    //   order: 1,\r\n    // },\r\n    // {\r\n    //   path: '/cms/tag/:tagId',\r\n    //   name: eCmsRouteNames.Tag_detail,\r\n    //   parentName: eCmsRouteNames.Tag,\r\n    //   iconClass: 'fa fa-university',\r\n    //   order: 1\r\n    // },\r\n\r\n\r\n\r\n    // {\r\n    //   path: '/cms/storage',\r\n    //   name: eCmsRouteNames.Storage,\r\n    //   parentName: eCmsRouteNames.Basic,\r\n    //   requiredPolicy: 'FS.Cms.Menu.前台內容管理.檔案管理',\r\n    //   iconClass: 'fa fa-university',\r\n    //   order: 2,\r\n    // },\r\n  \r\n  ]\r\n\r\n  \r\n  return () => {\r\n    routes.add([\r\n      ...cmsRoute,\r\n      ...cmsBasicRoute\r\n    ]);\r\n  };\r\n}\r\n"]}