!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@abp/ng.core"),require("@abp/ng.theme.shared"),require("@angular/core"),require("@fs-tw/emailing/proxy"),require("rxjs/operators"),require("@angular/common"),require("@angular/forms")):"function"==typeof define&&define.amd?define("@fs-tw/emailing/config",["exports","@abp/ng.core","@abp/ng.theme.shared","@angular/core","@fs-tw/emailing/proxy","rxjs/operators","@angular/common","@angular/forms"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self)["fs-tw"]=e["fs-tw"]||{},e["fs-tw"].emailing=e["fs-tw"].emailing||{},e["fs-tw"].emailing.config={}),e.i2,e.i1,e.ng.core,e["fs-tw"].emailing.proxy,e.rxjs.operators,e.ng.common,e.ng.forms)}(this,(function(e,t,n,i,l,a,r,o){"use strict";function p(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementContainerStart(0),i.ɵɵelementStart(1,"div",1),i.ɵɵlistener("keyup.enter",(function(){i.ɵɵrestoreView(n);var e=t.$implicit;return i.ɵɵnextContext().submit(e)})),i.ɵɵelementStart(2,"div",2),i.ɵɵelementStart(3,"label"),i.ɵɵtext(4),i.ɵɵpipe(5,"abpLocalization"),i.ɵɵelementEnd(),i.ɵɵelementStart(6,"input",3),i.ɵɵlistener("ngModelChange",(function(e){return t.$implicit.defaultFromAddress=e})),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(7,"div",2),i.ɵɵelementStart(8,"label"),i.ɵɵtext(9),i.ɵɵpipe(10,"abpLocalization"),i.ɵɵelementEnd(),i.ɵɵelementStart(11,"input",3),i.ɵɵlistener("ngModelChange",(function(e){return t.$implicit.defaultFromDisplayName=e})),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(12,"div",2),i.ɵɵelementStart(13,"label"),i.ɵɵtext(14),i.ɵɵpipe(15,"abpLocalization"),i.ɵɵelementEnd(),i.ɵɵelementStart(16,"input",3),i.ɵɵlistener("ngModelChange",(function(e){var n=t.$implicit;return(null==n?null:n.smtp).host=e})),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(17,"div",2),i.ɵɵelementStart(18,"label"),i.ɵɵtext(19),i.ɵɵpipe(20,"abpLocalization"),i.ɵɵelementEnd(),i.ɵɵelementStart(21,"input",3),i.ɵɵlistener("ngModelChange",(function(e){var n=t.$implicit;return(null==n?null:n.smtp).port=e})),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(22,"div",2),i.ɵɵelementStart(23,"label"),i.ɵɵtext(24),i.ɵɵpipe(25,"abpLocalization"),i.ɵɵelementEnd(),i.ɵɵelementStart(26,"input",3),i.ɵɵlistener("ngModelChange",(function(e){var n=t.$implicit;return(null==n?null:n.smtp).userName=e})),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(27,"div",2),i.ɵɵelementStart(28,"label"),i.ɵɵtext(29),i.ɵɵpipe(30,"abpLocalization"),i.ɵɵelementEnd(),i.ɵɵelementStart(31,"input",3),i.ɵɵlistener("ngModelChange",(function(e){var n=t.$implicit;return(null==n?null:n.smtp).password=e})),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(32,"div",2),i.ɵɵelementStart(33,"label"),i.ɵɵtext(34),i.ɵɵpipe(35,"abpLocalization"),i.ɵɵelementEnd(),i.ɵɵelementStart(36,"input",3),i.ɵɵlistener("ngModelChange",(function(e){var n=t.$implicit;return(null==n?null:n.smtp).domain=e})),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(37,"div",4),i.ɵɵelementStart(38,"input",5),i.ɵɵlistener("ngModelChange",(function(e){var n=t.$implicit;return(null==n?null:n.smtp).enableSsl=e})),i.ɵɵelementEnd(),i.ɵɵelementStart(39,"label",6),i.ɵɵtext(40),i.ɵɵpipe(41,"abpLocalization"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(42,"div",4),i.ɵɵelementStart(43,"input",7),i.ɵɵlistener("ngModelChange",(function(e){var n=t.$implicit;return(null==n?null:n.smtp).useDefaultCredentials=e})),i.ɵɵelementEnd(),i.ɵɵelementStart(44,"label",8),i.ɵɵtext(45),i.ɵɵpipe(46,"abpLocalization"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelement(47,"hr",9),i.ɵɵelementStart(48,"div"),i.ɵɵelementStart(49,"abp-button",10),i.ɵɵlistener("click",(function(){i.ɵɵrestoreView(n);var e=t.$implicit;return i.ɵɵnextContext().submit(e)})),i.ɵɵtext(50),i.ɵɵpipe(51,"abpLocalization"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementContainerEnd()}if(2&e){var l=t.$implicit,a=i.ɵɵnextContext();i.ɵɵadvance(4),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(5,20,"AbpEmailing::DisplayName:Abp.Mailing.DefaultFromAddress")),i.ɵɵadvance(2),i.ɵɵproperty("ngModel",l.defaultFromAddress),i.ɵɵadvance(3),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(10,22,"AbpEmailing::DisplayName:Abp.Mailing.DefaultFromDisplayName")),i.ɵɵadvance(2),i.ɵɵproperty("ngModel",l.defaultFromDisplayName),i.ɵɵadvance(3),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(15,24,"AbpEmailing::DisplayName:Abp.Mailing.Smtp.Host")),i.ɵɵadvance(2),i.ɵɵproperty("ngModel",null==l?null:l.smtp.host),i.ɵɵadvance(3),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(20,26,"AbpEmailing::DisplayName:Abp.Mailing.Smtp.Port")),i.ɵɵadvance(2),i.ɵɵproperty("ngModel",null==l?null:l.smtp.port),i.ɵɵadvance(3),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(25,28,"AbpEmailing::DisplayName:Abp.Mailing.Smtp.UserName")),i.ɵɵadvance(2),i.ɵɵproperty("ngModel",null==l?null:l.smtp.userName),i.ɵɵadvance(3),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(30,30,"AbpEmailing::DisplayName:Abp.Mailing.Smtp.Password")),i.ɵɵadvance(2),i.ɵɵproperty("ngModel",null==l?null:l.smtp.password),i.ɵɵadvance(3),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(35,32,"AbpEmailing::DisplayName:Abp.Mailing.Smtp.Domain")),i.ɵɵadvance(2),i.ɵɵproperty("ngModel",null==l?null:l.smtp.domain),i.ɵɵadvance(2),i.ɵɵproperty("ngModel",null==l?null:l.smtp.enableSsl),i.ɵɵadvance(2),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(41,34,"AbpEmailing::DisplayName:Abp.Mailing.Smtp.EnableSsl")),i.ɵɵadvance(3),i.ɵɵproperty("ngModel",null==l?null:l.smtp.useDefaultCredentials),i.ɵɵadvance(2),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(46,36,"AbpEmailing::DisplayName:Abp.Mailing.Smtp.UseDefaultCredentials")),i.ɵɵadvance(4),i.ɵɵproperty("loading",a.loading),i.ɵɵadvance(1),i.ɵɵtextInterpolate(i.ɵɵpipeBind1(51,38,"AbpAccount::Save"))}}var s=function(){function e(e,t,n,i,a){this.injector=e,this.cdr=t,this.toaster=n,this.configState=i,this.appConfigService=a,this.service=this.injector.get(l.Fs.Abp.Emailing.EmailingApiService),this.settings$=this.service.getByEmailSettingsGet({})}return Object.defineProperty(e.prototype,"loading",{get:function(){return this._loading},set:function(e){this._loading=e,this.cdr.markForCheck()},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){},e.prototype.submit=function(e){var t=this;this.loading=!0,this.service.updateByEmailSettingsAndProviderNameAndProviderKey(e).pipe(a.finalize((function(){return t.loading=!1}))).subscribe((function(){t.toaster.success("AbpSettingManagement::SuccessfullySaved",null),t.appConfigService.get().subscribe((function(e){return t.configState.setState(e)}))}))},e}();s.ɵfac=function(e){return new(e||s)(i.ɵɵdirectiveInject(i.Injector),i.ɵɵdirectiveInject(i.ChangeDetectorRef),i.ɵɵdirectiveInject(n.ToasterService),i.ɵɵdirectiveInject(t.ConfigStateService),i.ɵɵdirectiveInject(t.AbpApplicationConfigurationService))},s.ɵcmp=i.ɵɵdefineComponent({type:s,selectors:[["lib-emailing-settings"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"keyup.enter"],[1,"form-group"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"custom-checkbox","custom-control","mb-2"],["type","checkbox","id","EnableSsl","name","EnableSsl",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","EnableSsl",1,"custom-control-label"],["type","checkbox","id","UseDefaultCredentials","name","UseDefaultCredentials",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","UseDefaultCredentials",1,"custom-control-label"],[1,"my-4"],["iconClass","fa fa-save",3,"loading","click"]],template:function(e,t){1&e&&(i.ɵɵtemplate(0,p,52,40,"ng-container",0),i.ɵɵpipe(1,"async")),2&e&&i.ɵɵproperty("ngIf",i.ɵɵpipeBind1(1,1,t.settings$))},directives:[r.NgIf,o.DefaultValueAccessor,o.NgControlStatus,o.NgModel,o.CheckboxControlValueAccessor,n.ButtonComponent],pipes:[r.AsyncPipe,t.LocalizationPipe],encapsulation:2}),("undefined"==typeof ngDevMode||ngDevMode)&&i.ɵsetClassMetadata(s,[{type:i.Component,args:[{selector:"lib-emailing-settings",templateUrl:"./emailing-settings.component.html"}]}],(function(){return[{type:i.Injector},{type:i.ChangeDetectorRef},{type:n.ToasterService},{type:t.ConfigStateService},{type:t.AbpApplicationConfigurationService}]}),null);var d=[{provide:i.APP_INITIALIZER,useFactory:m,deps:[t.SettingTabsService],multi:!0}];function m(e){return function(){e.add([{name:"AbpEmailing::Menu:Emailing",order:3,requiredPolicy:"AbpEmailing.SettingManagement",component:s}])}}var c=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[d]}},e}();c.ɵfac=function(e){return new(e||c)},c.ɵmod=i.ɵɵdefineNgModule({type:c}),c.ɵinj=i.ɵɵdefineInjector({imports:[[t.CoreModule,n.ThemeSharedModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.ɵɵsetNgModuleScope(c,{declarations:[s],imports:[t.CoreModule,n.ThemeSharedModule]}),("undefined"==typeof ngDevMode||ngDevMode)&&i.ɵsetClassMetadata(c,[{type:i.NgModule,args:[{imports:[t.CoreModule,n.ThemeSharedModule],declarations:[s]}]}],null,null);var u=[{provide:i.APP_INITIALIZER,useFactory:g,deps:[t.RoutesService],multi:!0}];function g(e){return function(){e.add([{path:"/emailing",name:"Emailing",iconClass:"fas fa-book",layout:"application",order:3}])}}e.EMAILING_ROUTE_PROVIDERS=u,e.EMAILING_SETTING_TAB_PROVIDERS=d,e.EmailingConfigModule=c,e.configureRoutes=g,e.configureSettingTabs=m,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=fs-tw-emailing-config.umd.min.js.map