{"version":3,"file":"main.component.js","sourceRoot":"../../../../../libs/crm/ng-alain/src/","sources":["lib/counseling-record/main/main.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ListService } from '@abp/ng.core';\r\nimport { Store } from '@ngxs/store';\r\nimport { STModule, STComponent, STColumn, STColumnBadge } from '@delon/abc/st';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\nimport * as _ from 'lodash';\r\nimport { ConsultationRecordsApiService } from '@fs-tw/crm/proxy';\r\nconst BADGE: STColumnBadge = {\r\n  'true': { text: ' 是', color: 'success' },\r\n  'false': { text: '否', color: 'error' },\r\n};\r\n@Component({\r\n  templateUrl: './main.component.html',\r\n  styleUrls: ['./main.component.less'],\r\n  providers:[ListService]\r\n})\r\nexport class MainComponent implements OnInit {\r\n \r\n  @ViewChild('st', { static: false }) private st: STComponent;\r\n  columns: STColumn[] = [\r\n    {title: '計畫編碼', index: 'counselingDate'},\r\n    {title: '客戶編碼', index: 'counselingDate'},\r\n    {title: '客戶名稱', index: 'customerId'},\r\n    {title: '業師電話', index: 'phone'},\r\n    {title: '輔導日期', index: 'counselingDate',type: 'date',dateFormat:'yyyy-MM-dd'},\r\n    {title:'輔導狀況',index:'counselingStatus'},\r\n    {title: '照片繳回', index: 'hasReturnPhoto' ,type: 'badge', badge: BADGE},\r\n    {title: '紀錄表繳回', index: 'hasReturnForm',type: 'badge', badge: BADGE },\r\n    {title: '企業滿意度表', index: 'hasReturnSatisfactionSurvey',type: 'badge', badge: BADGE },\r\n    {title: '領據', index: 'hasReturnReceipt' ,type: 'badge', badge: BADGE},\r\n    {title:'輔導費用',index:'cost'},\r\n    {title:'匯款日期',index:'remittanceDate', type: 'date',dateFormat:'yyyy-MM-dd'}\r\n  ];\r\n\r\n  datas = [];\r\n  count = 0;\r\n\r\n\r\n\r\n  constructor(\r\n    public readonly list: ListService,\r\n    private consultationRecordService: ConsultationRecordsApiService,\r\n    private store: Store,\r\n    private modalService: NzModalService,\r\n  ) {\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n    const consultationRecordStreamCreator = query => this.consultationRecordService.getListByConsultationRecordGetList(query);\r\n\r\n    this.list.hookToQuery(consultationRecordStreamCreator).subscribe(res=>{\r\n      this.datas = res.items;\r\n      this.count = res.totalCount;\r\n    })\r\n\r\n  }\r\n  \r\n\r\n  ngOnDestroy() {\r\n  }\r\n}\r\n"]}